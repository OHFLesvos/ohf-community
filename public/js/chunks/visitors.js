(self.webpackChunk=self.webpackChunk||[]).push([[372],{6301:(t,r,e)=>{"use strict";e.d(r,{Z:()=>l});var n=e(7757),a=e.n(n),i=e(892);function o(t,r,e,n,a,i,o){try{var s=t[i](o),l=s.value}catch(t){return void e(t)}s.done?r(l):Promise.resolve(l).then(n,a)}function s(t){return function(){var r=this,e=arguments;return new Promise((function(n,a){var i=t.apply(r,e);function s(t){o(i,n,a,s,l,"next",t)}function l(t){o(i,n,a,s,l,"throw",t)}s(void 0)}))}}const l={listCurrent:function(t){return s(a().mark((function r(){var e;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=(0,i.BC)("api.visitors.listCurrent",t),r.next=3,i.hi.get(e);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()},checkin:function(t){return s(a().mark((function r(){var e;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=(0,i.BC)("api.visitors.checkin"),r.next=3,i.hi.post(e,t);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()},checkout:function(t){return s(a().mark((function r(){var e;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=(0,i.BC)("api.visitors.checkout",t),r.next=3,i.hi.put(e);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()},checkoutAll:function(){return s(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,i.BC)("api.visitors.checkoutAll"),t.next=3,i.hi.post(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},dailyVisitors:function(){return s(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,i.BC)("api.visitors.dailyVisitors"),t.next=3,i.hi.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},monthlyVisitors:function(){return s(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,i.BC)("api.visitors.monthlyVisitors"),t.next=3,i.hi.get(r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}}},2577:(t,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>s});var n=e(4015),a=e.n(n),i=e(3645),o=e.n(i)()(a());o.push([t.id,'.required-marker legend:after{content:"*";color:red;margin-left:3px}',"",{version:3,sources:["webpack://./resources/js/components/visitors/RegisterVisitorForm.vue"],names:[],mappings:"AA8RA,8BACA,WAAA,CACA,SAAA,CACA,eACA",sourcesContent:['<template>\r\n    <validation-observer\r\n        ref="observer"\r\n        v-slot="{ handleSubmit }"\r\n    >\r\n        <b-form @submit.stop.prevent="handleSubmit(onSubmit)">\r\n            <b-form-row>\r\n                <b-col sm>\r\n                    <validation-provider\r\n                        :name="$t(\'First Name\')"\r\n                        vid="first_name"\r\n                        :rules="{ required: true }"\r\n                        v-slot="validationContext"\r\n                    >\r\n                        <b-form-group\r\n                            :label="$t(\'First Name\')"\r\n                            :state="getValidationState(validationContext)"\r\n                            :invalid-feedback="validationContext.errors[0]"\r\n                            class="required-marker"\r\n                        >\r\n                            <b-form-input\r\n                                v-model="formData.first_name"\r\n                                trim\r\n                                ref="firstNameInput"\r\n                                autocomplete="off"\r\n                                :state="getValidationState(validationContext)"\r\n                                :disabled="isDisabled"\r\n                            />\r\n                        </b-form-group>\r\n                    </validation-provider>\r\n                </b-col>\r\n                <b-col sm>\r\n                    <validation-provider\r\n                        :name="$t(\'Last Name\')"\r\n                        vid="last_name"\r\n                        :rules="{ required: true }"\r\n                        v-slot="validationContext"\r\n                    >\r\n                        <b-form-group\r\n                            :label="$t(\'Last Name\')"\r\n                            :state="getValidationState(validationContext)"\r\n                            :invalid-feedback="validationContext.errors[0]"\r\n                            class="required-marker"\r\n                        >\r\n                            <b-form-input\r\n                                v-model="formData.last_name"\r\n                                trim\r\n                                autocomplete="off"\r\n                                :state="getValidationState(validationContext)"\r\n                                :disabled="isDisabled"\r\n                            />\r\n                        </b-form-group>\r\n                    </validation-provider>\r\n                </b-col>\r\n            </b-form-row>\r\n            <b-form-row>\r\n                <b-col cols="auto" class="pr-3">\r\n                    <b-form-group :label="$t(\'Type\')">\r\n                        <b-form-radio-group\r\n                            v-model="formData.type"\r\n                            :options="types"\r\n                            stacked\r\n                            @change="changeType"\r\n                        />\r\n                    </b-form-group>\r\n                </b-col>\r\n                <b-col\r\n                  v-if="formData.type == \'visitor\'"\r\n                  sm\r\n                >\r\n                    <validation-provider\r\n                        :name="$t(\'ID Number\')"\r\n                        vid="id_number"\r\n                        :rules="{ }"\r\n                        v-slot="validationContext"\r\n                    >\r\n                        <b-form-group\r\n                            :label="$t(\'ID Number\')"\r\n                            :state="getValidationState(validationContext)"\r\n                            :invalid-feedback="validationContext.errors[0]"\r\n                        >\r\n                            <b-form-input\r\n                                ref="idNumberInput"\r\n                                v-model="formData.id_number"\r\n                                trim\r\n                                autocomplete="off"\r\n                                :state="getValidationState(validationContext)"\r\n                                :disabled="isDisabled"\r\n                            />\r\n                        </b-form-group>\r\n                    </validation-provider>\r\n                </b-col>\r\n                <b-col\r\n                  v-if="formData.type == \'visitor\'"\r\n                  sm\r\n                >\r\n                    <validation-provider\r\n                        :name="$t(\'Place of residence\')"\r\n                        vid="place_of_residence"\r\n                        :rules="{ }"\r\n                        v-slot="validationContext"\r\n                    >\r\n                        <b-form-group\r\n                            :label="$t(\'Place of residence\')"\r\n                            :state="getValidationState(validationContext)"\r\n                            :invalid-feedback="validationContext.errors[0]"\r\n                        >\r\n                            <b-form-input\r\n                                v-model="formData.place_of_residence"\r\n                                trim\r\n                                autocomplete="off"\r\n                                :state="getValidationState(validationContext)"\r\n                                :disabled="isDisabled"\r\n                            />\r\n                        </b-form-group>\r\n                    </validation-provider>\r\n                </b-col>\r\n                <b-col\r\n                  v-if="formData.type == \'participant\'"\r\n                  sm\r\n                >\r\n                    <validation-provider\r\n                        :name="$t(\'Activity / Program\')"\r\n                        vid="activity"\r\n                        :rules="{ }"\r\n                        v-slot="validationContext"\r\n                    >\r\n                        <b-form-group\r\n                            :label="$t(\'Activity / Program\')"\r\n                            :state="getValidationState(validationContext)"\r\n                            :invalid-feedback="validationContext.errors[0]"\r\n                        >\r\n                            <b-form-input\r\n                                ref="activityInput"\r\n                                v-model="formData.activity"\r\n                                trim\r\n                                autocomplete="off"\r\n                                :state="getValidationState(validationContext)"\r\n                                :disabled="isDisabled"\r\n                            />\r\n                        </b-form-group>\r\n                    </validation-provider>\r\n                </b-col>\r\n                <b-col\r\n                  v-if="formData.type == \'staff\' || formData.type == \'external\'"\r\n                  sm\r\n                >\r\n                    <validation-provider\r\n                        :name="$t(\'Organization\')"\r\n                        vid="organization"\r\n                        :rules="{ }"\r\n                        v-slot="validationContext"\r\n                    >\r\n                        <b-form-group\r\n                            :label="$t(\'Organization\')"\r\n                            :state="getValidationState(validationContext)"\r\n                            :invalid-feedback="validationContext.errors[0]"\r\n                        >\r\n                            <b-form-input\r\n                                ref="organizationInput"\r\n                                v-model="formData.organization"\r\n                                trim\r\n                                autocomplete="off"\r\n                                :state="getValidationState(validationContext)"\r\n                                :disabled="isDisabled"\r\n                            />\r\n                        </b-form-group>\r\n                    </validation-provider>\r\n                </b-col>\r\n            </b-form-row>\r\n            <p>\r\n                <b-button\r\n                    variant="primary"\r\n                    type="submit"\r\n                    :disabled="isDisabled"\r\n                >\r\n                    <font-awesome-icon icon="check" />\r\n                    {{ $t(\'Register\') }}\r\n                </b-button>\r\n                <b-button\r\n                    variant="secondary"\r\n                    type="button"\r\n                    :disabled="isDisabled"\r\n                    @click="reset"\r\n                >\r\n                    <font-awesome-icon icon="eraser" />\r\n                    {{ $t(\'Reset\') }}\r\n                </b-button>\r\n            </p>\r\n        </b-form>\r\n    </validation-observer>\r\n</template>\r\n\r\n<script>\r\nimport formInputMixin from \'@/mixins/formInputMixin\'\r\nexport default {\r\n    props: {\r\n        disabled: Boolean,\r\n    },\r\n    mixins: [ formInputMixin ],\r\n    data () {\r\n        return {\r\n            formData: this.initialFormData(),\r\n            types: [\r\n                { value: \'visitor\', text: this.$t(\'Visitor\') },\r\n                { value: \'participant\', text: this.$t(\'Participant\') },\r\n                { value: \'staff\', text: this.$t(\'Volunteer / Staff\') },\r\n                { value: \'external\', text: this.$t(\'External visitor\') },\r\n            ]\r\n        }\r\n    },\r\n    computed: {\r\n        isDisabled () {\r\n            return this.disabled\r\n        }\r\n    },\r\n    watch: {\r\n        disabled (val, oldVal) {\r\n            if (!val && oldVal) {\r\n                this.$nextTick(() => this.selectFirstName())\r\n            }\r\n        }\r\n    },\r\n    mounted () {\r\n        this.focus()\r\n    },\r\n    methods: {\r\n        submit () {\r\n            this.$refs.observer.validate()\r\n                .then(valid => {\r\n                    if (valid) {\r\n                        this.onSubmit()\r\n                    }\r\n                })\r\n        },\r\n        onSubmit () {\r\n            if (this.formData.type == \'visitor\') {\r\n                this.formData.activity = \'\'\r\n                this.formData.organization = \'\'\r\n            } else if (this.formData.type == \'participant\') {\r\n                this.formData.id_number = \'\'\r\n                this.formData.place_of_residence = \'\'\r\n                this.formData.organization = \'\'\r\n            } else if (this.formData.type == \'staff\' || this.formData.type == \'external\') {\r\n                this.formData.id_number = \'\'\r\n                this.formData.place_of_residence = \'\'\r\n                this.formData.activity = \'\'\r\n            }\r\n            this.$emit(\'submit\', this.formData)\r\n        },\r\n        reset () {\r\n            this.formData = this.initialFormData()\r\n            this.$refs.observer.reset()\r\n            this.focus()\r\n        },\r\n        initialFormData () {\r\n            return {\r\n                first_name: \'\',\r\n                last_name: \'\',\r\n                type: \'visitor\',\r\n                id_number: \'\',\r\n                place_of_residence: \'\',\r\n                activity: \'\',\r\n                organization: \'\'\r\n            }\r\n        },\r\n        focus () {\r\n            this.$refs.firstNameInput.focus()\r\n        },\r\n        selectFirstName () {\r\n            this.$refs.firstNameInput.select()\r\n        },\r\n        changeType (value) {\r\n            if (value == \'staff\' || value == \'external\') {\r\n                this.$nextTick(() => this.$refs.organizationInput.focus())\r\n            } else if (value == \'participant\') {\r\n                this.$nextTick(() => this.$refs.activityInput.focus())\r\n            } else {\r\n                this.$nextTick(() => this.$refs.idNumberInput.focus())\r\n            }\r\n        }\r\n    }\r\n}\r\n<\/script>\r\n\r\n<style>\r\n    .required-marker legend:after {\r\n        content: \'*\';\r\n        color: red;\r\n        margin-left: 3px;\r\n    }\r\n</style>\r\n'],sourceRoot:""}]);const s=o},137:(t,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>v});var n=e(7757),a=e.n(n),i=e(381),o=e.n(i),s=e(1581),l=e(6301);const c={props:{value:{type:String},hideLabel:Boolean,disabled:Boolean},computed:{modelValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{getValidationState:function(t){var r=t.dirty,e=t.validated,n=t.valid;return r||e?void 0===n?null:n:null},focus:function(){this.$refs.input.focus()}}},u={props:{disabled:Boolean},mixins:[c],data:function(){return{formData:this.initialFormData(),types:[{value:"visitor",text:this.$t("Visitor")},{value:"participant",text:this.$t("Participant")},{value:"staff",text:this.$t("Volunteer / Staff")},{value:"external",text:this.$t("External visitor")}]}},computed:{isDisabled:function(){return this.disabled}},watch:{disabled:function(t,r){var e=this;!t&&r&&this.$nextTick((function(){return e.selectFirstName()}))}},mounted:function(){this.focus()},methods:{submit:function(){var t=this;this.$refs.observer.validate().then((function(r){r&&t.onSubmit()}))},onSubmit:function(){"visitor"==this.formData.type?(this.formData.activity="",this.formData.organization=""):"participant"==this.formData.type?(this.formData.id_number="",this.formData.place_of_residence="",this.formData.organization=""):"staff"!=this.formData.type&&"external"!=this.formData.type||(this.formData.id_number="",this.formData.place_of_residence="",this.formData.activity=""),this.$emit("submit",this.formData)},reset:function(){this.formData=this.initialFormData(),this.$refs.observer.reset(),this.focus()},initialFormData:function(){return{first_name:"",last_name:"",type:"visitor",id_number:"",place_of_residence:"",activity:"",organization:""}},focus:function(){this.$refs.firstNameInput.focus()},selectFirstName:function(){this.$refs.firstNameInput.select()},changeType:function(t){var r=this;"staff"==t||"external"==t?this.$nextTick((function(){return r.$refs.organizationInput.focus()})):"participant"==t?this.$nextTick((function(){return r.$refs.activityInput.focus()})):this.$nextTick((function(){return r.$refs.idNumberInput.focus()}))}}};e(9641);var f=e(1900);function d(t,r,e,n,a,i,o){try{var s=t[i](o),l=s.value}catch(t){return void e(t)}s.done?r(l):Promise.resolve(l).then(n,a)}function m(t){return function(){var r=this,e=arguments;return new Promise((function(n,a){var i=t.apply(r,e);function o(t){d(i,n,a,o,s,"next",t)}function s(t){d(i,n,a,o,s,"throw",t)}o(void 0)}))}}const p={components:{RegisterVisitorForm:(0,f.Z)(u,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(r){var n=r.handleSubmit;return[e("b-form",{on:{submit:function(r){return r.stopPropagation(),r.preventDefault(),n(t.onSubmit)}}},[e("b-form-row",[e("b-col",{attrs:{sm:""}},[e("validation-provider",{attrs:{name:t.$t("First Name"),vid:"first_name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(r){return[e("b-form-group",{staticClass:"required-marker",attrs:{label:t.$t("First Name"),state:t.getValidationState(r),"invalid-feedback":r.errors[0]}},[e("b-form-input",{ref:"firstNameInput",attrs:{trim:"",autocomplete:"off",state:t.getValidationState(r),disabled:t.isDisabled},model:{value:t.formData.first_name,callback:function(r){t.$set(t.formData,"first_name",r)},expression:"formData.first_name"}})],1)]}}],null,!0)})],1),t._v(" "),e("b-col",{attrs:{sm:""}},[e("validation-provider",{attrs:{name:t.$t("Last Name"),vid:"last_name",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(r){return[e("b-form-group",{staticClass:"required-marker",attrs:{label:t.$t("Last Name"),state:t.getValidationState(r),"invalid-feedback":r.errors[0]}},[e("b-form-input",{attrs:{trim:"",autocomplete:"off",state:t.getValidationState(r),disabled:t.isDisabled},model:{value:t.formData.last_name,callback:function(r){t.$set(t.formData,"last_name",r)},expression:"formData.last_name"}})],1)]}}],null,!0)})],1)],1),t._v(" "),e("b-form-row",[e("b-col",{staticClass:"pr-3",attrs:{cols:"auto"}},[e("b-form-group",{attrs:{label:t.$t("Type")}},[e("b-form-radio-group",{attrs:{options:t.types,stacked:""},on:{change:t.changeType},model:{value:t.formData.type,callback:function(r){t.$set(t.formData,"type",r)},expression:"formData.type"}})],1)],1),t._v(" "),"visitor"==t.formData.type?e("b-col",{attrs:{sm:""}},[e("validation-provider",{attrs:{name:t.$t("ID Number"),vid:"id_number",rules:{}},scopedSlots:t._u([{key:"default",fn:function(r){return[e("b-form-group",{attrs:{label:t.$t("ID Number"),state:t.getValidationState(r),"invalid-feedback":r.errors[0]}},[e("b-form-input",{ref:"idNumberInput",attrs:{trim:"",autocomplete:"off",state:t.getValidationState(r),disabled:t.isDisabled},model:{value:t.formData.id_number,callback:function(r){t.$set(t.formData,"id_number",r)},expression:"formData.id_number"}})],1)]}}],null,!0)})],1):t._e(),t._v(" "),"visitor"==t.formData.type?e("b-col",{attrs:{sm:""}},[e("validation-provider",{attrs:{name:t.$t("Place of residence"),vid:"place_of_residence",rules:{}},scopedSlots:t._u([{key:"default",fn:function(r){return[e("b-form-group",{attrs:{label:t.$t("Place of residence"),state:t.getValidationState(r),"invalid-feedback":r.errors[0]}},[e("b-form-input",{attrs:{trim:"",autocomplete:"off",state:t.getValidationState(r),disabled:t.isDisabled},model:{value:t.formData.place_of_residence,callback:function(r){t.$set(t.formData,"place_of_residence",r)},expression:"formData.place_of_residence"}})],1)]}}],null,!0)})],1):t._e(),t._v(" "),"participant"==t.formData.type?e("b-col",{attrs:{sm:""}},[e("validation-provider",{attrs:{name:t.$t("Activity / Program"),vid:"activity",rules:{}},scopedSlots:t._u([{key:"default",fn:function(r){return[e("b-form-group",{attrs:{label:t.$t("Activity / Program"),state:t.getValidationState(r),"invalid-feedback":r.errors[0]}},[e("b-form-input",{ref:"activityInput",attrs:{trim:"",autocomplete:"off",state:t.getValidationState(r),disabled:t.isDisabled},model:{value:t.formData.activity,callback:function(r){t.$set(t.formData,"activity",r)},expression:"formData.activity"}})],1)]}}],null,!0)})],1):t._e(),t._v(" "),"staff"==t.formData.type||"external"==t.formData.type?e("b-col",{attrs:{sm:""}},[e("validation-provider",{attrs:{name:t.$t("Organization"),vid:"organization",rules:{}},scopedSlots:t._u([{key:"default",fn:function(r){return[e("b-form-group",{attrs:{label:t.$t("Organization"),state:t.getValidationState(r),"invalid-feedback":r.errors[0]}},[e("b-form-input",{ref:"organizationInput",attrs:{trim:"",autocomplete:"off",state:t.getValidationState(r),disabled:t.isDisabled},model:{value:t.formData.organization,callback:function(r){t.$set(t.formData,"organization",r)},expression:"formData.organization"}})],1)]}}],null,!0)})],1):t._e()],1),t._v(" "),e("p",[e("b-button",{attrs:{variant:"primary",type:"submit",disabled:t.isDisabled}},[e("font-awesome-icon",{attrs:{icon:"check"}}),t._v("\n                "+t._s(t.$t("Register"))+"\n            ")],1),t._v(" "),e("b-button",{attrs:{variant:"secondary",type:"button",disabled:t.isDisabled},on:{click:t.reset}},[e("font-awesome-icon",{attrs:{icon:"eraser"}}),t._v("\n                "+t._s(t.$t("Reset"))+"\n            ")],1)],1)],1)]}}])})}),[],!1,null,null,null).exports,BaseTable:e(299).Z},data:function(){var t=this;return{isBusy:!1,showRegisterForm:!1,fields:[{key:"last_name",label:this.$t("Last Name"),sortable:!0,tdClass:"align-middle"},{key:"first_name",label:this.$t("First Name"),sortable:!0,tdClass:"align-middle"},{key:"type",label:this.$t("Type"),tdClass:"align-middle",formatter:this.getTypeLabel},{key:"additional_info",label:this.$t("Additional Information"),tdClass:"align-middle",formatter:function(r,e,n){var a=Array();return n.id_number&&a.push("".concat(t.$t("ID Number"),": ").concat(n.id_number)),n.place_of_residence&&a.push("".concat(t.$t("Place of residence"),": ").concat(n.place_of_residence)),n.activity&&a.push("".concat(t.$t("Activity / Program"),": ").concat(n.activity)),n.organization&&a.push("".concat(t.$t("Organization"),": ").concat(n.organization)),a.join(", ")}},{key:"entered_at",label:this.$t("Time"),sortable:!0,sortDirection:"desc",tdClass:"align-middle",formatter:function(t){return o()(t).format("HH:mm")},class:"fit"},{key:"checkout",label:this.$t("Checkout"),class:"fit"}],currentlyVisiting:{}}},computed:{count:function(){return Object.values(this.currentlyVisiting).reduce((function(t,r){return t+r}),0)}},methods:{fetchData:function(t){return m(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",l.Z.listCurrent(t));case 1:case"end":return r.stop()}}),r)})))()},registerVisitor:function(t){var r=this;return m(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isBusy=!0,e.prev=1,e.next=4,l.Z.checkin(t);case 4:(0,s.OV)(r.$t("Checked-in.")),r.isBusy=!1,r.$refs.table.refresh(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),alert(e.t0),r.isBusy=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},checkoutVisitor:function(t){var r=this;return m(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.isBusy=!0,e.prev=1,e.next=4,l.Z.checkout(t);case 4:r.isBusy=!1,(0,s.OV)(r.$t("Checked out.")),r.$refs.table.refresh(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),alert(e.t0),r.isBusy=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},checkoutAll:function(){var t=this;return m(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!confirm(t.$t("Really checkout everyone?"))){r.next=14;break}return t.isBusy=!0,r.prev=2,r.next=5,l.Z.checkoutAll();case 5:t.isBusy=!1,(0,s.OV)(t.$t("Everyone has been checked out.")),t.$refs.table.refresh(),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(2),alert(r.t0),t.isBusy=!1;case 14:case"end":return r.stop()}}),r,null,[[2,10]])})))()},getTypeLabel:function(t){return"visitor"==t?this.$t("Visitor"):"visitors"==t?this.$t("Visitors"):"participant"==t?this.$t("Participant"):"participants"==t?this.$t("Participants"):"staff"==t?this.$t("Volunteer / Staff"):"external"==t?this.$t("External visitor"):t}}};const v=(0,f.Z)(p,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("b-container",{staticClass:"px-0",attrs:{fluid:"md"}},[t.showRegisterForm?e("b-card",{staticClass:"mb-4",attrs:{"body-class":"pb-0","header-class":"d-flex justify-content-between"},scopedSlots:t._u([{key:"header",fn:function(){return[e("span",[t._v(t._s(t.$t("Check-in")))]),t._v(" "),e("b-button",{attrs:{variant:"link",size:"sm"},on:{click:function(r){t.showRegisterForm=!1}}},[e("font-awesome-icon",{attrs:{icon:"times"}})],1)]},proxy:!0}],null,!1,3660364019)},[t._v(" "),e("register-visitor-form",{attrs:{disabled:t.isBusy},on:{submit:t.registerVisitor}})],1):t._e(),t._v(" "),t.showRegisterForm?t._e():e("b-row",{staticClass:"mb-4"},[e("b-col",[e("b-button",{attrs:{variant:"primary"},on:{click:function(r){t.showRegisterForm=!0}}},[e("font-awesome-icon",{attrs:{icon:"sign-in-alt"}}),t._v("\n                "+t._s(t.$t("Check-in"))+"\n            ")],1)],1),t._v(" "),e("b-col",{staticClass:"text-right"},[e("b-dropdown",{staticClass:"d-block d-md-none",attrs:{right:"",text:t.$t("Actions")}},[0!==t.count?e("b-dropdown-item",{on:{click:t.checkoutAll}},[e("font-awesome-icon",{attrs:{icon:"door-closed"}}),t._v("\n                    "+t._s(t.$t("Checkout everyone"))+"\n                ")],1):t._e()],1),t._v(" "),e("span",{staticClass:"d-none d-md-inline"},[0!==t.count?e("b-button",{attrs:{variant:"secondary",disabled:t.isBusy},on:{click:t.checkoutAll}},[e("font-awesome-icon",{attrs:{icon:"door-closed"}}),t._v("\n                    "+t._s(t.$t("Checkout everyone"))+"\n                ")],1):t._e()],1)],1)],1),t._v(" "),e("h3",[t._v(t._s(t.$t("Current Visitors")))]),t._v(" "),e("p",{staticClass:"text-muted"},[t._l(t.currentlyVisiting,(function(r,n){return e("span",{key:n},[t._v("\n            "+t._s(t.getTypeLabel(n))+": "),e("strong",[t._v(t._s(r))]),t._v(",\n        ")])})),t._v("\n        "+t._s(t.$t("Total"))+": "),e("strong",[t._v(t._s(t.count))])],2),t._v(" "),e("base-table",{ref:"table",attrs:{id:"visitors-table",fields:t.fields,"api-method":t.fetchData,"default-sort-by":"entered_at","default-sort-desc":"","empty-text":t.$t("No data registered."),"items-per-page":100},on:{metadata:function(r){t.currentlyVisiting=r.currently_visiting}},scopedSlots:t._u([{key:"cell(checkout)",fn:function(r){return[e("b-button",{attrs:{size:"sm",variant:"primary",disabled:t.isBusy},on:{click:function(e){return t.checkoutVisitor(r.item.id)}}},[e("font-awesome-icon",{attrs:{icon:"sign-out-alt"}}),t._v("\n                "+t._s(t.$t("Checkout"))+"\n            ")],1)]}}])})],1)}),[],!1,null,null,null).exports},9641:(t,r,e)=>{var n=e(2577);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);(0,e(5346).Z)("1bacd74d",n,!0,{})}}]);
//# sourceMappingURL=visitors.js.map