{"version":3,"sources":["webpack:///resources/js/pages/reports/VisitorReportPage.vue","webpack:///./resources/js/pages/reports/VisitorReportPage.vue?8f19","webpack:///./resources/js/pages/reports/VisitorReportPage.vue","webpack:///./resources/js/pages/reports/VisitorReportPage.vue?2702","webpack:///resources/js/pages/reports/LibraryReportPage.vue","webpack:///./resources/js/pages/reports/LibraryReportPage.vue?e8f4","webpack:///./resources/js/pages/reports/LibraryReportPage.vue","webpack:///./resources/js/pages/reports/LibraryReportPage.vue?870c","webpack:///./resources/js/components/ui/SimpleTwoColumnListCard.vue?58da","webpack:///resources/js/components/ui/SimpleTwoColumnListCard.vue","webpack:///./resources/js/components/ui/SimpleTwoColumnListCard.vue","webpack:///./resources/js/components/ui/SimpleTwoColumnListCard.vue?2d1f","webpack:///./resources/js/components/ui/AdvancedTwoColumnListCard.vue?5496","webpack:///resources/js/components/ui/AdvancedTwoColumnListCard.vue","webpack:///./resources/js/components/ui/AdvancedTwoColumnListCard.vue","webpack:///./resources/js/components/ui/AdvancedTwoColumnListCard.vue?7725","webpack:///resources/js/components/charts/ReactiveBarChart.vue","webpack:///./resources/js/components/charts/ReactiveBarChart.vue?1220","webpack:///./resources/js/components/charts/ReactiveBarChart.vue","webpack:///resources/js/components/charts/ReactiveLineChart.vue","webpack:///./resources/js/components/charts/ReactiveLineChart.vue?1885","webpack:///./resources/js/components/charts/ReactiveLineChart.vue","webpack:///resources/js/components/charts/TimeBarChart.vue","webpack:///./resources/js/components/charts/TimeBarChart.vue?66ce","webpack:///./resources/js/components/charts/TimeBarChart.vue","webpack:///./resources/js/components/charts/TimeBarChart.vue?24b4","webpack:///./resources/js/api/fundraising/report.js","webpack:///resources/js/pages/reports/FundraisingReportPage.vue","webpack:///./resources/js/pages/reports/FundraisingReportPage.vue?1aa7","webpack:///./resources/js/pages/reports/FundraisingReportPage.vue","webpack:///./resources/js/pages/reports/FundraisingReportPage.vue?adff","webpack:///./resources/js/router/reports.js","webpack:///./resources/js/app/ReportsApp.vue","webpack:///./resources/js/app/ReportsApp.vue?4315","webpack:///./resources/js/reports.js"],"names":["_vm","this","_h","$createElement","_c","_self","_v","_s","$t","attrs","dailyitemProvider","dailyFields","days","staticClass","slot","monthlyItemProvider","monthlyFields","alert","borrwer_count","borrowers_currently_borrowed_count","borrowers_currently_overdue_count","roundWithDecimals","_e","_l","borrower","idx","key","collapsed_name","age","nationality","gender","quantity","book_count","books_currently_borrowed_count","books_currently_overdue_count","book_lendings_unique_count","percentage","book_lendings_all_count","book_lendings_top","length","book","domProps","truncate","title","author","language","book_languages_undefined_count","count","loading","header","headerAddon","error","item","name","value","items","limit","on","$event","topTen","num","amount","totalAmount","unselectedItemsAmount","asyncError","loaded","style","height","cumulative","tag","chartData","options","getCount","date","url","route","api","get","getCountries","getLanguages","fetchDonorRegistrations","granularity","dateFrom","dateTo","params","from","to","fetchDonationRegistrations","fechCurrencyDistribution","fetchChannelDistribution","model","callback","$$v","dateRange","expression","firstDonorRegistration","countError","countries","countriesError","languages","languagesError","reportApi","donationRegistrations","donationRegistrationsError","Vue","use","VueRouter","mode","base","routes","path","redirect","components","default","VisitorReportPage","LibraryReportPage","FundraisingReportPage","component","NotFoundPage","FontAwesomeIcon","BootstrapVue","mixin","ziggyMixin","config","productionTip","el","router","i18n","ReportsApp"],"mappings":"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","file":"/js/reports.js","sourcesContent":["<template>\r\n    <div>\r\n        <h3>{{ $t('visitors.visitors_by_day') }}</h3>\r\n        <b-table\r\n            :items=\"dailyitemProvider\"\r\n            :fields=\"dailyFields\"\r\n            hover\r\n            responsive\r\n            :show-empty=\"true\"\r\n            :empty-text=\"$t('app.no_data_registered')\"\r\n            :caption=\"$t('app.showing_latest_n_active_days', { days: 30 })\"\r\n            tbody-class=\"bg-white\"\r\n            thead-class=\"bg-white\"\r\n        >\r\n            <div slot=\"table-busy\" class=\"text-center my-2\">\r\n                <b-spinner class=\"align-middle\"></b-spinner>\r\n                <strong>{{ $t('app.loading') }}</strong>\r\n            </div>\r\n        </b-table>\r\n\r\n        <h3>{{ $t('visitors.visitors_by_month') }}</h3>\r\n        <b-table\r\n            :items=\"monthlyItemProvider\"\r\n            :fields=\"monthlyFields\"\r\n            hover\r\n            responsive\r\n            :show-empty=\"true\"\r\n            :empty-text=\"$t('app.no_data_registered')\"\r\n            class=\"bg-white\"\r\n        >\r\n            <div slot=\"table-busy\" class=\"text-center my-2\">\r\n                <b-spinner class=\"align-middle\"></b-spinner>\r\n                <strong>{{ $t('app.loading') }}</strong>\r\n            </div>\r\n        </b-table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport visitorsApi from '@/api/visitors'\r\nexport default {\r\n    components: {\r\n    },\r\n    data () {\r\n        return {\r\n            dailyFields: [\r\n                {\r\n                    key: 'day',\r\n                    label: this.$t('app.date')\r\n                },\r\n                {\r\n                    key: 'visitors',\r\n                    label: this.$t('visitors.visitors'),\r\n                    class: 'text-right'\r\n                },\r\n                {\r\n                    key: 'participants',\r\n                    label: this.$t('visitors.participants'),\r\n                    class: 'text-right'\r\n                },\r\n                {\r\n                    key: 'staff',\r\n                    label: this.$t('visitors.volunteers_staff'),\r\n                    class: 'text-right'\r\n                },\r\n                {\r\n                    key: 'external',\r\n                    label: this.$t('visitors.external_visitors'),\r\n                    class: 'text-right'\r\n                },\r\n                {\r\n                    key: 'total',\r\n                    label: this.$t('app.total'),\r\n                    class: 'text-right'\r\n                },\r\n            ],\r\n            monthlyFields: [\r\n                {\r\n                    key: 'date',\r\n                    label: this.$t('app.date'),\r\n                    formatter: (value, key, item) => {\r\n                        return moment({ year: item.year, month: item.month - 1 }).format('MMMM YYYY')\r\n                    }\r\n                },\r\n                {\r\n                    key: 'visitors',\r\n                    label: this.$t('visitors.visitors'),\r\n                    class: 'text-right'\r\n                },\r\n                {\r\n                    key: 'participants',\r\n                    label: this.$t('visitors.participants'),\r\n                    class: 'text-right'\r\n                },\r\n                {\r\n                    key: 'staff',\r\n                    label: this.$t('visitors.volunteers_staff'),\r\n                    class: 'text-right'\r\n                },\r\n                {\r\n                    key: 'external',\r\n                    label: this.$t('visitors.external_visitors'),\r\n                    class: 'text-right'\r\n                },\r\n                {\r\n                    key: 'total',\r\n                    label: this.$t('app.total'),\r\n                    class: 'text-right'\r\n                },\r\n            ]\r\n        }\r\n    },\r\n    methods: {\r\n        async dailyitemProvider(ctx) {\r\n            let data = await visitorsApi.dailyVisitors()\r\n            return data || []\r\n        },\r\n        async monthlyItemProvider(ctx) {\r\n            let data = await visitorsApi.monthlyVisitors()\r\n            return data || []\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisitorReportPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VisitorReportPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VisitorReportPage.vue?vue&type=template&id=cf543802&\"\nimport script from \"./VisitorReportPage.vue?vue&type=script&lang=js&\"\nexport * from \"./VisitorReportPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(_vm._s(_vm.$t('visitors.visitors_by_day')))]),_vm._v(\" \"),_c('b-table',{attrs:{\"items\":_vm.dailyitemProvider,\"fields\":_vm.dailyFields,\"hover\":\"\",\"responsive\":\"\",\"show-empty\":true,\"empty-text\":_vm.$t('app.no_data_registered'),\"caption\":_vm.$t('app.showing_latest_n_active_days', { days: 30 }),\"tbody-class\":\"bg-white\",\"thead-class\":\"bg-white\"}},[_c('div',{staticClass:\"text-center my-2\",attrs:{\"slot\":\"table-busy\"},slot:\"table-busy\"},[_c('b-spinner',{staticClass:\"align-middle\"}),_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm.$t('app.loading')))])],1)]),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.$t('visitors.visitors_by_month')))]),_vm._v(\" \"),_c('b-table',{staticClass:\"bg-white\",attrs:{\"items\":_vm.monthlyItemProvider,\"fields\":_vm.monthlyFields,\"hover\":\"\",\"responsive\":\"\",\"show-empty\":true,\"empty-text\":_vm.$t('app.no_data_registered')}},[_c('div',{staticClass:\"text-center my-2\",attrs:{\"slot\":\"table-busy\"},slot:\"table-busy\"},[_c('b-spinner',{staticClass:\"align-middle\"}),_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm.$t('app.loading')))])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-row v-if=\"loaded\">\r\n        <b-col md>\r\n\r\n            <h2>\r\n                {{ $t('library.borrowers') }}\r\n                <small>{{ borrwer_count }}</small>\r\n            </h2>\r\n\r\n            <template v-if=\"borrwer_count > 0\">\r\n\r\n                <p>\r\n                    <strong>{{ $t('library.currently_borrowing') }}:</strong>\r\n                    {{ borrowers_currently_borrowed_count }}\r\n                    <template v-if=\"borrowers_currently_borrowed_count > 0\">\r\n                        <strong>{{ $t('library.have_overdue_books') }}:</strong>\r\n                        {{ borrowers_currently_overdue_count }}\r\n                        ({{ roundWithDecimals(borrowers_currently_overdue_count / borrowers_currently_borrowed_count * 100, 1) }} %)\r\n                    </template>\r\n                </p>\r\n\r\n                <!-- Popular -->\r\n                <b-card\r\n                    :header=\"$t('app.regulars')\"\r\n                    no-body\r\n                    class=\"shadow-sm mb-4\">\r\n                    <b-table-simple\r\n                        hover\r\n                        responsive\r\n                        class=\"bg-white mb-0\">\r\n                        <b-thead>\r\n                            <b-tr>\r\n                                <b-th>{{ $t('app.title') }}</b-th>\r\n                                <b-th>{{ $t('people.age') }}</b-th>\r\n                                <b-th>{{ $t('people.nationality') }}</b-th>\r\n                                <b-th class=\"text-center\">{{ $t('people.gender') }}</b-th>\r\n                                <b-th class=\"text-right\">{{ $t('library.lendings') }}</b-th>\r\n                            </b-tr>\r\n                        </b-thead>\r\n                        <b-tbody>\r\n                            <b-tr v-for=\"(borrower, idx) in borrwer_lendings_top\" :key=\"idx\">\r\n                                <b-td>\r\n                                    {{ borrower.collapsed_name }}\r\n                                </b-td>\r\n                                <b-td>{{ borrower.age }}</b-td>\r\n                                <b-td>{{ borrower.nationality }}</b-td>\r\n                                <b-td class=\"text-center\">\r\n                                        <gender-label\r\n                                            :value=\"borrower.gender\"\r\n                                            icon-only\r\n                                        />\r\n                                </b-td>\r\n                                <b-td class=\"text-right\">\r\n                                    {{ borrower.quantity }}\r\n                                </b-td>\r\n                            </b-tr>\r\n                        </b-tbody>\r\n                    </b-table-simple>\r\n                </b-card>\r\n\r\n                <!-- Nationalities -->\r\n                <b-card\r\n                    :header=\"$t('people.nationalities')\"\r\n                    no-body\r\n                    class=\"shadow-sm mb-4\">\r\n                    <b-table-simple\r\n                        hover\r\n                        responsive\r\n                        class=\"bg-white mb-0\">\r\n                        <b-thead>\r\n                            <b-tr>\r\n                                <b-th>{{ $t('app.country') }}</b-th>\r\n                                <b-th class=\"text-right\">{{ $t('app.quantity') }}</b-th>\r\n                                <b-th class=\"text-right\">{{ $t('app.percentage') }}</b-th>\r\n                            </b-tr>\r\n                        </b-thead>\r\n                        <b-tbody>\r\n                            <b-tr v-for=\"nationality in borrwer_nationalities\" :key=\"nationality.nationality\">\r\n                                <b-td>{{ nationality.nationality ? nationality.nationality : $t('app.unspecified') }}</b-td>\r\n                                <b-td class=\"text-right\">{{ nationality.quantity }}</b-td>\r\n                                <b-td class=\"text-right\">{{ roundWithDecimals(nationality.quantity / borrwer_count * 100, 1) }} %</b-td>\r\n                            </b-tr>\r\n                        </b-tbody>\r\n                    </b-table-simple>\r\n                </b-card>\r\n\r\n                <!-- Genders -->\r\n                <b-card\r\n                    :header=\"$t('people.gender')\"\r\n                    no-body\r\n                    class=\"shadow-sm mb-4\">\r\n                    <b-table-simple\r\n                        hover\r\n                        responsive\r\n                        class=\"bg-white mb-0\">\r\n                        <b-thead>\r\n                            <b-tr>\r\n                                <b-th>{{ $t('people.gender') }}</b-th>\r\n                                <b-th class=\"text-right\">{{ $t('app.quantity') }}</b-th>\r\n                                <b-th class=\"text-right\">{{ $t('app.percentage') }}</b-th>\r\n                            </b-tr>\r\n                        </b-thead>\r\n                        <b-tbody>\r\n                            <b-tr v-for=\"gender in borrwer_genders\" :key=\"gender.gender\">\r\n                                <b-td>\r\n                                    <gender-label\r\n                                        :value=\"gender.gender\"\r\n                                        icon-only\r\n                                    />\r\n                                </b-td>\r\n                                <b-td class=\"text-right\">{{ gender.quantity }}</b-td>\r\n                                <b-td class=\"text-right\">{{ roundWithDecimals(gender.quantity / borrwer_count * 100, 1) }} %</b-td>\r\n                            </b-tr>\r\n                        </b-tbody>\r\n                    </b-table-simple>\r\n                </b-card>\r\n\r\n            </template>\r\n\r\n        </b-col>\r\n        <b-col md>\r\n\r\n            <h2>\r\n                {{ $t('library.books') }}\r\n                <small>{{ book_count }}</small>\r\n            </h2>\r\n\r\n            <p>\r\n                <strong>{{ $t('library.currently_borrowed') }}:</strong> {{ books_currently_borrowed_count }}\r\n                <template v-if=\"books_currently_borrowed_count > 0\">\r\n                    <strong>{{ $t('library.overdue') }}:</strong>\r\n                    {{ books_currently_overdue_count }}\r\n                    ({{ roundWithDecimals(books_currently_overdue_count / books_currently_borrowed_count * 100, 1) }} %)\r\n                </template>\r\n                <br>\r\n                <strong>{{ $t('library.books_lent') }}:</strong>\r\n                {{ book_lendings_unique_count }} ({{ $t('library.percentage_of_all_books', {\r\n                    percentage: roundWithDecimals(book_lendings_unique_count / book_count * 100, 1)\r\n                }) }})<br>\r\n                <strong>{{ $t('library.number_of_times_book_lent') }}:</strong>\r\n                {{ book_lendings_all_count }}\r\n            </p>\r\n\r\n            <!-- Popular -->\r\n            <template v-if=\"book_lendings_top.length > 0\">\r\n                <b-card\r\n                    :header=\"$t('app.popular')\"\r\n                    no-body\r\n                    class=\"shadow-sm mb-4\">\r\n                    <b-table-simple\r\n                        hover\r\n                        responsive\r\n                        class=\"bg-white mb-0\">\r\n                        <b-thead>\r\n                            <b-tr>\r\n                                <b-th>{{ $t('app.title') }}</b-th>\r\n                                <b-th>{{ $t('library.author') }}</b-th>\r\n                                <b-th>{{ $t('app.language') }}</b-th>\r\n                                <b-th class=\"text-right\"># {{ $t('library.lendings') }}</b-th>\r\n                            </b-tr>\r\n                        </b-thead>\r\n                        <b-tbody>\r\n                            <b-tr v-for=\"(book, idx) in book_lendings_top\" :key=\"idx\">\r\n                                <b-td v-html=\"truncate(book.title, 40)\"></b-td>\r\n                                <b-td v-html=\"truncate(book.author, 40)\"></b-td>\r\n                                <b-td>{{ book.language }}</b-td>\r\n                                <b-td class=\"text-right\">{{ book.quantity }}</b-td>\r\n                            </b-tr>\r\n                        </b-tbody>\r\n                    </b-table-simple>\r\n                </b-card>\r\n            </template>\r\n\r\n            <!-- Languages -->\r\n            <template v-if=\"book_count > 0\">\r\n                <p v-if=\"book_languages_undefined_count > 0\">\r\n                    <em>{{ $t('library.books_without_language_specified', {\r\n                        count: book_languages_undefined_count,\r\n                        percentage: roundWithDecimals(book_languages_undefined_count / book_count * 100, 1)\r\n                    }) }}</em>\r\n                </p>\r\n                <b-card\r\n                    :header=\"$t('app.languages')\"\r\n                    no-body\r\n                    class=\"shadow-sm mb-4\">\r\n                    <b-table-simple\r\n                        hover\r\n                        responsive\r\n                        class=\"bg-white mb-0\">\r\n                        <b-thead>\r\n                            <b-tr>\r\n                                <b-th>{{ $t('app.language') }}</b-th>\r\n                                <b-th class=\"text-right\">{{ $t('app.quantity') }}</b-th>\r\n                                <b-th class=\"text-right\">{{ $t('app.percentage') }}</b-th>\r\n                            </b-tr>\r\n                        </b-thead>\r\n                        <b-tbody>\r\n                            <b-tr v-for=\"language in book_languages_defined\" :key=\"language.language\">\r\n                                <b-td>{{ language.language ? language.language : $t('app.unspecified') }}</b-td>\r\n                                <b-td class=\"text-right\">{{ language.quantity }}</b-td>\r\n                                <b-td class=\"text-right\">{{ roundWithDecimals(language.quantity / (book_count - book_languages_undefined_count) * 100, 1) }} %</b-td>\r\n                            </b-tr>\r\n                        </b-tbody>\r\n                    </b-table-simple>\r\n                </b-card>\r\n\r\n            </template>\r\n\r\n        </b-col>\r\n    </b-row>\r\n    <p v-else>\r\n        {{ $t('app.loading') }}\r\n    </p>\r\n</template>\r\n\r\n<script>\r\nimport libraryApi from '@/api/library'\r\nimport { roundWithDecimals } from '@/utils'\r\nimport GenderLabel from '@/components/people/GenderLabel'\r\nexport default {\r\n    components: {\r\n        GenderLabel\r\n    },\r\n    data () {\r\n        return {\r\n            loaded: false,\r\n            borrwer_count: null,\r\n            borrowers_currently_borrowed_count: null,\r\n            borrowers_currently_overdue_count: null,\r\n            borrwer_lendings_top: null,\r\n            borrwer_nationalities: null,\r\n            borrwer_genders: null,\r\n            book_count: null,\r\n            books_currently_borrowed_count: null,\r\n            books_currently_overdue_count: null,\r\n            book_lendings_unique_count: null,\r\n            book_lendings_all_count: null,\r\n            book_lendings_top: null,\r\n            book_languages: null\r\n        }\r\n    },\r\n    computed: {\r\n        book_languages_defined () {\r\n            return this.book_languages.filter(l => l.language_code != null)\r\n        },\r\n        book_languages_undefined_count () {\r\n            return this.book_languages.filter(l => l.language_code == null).reduce((a, b) => a + b.quantity, 0)\r\n        }\r\n    },\r\n    created () {\r\n        this.loadData()\r\n    },\r\n    methods: {\r\n        async loadData () {\r\n            try {\r\n                let data = await libraryApi.fetchReportData()\r\n                this.borrwer_count = data.borrwer_count\r\n                this.borrowers_currently_borrowed_count = data.borrowers_currently_borrowed_count\r\n                this.borrowers_currently_overdue_count = data.borrowers_currently_overdue_count\r\n                this.borrwer_lendings_top = data.borrwer_lendings_top\r\n                this.borrwer_nationalities = data.borrwer_nationalities\r\n                this.borrwer_genders = data.borrwer_genders\r\n                this.book_count = data.book_count\r\n                this.books_currently_borrowed_count = data.books_currently_borrowed_count\r\n                this.books_currently_overdue_count = data.books_currently_overdue_count\r\n                this.book_lendings_unique_count = data.book_lendings_unique_count\r\n                this.book_lendings_all_count = data.book_lendings_all_count\r\n                this.book_lendings_top = data.book_lendings_top\r\n                this.book_languages = data.book_languages\r\n                this.loaded = true\r\n            } catch (err) {\r\n                alert(err)\r\n            }\r\n        },\r\n        roundWithDecimals,\r\n        truncate (str, n) {\r\n            if (str == null) return null\r\n            return (str.length > n) ? str.substr(0, n-1) + '&hellip;' : str;\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibraryReportPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibraryReportPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LibraryReportPage.vue?vue&type=template&id=b5b5d614&\"\nimport script from \"./LibraryReportPage.vue?vue&type=script&lang=js&\"\nexport * from \"./LibraryReportPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loaded)?_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[_c('h2',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('library.borrowers'))+\"\\n            \"),_c('small',[_vm._v(_vm._s(_vm.borrwer_count))])]),_vm._v(\" \"),(_vm.borrwer_count > 0)?[_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('library.currently_borrowing'))+\":\")]),_vm._v(\"\\n                \"+_vm._s(_vm.borrowers_currently_borrowed_count)+\"\\n                \"),(_vm.borrowers_currently_borrowed_count > 0)?[_c('strong',[_vm._v(_vm._s(_vm.$t('library.have_overdue_books'))+\":\")]),_vm._v(\"\\n                    \"+_vm._s(_vm.borrowers_currently_overdue_count)+\"\\n                    (\"+_vm._s(_vm.roundWithDecimals(_vm.borrowers_currently_overdue_count / _vm.borrowers_currently_borrowed_count * 100, 1))+\" %)\\n                \")]:_vm._e()],2),_vm._v(\" \"),_c('b-card',{staticClass:\"shadow-sm mb-4\",attrs:{\"header\":_vm.$t('app.regulars'),\"no-body\":\"\"}},[_c('b-table-simple',{staticClass:\"bg-white mb-0\",attrs:{\"hover\":\"\",\"responsive\":\"\"}},[_c('b-thead',[_c('b-tr',[_c('b-th',[_vm._v(_vm._s(_vm.$t('app.title')))]),_vm._v(\" \"),_c('b-th',[_vm._v(_vm._s(_vm.$t('people.age')))]),_vm._v(\" \"),_c('b-th',[_vm._v(_vm._s(_vm.$t('people.nationality')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.$t('people.gender')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t('library.lendings')))])],1)],1),_vm._v(\" \"),_c('b-tbody',_vm._l((_vm.borrwer_lendings_top),function(borrower,idx){return _c('b-tr',{key:idx},[_c('b-td',[_vm._v(\"\\n                                \"+_vm._s(borrower.collapsed_name)+\"\\n                            \")]),_vm._v(\" \"),_c('b-td',[_vm._v(_vm._s(borrower.age))]),_vm._v(\" \"),_c('b-td',[_vm._v(_vm._s(borrower.nationality))]),_vm._v(\" \"),_c('b-td',{staticClass:\"text-center\"},[_c('gender-label',{attrs:{\"value\":borrower.gender,\"icon-only\":\"\"}})],1),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(\"\\n                                \"+_vm._s(borrower.quantity)+\"\\n                            \")])],1)}),1)],1)],1),_vm._v(\" \"),_c('b-card',{staticClass:\"shadow-sm mb-4\",attrs:{\"header\":_vm.$t('people.nationalities'),\"no-body\":\"\"}},[_c('b-table-simple',{staticClass:\"bg-white mb-0\",attrs:{\"hover\":\"\",\"responsive\":\"\"}},[_c('b-thead',[_c('b-tr',[_c('b-th',[_vm._v(_vm._s(_vm.$t('app.country')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t('app.quantity')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t('app.percentage')))])],1)],1),_vm._v(\" \"),_c('b-tbody',_vm._l((_vm.borrwer_nationalities),function(nationality){return _c('b-tr',{key:nationality.nationality},[_c('b-td',[_vm._v(_vm._s(nationality.nationality ? nationality.nationality : _vm.$t('app.unspecified')))]),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(_vm._s(nationality.quantity))]),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.roundWithDecimals(nationality.quantity / _vm.borrwer_count * 100, 1))+\" %\")])],1)}),1)],1)],1),_vm._v(\" \"),_c('b-card',{staticClass:\"shadow-sm mb-4\",attrs:{\"header\":_vm.$t('people.gender'),\"no-body\":\"\"}},[_c('b-table-simple',{staticClass:\"bg-white mb-0\",attrs:{\"hover\":\"\",\"responsive\":\"\"}},[_c('b-thead',[_c('b-tr',[_c('b-th',[_vm._v(_vm._s(_vm.$t('people.gender')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t('app.quantity')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t('app.percentage')))])],1)],1),_vm._v(\" \"),_c('b-tbody',_vm._l((_vm.borrwer_genders),function(gender){return _c('b-tr',{key:gender.gender},[_c('b-td',[_c('gender-label',{attrs:{\"value\":gender.gender,\"icon-only\":\"\"}})],1),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(_vm._s(gender.quantity))]),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.roundWithDecimals(gender.quantity / _vm.borrwer_count * 100, 1))+\" %\")])],1)}),1)],1)],1)]:_vm._e()],2),_vm._v(\" \"),_c('b-col',{attrs:{\"md\":\"\"}},[_c('h2',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('library.books'))+\"\\n            \"),_c('small',[_vm._v(_vm._s(_vm.book_count))])]),_vm._v(\" \"),_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('library.currently_borrowed'))+\":\")]),_vm._v(\" \"+_vm._s(_vm.books_currently_borrowed_count)+\"\\n            \"),(_vm.books_currently_borrowed_count > 0)?[_c('strong',[_vm._v(_vm._s(_vm.$t('library.overdue'))+\":\")]),_vm._v(\"\\n                \"+_vm._s(_vm.books_currently_overdue_count)+\"\\n                (\"+_vm._s(_vm.roundWithDecimals(_vm.books_currently_overdue_count / _vm.books_currently_borrowed_count * 100, 1))+\" %)\\n            \")]:_vm._e(),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm.$t('library.books_lent'))+\":\")]),_vm._v(\"\\n            \"+_vm._s(_vm.book_lendings_unique_count)+\" (\"+_vm._s(_vm.$t('library.percentage_of_all_books', {\n                percentage: _vm.roundWithDecimals(_vm.book_lendings_unique_count / _vm.book_count * 100, 1)\n            }))+\")\"),_c('br'),_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm.$t('library.number_of_times_book_lent'))+\":\")]),_vm._v(\"\\n            \"+_vm._s(_vm.book_lendings_all_count)+\"\\n        \")],2),_vm._v(\" \"),(_vm.book_lendings_top.length > 0)?[_c('b-card',{staticClass:\"shadow-sm mb-4\",attrs:{\"header\":_vm.$t('app.popular'),\"no-body\":\"\"}},[_c('b-table-simple',{staticClass:\"bg-white mb-0\",attrs:{\"hover\":\"\",\"responsive\":\"\"}},[_c('b-thead',[_c('b-tr',[_c('b-th',[_vm._v(_vm._s(_vm.$t('app.title')))]),_vm._v(\" \"),_c('b-th',[_vm._v(_vm._s(_vm.$t('library.author')))]),_vm._v(\" \"),_c('b-th',[_vm._v(_vm._s(_vm.$t('app.language')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(\"# \"+_vm._s(_vm.$t('library.lendings')))])],1)],1),_vm._v(\" \"),_c('b-tbody',_vm._l((_vm.book_lendings_top),function(book,idx){return _c('b-tr',{key:idx},[_c('b-td',{domProps:{\"innerHTML\":_vm._s(_vm.truncate(book.title, 40))}}),_vm._v(\" \"),_c('b-td',{domProps:{\"innerHTML\":_vm._s(_vm.truncate(book.author, 40))}}),_vm._v(\" \"),_c('b-td',[_vm._v(_vm._s(book.language))]),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(_vm._s(book.quantity))])],1)}),1)],1)],1)]:_vm._e(),_vm._v(\" \"),(_vm.book_count > 0)?[(_vm.book_languages_undefined_count > 0)?_c('p',[_c('em',[_vm._v(_vm._s(_vm.$t('library.books_without_language_specified', {\n                    count: _vm.book_languages_undefined_count,\n                    percentage: _vm.roundWithDecimals(_vm.book_languages_undefined_count / _vm.book_count * 100, 1)\n                })))])]):_vm._e(),_vm._v(\" \"),_c('b-card',{staticClass:\"shadow-sm mb-4\",attrs:{\"header\":_vm.$t('app.languages'),\"no-body\":\"\"}},[_c('b-table-simple',{staticClass:\"bg-white mb-0\",attrs:{\"hover\":\"\",\"responsive\":\"\"}},[_c('b-thead',[_c('b-tr',[_c('b-th',[_vm._v(_vm._s(_vm.$t('app.language')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t('app.quantity')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t('app.percentage')))])],1)],1),_vm._v(\" \"),_c('b-tbody',_vm._l((_vm.book_languages_defined),function(language){return _c('b-tr',{key:language.language},[_c('b-td',[_vm._v(_vm._s(language.language ? language.language : _vm.$t('app.unspecified')))]),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(_vm._s(language.quantity))]),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.roundWithDecimals(language.quantity / (_vm.book_count - _vm.book_languages_undefined_count) * 100, 1))+\" %\")])],1)}),1)],1)],1)]:_vm._e()],2)],1):_c('p',[_vm._v(\"\\n    \"+_vm._s(_vm.$t('app.loading'))+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleTwoColumnListCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SimpleTwoColumnListCard.vue?vue&type=script&lang=js&\"","<template>\r\n    <b-card\r\n        :no-body=\"!loading\"\r\n        :header=\"loading ? header : null\"\r\n        class=\"mb-4\"\r\n    >\r\n        <b-card-header\r\n            v-if=\"!loading && header\"\r\n             header-class=\"d-flex justify-content-between align-items-center\"\r\n        >\r\n            <span>{{ header }}</span>\r\n            <small v-if=\"headerAddon\">{{ headerAddon }}</small>\r\n        </b-card-header>\r\n\r\n        <b-card-text v-if=\"error\">\r\n            <em v-if=\"error\" class=\"text-danger\">{{ error }}</em>\r\n        </b-card-text>\r\n        <b-card-text v-else-if=\"loading\">\r\n            <em>{{ $t('app.loading') }}</em>\r\n        </b-card-text>\r\n        <template v-else>\r\n            <b-list-group flush>\r\n                <b-list-group-item\r\n                    v-for=\"item in items\"\r\n                    :key=\"item.name\"\r\n                    class=\"d-flex justify-content-between\"\r\n                >\r\n                    <span>{{ item.name }}</span>\r\n                    <span>{{ item.value }}</span>\r\n                </b-list-group-item>\r\n            </b-list-group>\r\n        </template>\r\n    </b-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        header: {\r\n            type: String\r\n        },\r\n        headerAddon: {\r\n            required: false,\r\n            type: String\r\n        },\r\n        items: {\r\n            required: true,\r\n            type: Array\r\n        },\r\n        loading: Boolean,\r\n        error: {\r\n            required: false,\r\n            type: String\r\n        }\r\n    },\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./SimpleTwoColumnListCard.vue?vue&type=template&id=d1bda7cc&\"\nimport script from \"./SimpleTwoColumnListCard.vue?vue&type=script&lang=js&\"\nexport * from \"./SimpleTwoColumnListCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"mb-4\",attrs:{\"no-body\":!_vm.loading,\"header\":_vm.loading ? _vm.header : null}},[(!_vm.loading && _vm.header)?_c('b-card-header',{attrs:{\"header-class\":\"d-flex justify-content-between align-items-center\"}},[_c('span',[_vm._v(_vm._s(_vm.header))]),_vm._v(\" \"),(_vm.headerAddon)?_c('small',[_vm._v(_vm._s(_vm.headerAddon))]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.error)?_c('b-card-text',[(_vm.error)?_c('em',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.error))]):_vm._e()]):(_vm.loading)?_c('b-card-text',[_c('em',[_vm._v(_vm._s(_vm.$t('app.loading')))])]):[_c('b-list-group',{attrs:{\"flush\":\"\"}},_vm._l((_vm.items),function(item){return _c('b-list-group-item',{key:item.name,staticClass:\"d-flex justify-content-between\"},[_c('span',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.value))])])}),1)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedTwoColumnListCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedTwoColumnListCard.vue?vue&type=script&lang=js&\"","<template>\r\n    <b-card\r\n        :no-body=\"!loading && items.length > 0\"\r\n        :header=\"loading || items.length == 0 ? header : null\"\r\n        class=\"mb-4\"\r\n    >\r\n        <!-- Error -->\r\n        <b-card-text v-if=\"error\">\r\n            <em v-if=\"error\" class=\"text-danger\">{{ error }}</em>\r\n        </b-card-text>\r\n\r\n        <!-- Loading -->\r\n        <b-card-text v-else-if=\"loading\">\r\n            <em>{{ $t('app.loading') }}</em>\r\n        </b-card-text>\r\n\r\n        <!-- No items -->\r\n        <b-card-text v-else-if=\"items.length == 0\">\r\n            <em>{{ $t('app.no_data_registered') }}</em>\r\n        </b-card-text>\r\n\r\n        <template v-else>\r\n            <!-- Interactive card header -->\r\n            <b-card-header header-class=\"d-flex justify-content-between\">\r\n                <span>{{ header }}</span>\r\n                <a\r\n                    v-if=\"items.length > this.limit\"\r\n                    href=\"javascript:;\"\r\n                    @click=\"topTen = !topTen\"\r\n                >\r\n                    {{ topTen ? $t('app.show_all_x', { num: items.length }) : $t('app.shop_top_x', { num: limit }) }}\r\n                </a>\r\n            </b-card-header>\r\n            <b-list-group flush>\r\n\r\n                <!-- Items -->\r\n                <b-list-group-item\r\n                    v-for=\"item in selectedItems\"\r\n                    :key=\"item.name\"\r\n                    class=\"d-flex justify-content-between align-items-center\"\r\n                >\r\n                    <span>{{ item.name }}</span>\r\n                    <span>\r\n                        {{ item.amount }} &nbsp;\r\n                        <small class=\"text-muted\">{{ roundWithDecimals(item.amount / totalAmount * 100, 1) }}%</small>\r\n                    </span>\r\n                </b-list-group-item>\r\n\r\n                <!-- Show other itmes -->\r\n                <b-list-group-item\r\n                    v-if=\"topTen && items.length > limit\"\r\n                    class=\"d-flex justify-content-between align-items-center\"\r\n                    href=\"javascript:;\"\r\n                    @click=\"topTen = !topTen\"\r\n                >\r\n                    <em>{{ $t('app.others') }}</em>\r\n                    <span>\r\n                        {{ unselectedItemsAmount }} &nbsp;\r\n                        <small class=\"text-muted\">{{ roundWithDecimals(unselectedItemsAmount / totalAmount * 100, 1) }}%</small>\r\n                    </span>\r\n                </b-list-group-item>\r\n\r\n            </b-list-group>\r\n        </template>\r\n    </b-card>\r\n</template>\r\n\r\n<script>\r\nimport numberFormatMixin from '@/mixins/numberFormatMixin'\r\nexport default {\r\n    mixins: [\r\n        numberFormatMixin\r\n    ],\r\n    props: {\r\n        header: {\r\n            required: true,\r\n            type: String\r\n        },\r\n        items: {\r\n            required: true,\r\n            type: Array\r\n        },\r\n        limit: {\r\n            requireD: false,\r\n            type: Number,\r\n            default: 10\r\n        },\r\n        loading: Boolean,\r\n        error: {\r\n            required: false,\r\n            type: String\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            topTen: true\r\n        }\r\n    },\r\n    computed: {\r\n        totalAmount () {\r\n            return this.items.reduce((a, item) => a + item.amount, 0)\r\n        },\r\n        selectedItems () {\r\n            if (this.topTen) {\r\n                return this.items.slice(0, this.limit)\r\n            }\r\n            return this.items\r\n        },\r\n        unselectedItemsAmount () {\r\n            if (this.topTen) {\r\n                return this.items.slice(this.limit).reduce((a, item) => a + item.amount, 0)\r\n            }\r\n            return 0\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./AdvancedTwoColumnListCard.vue?vue&type=template&id=658da1f8&\"\nimport script from \"./AdvancedTwoColumnListCard.vue?vue&type=script&lang=js&\"\nexport * from \"./AdvancedTwoColumnListCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"mb-4\",attrs:{\"no-body\":!_vm.loading && _vm.items.length > 0,\"header\":_vm.loading || _vm.items.length == 0 ? _vm.header : null}},[(_vm.error)?_c('b-card-text',[(_vm.error)?_c('em',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.error))]):_vm._e()]):(_vm.loading)?_c('b-card-text',[_c('em',[_vm._v(_vm._s(_vm.$t('app.loading')))])]):(_vm.items.length == 0)?_c('b-card-text',[_c('em',[_vm._v(_vm._s(_vm.$t('app.no_data_registered')))])]):[_c('b-card-header',{attrs:{\"header-class\":\"d-flex justify-content-between\"}},[_c('span',[_vm._v(_vm._s(_vm.header))]),_vm._v(\" \"),(_vm.items.length > this.limit)?_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.topTen = !_vm.topTen}}},[_vm._v(\"\\n                \"+_vm._s(_vm.topTen ? _vm.$t('app.show_all_x', { num: _vm.items.length }) : _vm.$t('app.shop_top_x', { num: _vm.limit }))+\"\\n            \")]):_vm._e()]),_vm._v(\" \"),_c('b-list-group',{attrs:{\"flush\":\"\"}},[_vm._l((_vm.selectedItems),function(item){return _c('b-list-group-item',{key:item.name,staticClass:\"d-flex justify-content-between align-items-center\"},[_c('span',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('span',[_vm._v(\"\\n                    \"+_vm._s(item.amount)+\" \\n                    \"),_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.roundWithDecimals(item.amount / _vm.totalAmount * 100, 1))+\"%\")])])])}),_vm._v(\" \"),(_vm.topTen && _vm.items.length > _vm.limit)?_c('b-list-group-item',{staticClass:\"d-flex justify-content-between align-items-center\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.topTen = !_vm.topTen}}},[_c('em',[_vm._v(_vm._s(_vm.$t('app.others')))]),_vm._v(\" \"),_c('span',[_vm._v(\"\\n                    \"+_vm._s(_vm.unselectedItemsAmount)+\" \\n                    \"),_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.roundWithDecimals(_vm.unselectedItemsAmount / _vm.totalAmount * 100, 1))+\"%\")])])]):_vm._e()],2)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport { Bar, mixins } from 'vue-chartjs'\r\nconst { reactiveProp } = mixins\r\nexport default {\r\n    extends: Bar,\r\n    mixins: [reactiveProp],\r\n    props: {\r\n        options: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n    mounted () {\r\n        this.renderChart(this.chartData, this.options)\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReactiveBarChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReactiveBarChart.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./ReactiveBarChart.vue?vue&type=script&lang=js&\"\nexport * from \"./ReactiveBarChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\nimport { Line, mixins } from 'vue-chartjs'\r\nconst { reactiveProp } = mixins\r\nexport default {\r\n    extends: Line,\r\n    mixins: [reactiveProp],\r\n    props: {\r\n        options: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n    mounted () {\r\n        this.renderChart(this.chartData, this.options)\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReactiveLineChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReactiveLineChart.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./ReactiveLineChart.vue?vue&type=script&lang=js&\"\nexport * from \"./ReactiveLineChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <component\r\n        :is=\"cumulative ? 'reactive-line-chart' : 'reactive-bar-chart'\"\r\n        v-if=\"!asyncError && !error && loaded\"\r\n        :chart-data=\"chartData\"\r\n        :options=\"options\"\r\n        :height=\"height\"\r\n        class=\"border\"\r\n    />\r\n    <div\r\n        v-else\r\n        class=\"d-flex border\"\r\n        :style=\"`height: ${height}px`\"\r\n    >\r\n        <p class=\"justify-content-center align-self-center text-center w-100\">\r\n            <em v-if=\"asyncError || error\" class=\"text-danger\">{{ asyncError }} {{ error }}</em>\r\n            <em v-else>{{ $t('app.loading') }}</em>\r\n        </p>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport { applyColorPaletteToDatasets } from '@/utils'\r\nimport ReactiveBarChart from '@/components/charts/ReactiveBarChart'\r\nimport ReactiveLineChart from '@/components/charts/ReactiveLineChart'\r\nimport slugify from 'slugify'\r\nimport numberFormatMixin from '@/mixins/numberFormatMixin'\r\nexport default {\r\n    components: {\r\n        ReactiveBarChart,\r\n        ReactiveLineChart\r\n    },\r\n    mixins: [\r\n        numberFormatMixin\r\n    ],\r\n    props: {\r\n        title: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        data: {\r\n            type: [Function, Object],\r\n            required: false\r\n        },\r\n        error: {\r\n            type: String,\r\n            required: false\r\n        },\r\n        dateFrom: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        dateTo: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        granularity: {\r\n            type: String,\r\n            required: false,\r\n            value: 'days'\r\n        },\r\n        height: {\r\n            type: Number,\r\n            required: false,\r\n            default: 350\r\n        },\r\n        cumulative: Boolean\r\n    },\r\n    data () {\r\n        return {\r\n            loaded: false,\r\n            asyncError: null,\r\n            chartData: {},\r\n            units: new Map()\r\n        }\r\n    },\r\n    computed: {\r\n        options () {\r\n            let timeUnit, timeTooltipFormat, timeParser\r\n            switch (this.granularity) {\r\n                case 'years':\r\n                    timeUnit = 'year'\r\n                    timeTooltipFormat = 'YYYY'\r\n                    timeParser = 'YYYY'\r\n                    break;\r\n                case 'months':\r\n                    timeUnit = 'month'\r\n                    timeTooltipFormat = 'MMMM YYYY'\r\n                    timeParser = 'YYYY-MM'\r\n                    break;\r\n                case 'weeks':\r\n                    timeUnit = 'week'\r\n                    timeTooltipFormat = '[W]WW GGGG'\r\n                    timeParser = undefined\r\n                    break;\r\n                default: // days\r\n                    timeUnit = 'day'\r\n                    timeTooltipFormat = 'dddd, LL'\r\n                    timeParser = 'YYYY-MM-DD'\r\n            }\r\n\r\n            return {\r\n                title: {\r\n                    display: true,\r\n                    text: this.title\r\n                },\r\n                legend: {\r\n                    display: true,\r\n                    position: 'bottom'\r\n                },\r\n                scales: {\r\n                    xAxes: [{\r\n                        display: true,\r\n                        type: 'time',\r\n                        time: {\r\n                            tooltipFormat: timeTooltipFormat,\r\n                            unit: timeUnit,\r\n                            parser: timeParser,\r\n                            minUnit: 'day',\r\n                            isoWeekday: true,\r\n                            displayFormats: {\r\n                                day: 'll',\r\n                                week: '[W]WW GGGG'\r\n                            }\r\n                        },\r\n                        ticks: {\r\n                            min: this.dateFrom,\r\n                            max: this.dateTo\r\n                        },\r\n                        gridLines: {\r\n                            display: true\r\n                        },\r\n                        scaleLabel: {\r\n                            display: true,\r\n                            labelString: this.$t('app.date')\r\n                        }\r\n                    }],\r\n                    yAxes: this.yAxes()\r\n                },\r\n                responsive: true,\r\n                maintainAspectRatio: false,\r\n                animation: {\r\n                    duration: 500\r\n                },\r\n                tooltips: {\r\n                    callbacks: {\r\n                        label: (tooltipItem, chart) => {\r\n                            var datasetLabel = chart.datasets[tooltipItem.datasetIndex].label || '';\r\n                            return `${datasetLabel}: ${this.numberFormat(tooltipItem.yLabel)}`\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        granularity () {\r\n            this.loadData()\r\n        },\r\n        dateFrom () {\r\n            this.loadData()\r\n        },\r\n        dateTo () {\r\n            this.loadData()\r\n        },\r\n        data () {\r\n            this.loadData()\r\n        }\r\n    },\r\n    mounted () {\r\n        moment.locale(this.$i18n.locale);\r\n        this.loadData()\r\n    },\r\n    methods: {\r\n        async loadData () {\r\n            this.asyncError = null\r\n            this.loaded = false\r\n            if (this.data) {\r\n                try {\r\n                    let data;\r\n                    if (typeof this.data === 'function') {\r\n                        data = await this.data(this.granularity, this.dateFrom, this.dateTo)\r\n                    } else {\r\n                        data = this.data\r\n                    }\r\n                    this.chartData = this.chartDataFromResponse(data)\r\n                    this.loaded = true\r\n                } catch (err) {\r\n                    this.asyncError = err\r\n                }\r\n            }\r\n        },\r\n        chartDataFromResponse (resData) {\r\n            const chartData = {\r\n                labels: resData.labels,\r\n                datasets: []\r\n            }\r\n\r\n            // Assign lables and data\r\n            let units = new Map()\r\n            resData.datasets.forEach((dataset) => {\r\n                const axisID = slugify(dataset.unit)\r\n                let data = dataset.data\r\n                if (this.cumulative) {\r\n                    let previous = 0\r\n                    for (let i = 0; i < data.length; i++) {\r\n                        if (data[i]) {\r\n                            data[i] += previous\r\n                            previous = data[i]\r\n                        }\r\n                    }\r\n                }\r\n                chartData.datasets.push({\r\n                    label: dataset.label,\r\n                    data: data,\r\n                    yAxisID: axisID\r\n                })\r\n                units.set(axisID, dataset.unit)\r\n            })\r\n            this.units = units\r\n\r\n            // Assign colors to datasets\r\n            applyColorPaletteToDatasets(chartData.datasets)\r\n\r\n            return chartData\r\n        },\r\n        yAxes () {\r\n            const yAxes = []\r\n            let i = 0\r\n            for (let [key, value] of this.units) {\r\n                yAxes.push({\r\n                    display: true,\r\n                    id: key,\r\n                    position: i++ % 2 == 1 ? 'right' : 'left',\r\n                    gridLines: {\r\n                        display: true\r\n                    },\r\n                    scaleLabel: {\r\n                        display: true,\r\n                        labelString: value\r\n                    },\r\n                    ticks: {\r\n                        suggestedMin: 0,\r\n                        precision: 0,\r\n                        callback: this.numberFormat\r\n                    }\r\n                })\r\n            }\r\n            return yAxes\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeBarChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeBarChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeBarChart.vue?vue&type=template&id=7c4116ce&\"\nimport script from \"./TimeBarChart.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeBarChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.asyncError && !_vm.error && _vm.loaded)?_c(_vm.cumulative ? 'reactive-line-chart' : 'reactive-bar-chart',{tag:\"component\",staticClass:\"border\",attrs:{\"chart-data\":_vm.chartData,\"options\":_vm.options,\"height\":_vm.height}}):_c('div',{staticClass:\"d-flex border\",style:((\"height: \" + _vm.height + \"px\"))},[_c('p',{staticClass:\"justify-content-center align-self-center text-center w-100\"},[(_vm.asyncError || _vm.error)?_c('em',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.asyncError)+\" \"+_vm._s(_vm.error))]):_c('em',[_vm._v(_vm._s(_vm.$t('app.loading')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { api, route } from '@/api/baseApi'\r\nexport default {\r\n    async getCount (date) {\r\n        const url = `${route('api.fundraising.report.donors.count')}?date=${date}`\r\n        return await api.get(url)\r\n    },\r\n    async getCountries (date) {\r\n        const url = `${route('api.fundraising.report.donors.countries')}?date=${date}`\r\n        return await api.get(url)\r\n    },\r\n    async getLanguages (date) {\r\n        const url = `${route('api.fundraising.report.donors.languages')}?date=${date}`\r\n        return await api.get(url)\r\n    },\r\n    async fetchDonorRegistrations (granularity, dateFrom, dateTo) {\r\n        const params = {\r\n            granularity: granularity,\r\n            from: dateFrom,\r\n            to: dateTo\r\n        }\r\n        const url = route('api.fundraising.report.donors.registrations', params)\r\n        return await api.get(url)\r\n    },\r\n    async fetchDonationRegistrations (granularity, dateFrom, dateTo) {\r\n        const params = {\r\n            granularity: granularity,\r\n            from: dateFrom,\r\n            to: dateTo\r\n        }\r\n        const url = route('api.fundraising.report.donations.registrations', params)\r\n        return await api.get(url)\r\n    },\r\n    async fechCurrencyDistribution () {\r\n        const url = route('api.fundraising.report.donations.currencies')\r\n        return await api.get(url)\r\n    },\r\n    async fetchChannelDistribution () {\r\n        const url = route('api.fundraising.report.donations.channels')\r\n        return await api.get(url)\r\n    },\r\n}\r\n","<template>\r\n    <div>\r\n        <!-- Date range selector -->\r\n        <date-range-select\r\n            v-model=\"dateRange\"\r\n        />\r\n\r\n        <h2>\r\n            {{ $t('fundraising.donors') }}\r\n        </h2>\r\n\r\n        <div class=\"row\">\r\n\r\n            <!-- General donor numbers -->\r\n            <div class=\"col-md\">\r\n                <simple-two-column-list-card\r\n                    :header=\"$t('fundraising.registered_donors')\"\r\n                    :headerAddon=\"$t('app.since_date', { date: firstDonorRegistration })\"\r\n                    :items=\"count ? count : []\"\r\n                    :loading=\"!count\"\r\n                    :error=\"countError\"\r\n                />\r\n            </div>\r\n\r\n            <!-- Countries -->\r\n            <div class=\"col-md\">\r\n                <advanced-two-column-list-card\r\n                    :header=\"$t('app.countries')\"\r\n                    :items=\"countries ? countries : []\"\r\n                    :limit=\"5\"\r\n                    :loading=\"!countries\"\r\n                    :error=\"countriesError\"\r\n                />\r\n            </div>\r\n\r\n            <!-- Languages -->\r\n            <div class=\"col-md\">\r\n                <advanced-two-column-list-card\r\n                    :header=\"$t('app.languages')\"\r\n                    :items=\"languages ? languages : []\"\r\n                    :limit=\"5\"\r\n                    :loading=\"!languages\"\r\n                    :error=\"languagesError\"\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <!-- Registrations over time chart -->\r\n        <time-bar-chart\r\n            :title=\"$t('fundraising.new_donors_registered')\"\r\n            :data=\"reportApi.fetchDonorRegistrations\"\r\n            :date-from=\"this.dateRange.from\"\r\n            :date-to=\"this.dateRange.to\"\r\n            :granularity=\"this.dateRange.granularity\"\r\n            class=\"mb-3\"\r\n        />\r\n\r\n        <h2>\r\n            {{ $t('fundraising.donations') }}\r\n        </h2>\r\n\r\n        <time-bar-chart\r\n            :title=\"$t('fundraising.donations_made')\"\r\n            :data=\"donationRegistrations\"\r\n            :error=\"donationRegistrationsError\"\r\n            :date-from=\"this.dateRange.from\"\r\n            :date-to=\"this.dateRange.to\"\r\n            :granularity=\"this.dateRange.granularity\"\r\n            class=\"mb-3\"\r\n        />\r\n\r\n        <time-bar-chart\r\n            :title=\"$t('fundraising.total_donations_made')\"\r\n            :data=\"donationRegistrations\"\r\n            :error=\"donationRegistrationsError\"\r\n            :date-from=\"this.dateRange.from\"\r\n            :date-to=\"this.dateRange.to\"\r\n            :granularity=\"this.dateRange.granularity\"\r\n            :cumulative=\"true\"\r\n            class=\"mb-3\"\r\n        />\r\n\r\n        <b-row>\r\n            <b-col md>\r\n                <doughnut-chart-table-distribution-widget\r\n                    :title=\"$t('fundraising.currencies')\"\r\n                    :data=\"reportApi.fechCurrencyDistribution\"\r\n                />\r\n            </b-col>\r\n            <b-col md>\r\n                <doughnut-chart-table-distribution-widget\r\n                    :title=\"$t('fundraising.channels')\"\r\n                    :data=\"reportApi.fetchChannelDistribution\"\r\n                />\r\n            </b-col>\r\n        </b-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SimpleTwoColumnListCard from '@/components/ui/SimpleTwoColumnListCard'\r\nimport AdvancedTwoColumnListCard from '@/components/ui/AdvancedTwoColumnListCard'\r\nimport TimeBarChart from '@/components/charts/TimeBarChart'\r\nimport DoughnutChartTableDistributionWidget from '@/components/reporting/DoughnutChartTableDistributionWidget'\r\nimport DateRangeSelect from '@/components/common/DateRangeSelect'\r\nimport moment from 'moment'\r\nimport reportApi from '@/api/fundraising/report'\r\nexport default {\r\n    components: {\r\n        SimpleTwoColumnListCard,\r\n        AdvancedTwoColumnListCard,\r\n        TimeBarChart,\r\n        DoughnutChartTableDistributionWidget,\r\n        DateRangeSelect\r\n    },\r\n    data () {\r\n        return {\r\n            firstDonorRegistration: null,\r\n            count: null,\r\n            countError: null,\r\n            countries: null,\r\n            countriesError: null,\r\n            languages: null,\r\n            languagesError: null,\r\n            donationRegistrations: null,\r\n            donationRegistrationsError: null,\r\n            dateRange: {\r\n                from: moment().subtract(3, 'months').format(moment.HTML5_FMT.DATE),\r\n                to: moment().format(moment.HTML5_FMT.DATE),\r\n                granularity: 'days',\r\n            },\r\n            reportApi\r\n        }\r\n    },\r\n    watch: {\r\n        dateRange () {\r\n            this.loadData()\r\n        }\r\n    },\r\n    created () {\r\n        this.loadData()\r\n    },\r\n    methods: {\r\n        loadData () {\r\n            this.loadCount()\r\n            this.loadCountries()\r\n            this.loadLanguages()\r\n            this.fetchDonationRegistrations()\r\n        },\r\n        async loadCount () {\r\n            this.countError = null\r\n            try {\r\n                let data = await reportApi.getCount(this.dateRange.to)\r\n                this.count = this.mapCountData(data)\r\n            } catch (err) {\r\n                this.countError = err\r\n            }\r\n        },\r\n        mapCountData (data) {\r\n            this.firstDonorRegistration = moment(data.first).format('LL')\r\n            return [\r\n                {\r\n                    name: this.$t('app.total'),\r\n                    value: data.total\r\n                },\r\n                {\r\n                    name: this.$t('app.individual_persons'),\r\n                    value: data.persons\r\n                },\r\n                {\r\n                    name: this.$t('app.companies'),\r\n                    value: data.companies\r\n                },\r\n                {\r\n                    name: this.$t('app.with_registered_address'),\r\n                    value: data.with_address\r\n                },\r\n                {\r\n                    name: this.$t('app.with_registered_email'),\r\n                    value: data.with_email\r\n                },\r\n                {\r\n                    name: this.$t('app.with_registered_phone'),\r\n                    value: data.with_phone\r\n                }\r\n            ]\r\n        },\r\n        async loadCountries () {\r\n            this.countriesError = null\r\n             try {\r\n                let data = await reportApi.getCountries(this.dateRange.to)\r\n                this.countries = data\r\n            } catch (err) {\r\n                this.countriesError = err\r\n            }\r\n        },\r\n        async loadLanguages () {\r\n            this.languagesError = null\r\n            try {\r\n                let data = await reportApi.getLanguages(this.dateRange.to)\r\n                this.languages = data\r\n            } catch (err) {\r\n                this.languagesError = err\r\n            }\r\n        },\r\n        async fetchDonationRegistrations () {\r\n            this.donationRegistrationsError = null\r\n            try {\r\n                let data = await reportApi.fetchDonationRegistrations(this.granularity, this.dateRange.from, this.dateRange.to)\r\n                this.donationRegistrations = data\r\n            } catch (err) {\r\n                this.donationRegistrationsError = err\r\n            }\r\n        },\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FundraisingReportPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FundraisingReportPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FundraisingReportPage.vue?vue&type=template&id=d0e5370c&\"\nimport script from \"./FundraisingReportPage.vue?vue&type=script&lang=js&\"\nexport * from \"./FundraisingReportPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('date-range-select',{model:{value:(_vm.dateRange),callback:function ($$v) {_vm.dateRange=$$v},expression:\"dateRange\"}}),_vm._v(\" \"),_c('h2',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('fundraising.donors'))+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md\"},[_c('simple-two-column-list-card',{attrs:{\"header\":_vm.$t('fundraising.registered_donors'),\"headerAddon\":_vm.$t('app.since_date', { date: _vm.firstDonorRegistration }),\"items\":_vm.count ? _vm.count : [],\"loading\":!_vm.count,\"error\":_vm.countError}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-md\"},[_c('advanced-two-column-list-card',{attrs:{\"header\":_vm.$t('app.countries'),\"items\":_vm.countries ? _vm.countries : [],\"limit\":5,\"loading\":!_vm.countries,\"error\":_vm.countriesError}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-md\"},[_c('advanced-two-column-list-card',{attrs:{\"header\":_vm.$t('app.languages'),\"items\":_vm.languages ? _vm.languages : [],\"limit\":5,\"loading\":!_vm.languages,\"error\":_vm.languagesError}})],1)]),_vm._v(\" \"),_c('time-bar-chart',{staticClass:\"mb-3\",attrs:{\"title\":_vm.$t('fundraising.new_donors_registered'),\"data\":_vm.reportApi.fetchDonorRegistrations,\"date-from\":this.dateRange.from,\"date-to\":this.dateRange.to,\"granularity\":this.dateRange.granularity}}),_vm._v(\" \"),_c('h2',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('fundraising.donations'))+\"\\n    \")]),_vm._v(\" \"),_c('time-bar-chart',{staticClass:\"mb-3\",attrs:{\"title\":_vm.$t('fundraising.donations_made'),\"data\":_vm.donationRegistrations,\"error\":_vm.donationRegistrationsError,\"date-from\":this.dateRange.from,\"date-to\":this.dateRange.to,\"granularity\":this.dateRange.granularity}}),_vm._v(\" \"),_c('time-bar-chart',{staticClass:\"mb-3\",attrs:{\"title\":_vm.$t('fundraising.total_donations_made'),\"data\":_vm.donationRegistrations,\"error\":_vm.donationRegistrationsError,\"date-from\":this.dateRange.from,\"date-to\":this.dateRange.to,\"granularity\":this.dateRange.granularity,\"cumulative\":true}}),_vm._v(\" \"),_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[_c('doughnut-chart-table-distribution-widget',{attrs:{\"title\":_vm.$t('fundraising.currencies'),\"data\":_vm.reportApi.fechCurrencyDistribution}})],1),_vm._v(\" \"),_c('b-col',{attrs:{\"md\":\"\"}},[_c('doughnut-chart-table-distribution-widget',{attrs:{\"title\":_vm.$t('fundraising.channels'),\"data\":_vm.reportApi.fetchChannelDistribution}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\r\n\r\nimport VueRouter from 'vue-router'\r\nVue.use(VueRouter)\r\n\r\nimport VisitorReportPage from '@/pages/reports/VisitorReportPage'\r\nimport LibraryReportPage from '@/pages/reports/LibraryReportPage'\r\nimport FundraisingReportPage from '@/pages/reports/FundraisingReportPage'\r\nimport NotFoundPage from '@/pages/NotFoundPage'\r\n\r\nexport default new VueRouter({\r\n    mode: 'history',\r\n    base: '/reports/',\r\n    routes: [\r\n        {\r\n            path: '/',\r\n            redirect: {\r\n                name: 'visitors.listCurrent'\r\n            }\r\n        },\r\n        {\r\n            path: '/visitors/checkins',\r\n            name: 'reports.visitors.checkins',\r\n            components: {\r\n                default: VisitorReportPage,\r\n            }\r\n        },\r\n        {\r\n            path: '/library/books',\r\n            name: 'reports.library.books',\r\n            components: {\r\n                default: LibraryReportPage,\r\n            }\r\n        },\r\n        {\r\n            path: '/fundraising/donations',\r\n            name: 'reports.fundraising.donations',\r\n            components: {\r\n                default: FundraisingReportPage,\r\n            }\r\n        },\r\n        {\r\n            path: '*',\r\n            component: NotFoundPage\r\n        }\r\n    ]\r\n})\r\n","import { render, staticRenderFns } from \"./ReportsApp.vue?vue&type=template&id=6c95d6d8&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\r\n\r\nimport FontAwesomeIcon from '@/components/common/FontAwesomeIcon'\r\nVue.component('font-awesome-icon', FontAwesomeIcon)\r\n\r\nimport BootstrapVue from 'bootstrap-vue'\r\nVue.use(BootstrapVue)\r\n\r\nimport i18n from '@/plugins/i18n'\r\nimport router from '@/router/reports'\r\n\r\nimport '@/plugins/vee-validate'\r\n\r\nimport ziggyMixin from '@/mixins/ziggyMixin'\r\nVue.mixin(ziggyMixin)\r\n\r\nVue.config.productionTip = false\r\n\r\nimport ReportsApp from '@/app/ReportsApp'\r\n\r\nnew Vue({\r\n    el: '#reports-app',\r\n    // store,\r\n    router,\r\n    i18n,\r\n    components: {\r\n        ReportsApp\r\n    }\r\n});\r\n"],"sourceRoot":""}