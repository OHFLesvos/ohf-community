{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./Resources/assets/js/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","lastResourceGroup","handleAjaxError","err","msg","response","data","message","errors","entries","map","_ref","_ref2","_slicedToArray","join","error","alert","$","document","ready","calendar","modal","resourceModal","titleElem","descriptionElem","dateStartElem","dateEndElem","resourceIdInputElem","deleteButton","submitButton","find","creditsElement","resourceTitleElem","resourceGroupElem","resourceColorElem","resourceDeleteButton","resourceSubmitButton","updateEventDate","calEvent","delta","revertFunc","axios","patch","updateDateUrl","start","format","end","resourceId","catch","getDateStartLabel","isMidNight","getDateEndLabel","isSame","startIsMidNight","endIsMidNight","newEnd","clone","subtract","updateResourceIdSelect","disabled","resources","fullCalendar","empty","resourceColors","each","item","append","id","text","title","eventColor","val","change","prop","setresourceIdInputElemColor","color","siblings","css","off","on","e","focus","themeSystem","height","locale","slotLabelFormat","minTime","header","left","manageResourcesAllowed","center","right","customButtons","promptResource","click","Math","floor","random","getRandomColor","hide","show","parent","post","storeResourceUrl","group","then","res","resourceLabelText","resourceRender","resource","cellEls","put","url","confirm","delete","editResource","views","agendaDay","buttonText","agendaWeek","month","listWeek","timelineDay","defaultView","localStorage","getItem","viewRender","view","element","setItem","firstDay","weekends","weekNumbers","weekNumbersWithinDays","businessHours","dow","navLinks","eventLimit","events","listEventsUrl","editable","eventDrop","eventResize","selectable","createEventAllowed","selectHelper","select","jsEvent","length","storeEventUrl","description","unselectAuto","eventClick","user","currentUserId","showEvent","schedulerLicenseKey","listResourcesUrl","resourceOrder","resourceGroupField"],"mappings":"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","file":"/js/calendar.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","//\n// Calendar\n//\n\nvar lastResourceGroup = null;\n\nconst handleAjaxError = function(err){\n    var msg;\n    if (err.response.data.message) {\n        msg = err.response.data.message;\n    }\n    if (err.response.data.errors) {\n        msg += \"\\n\" + Object.entries(err.response.data.errors).map(([k, v]) => {\n            return v.join('. ');\n        });\n    } else if (err.response.data.error) {\n        msg = err.response.data.error;\n    }\n    alert('Error: ' + msg);\n}\n\n$(document).ready(function() {\n\n    var calendar = $('#calendar');\n    var modal = $('#eventModal');\n    var resourceModal = $('#resourceModal');\n\n    // Elements\n    var titleElem = $('#event_editor_title');\n    var descriptionElem = $('#event_editor_description');\n    var dateStartElem = $('#event_editor_date_start');\n    var dateEndElem = $('#event_editor_date_end');\n    var resourceIdInputElem = $('#event_editor_resource_id');\n    var deleteButton = $('#event_editor_delete');\n    var submitButton = modal.find('button[type=\"submit\"]');\n    var creditsElement =  $('#event_editor_credits');\n\n    var resourceTitleElem = $('#resource_editor_title');\n    var resourceGroupElem = $('#resource_editor_group');\n    var resourceColorElem = $('#resource_editor_color');\n    var resourceDeleteButton = $('#resource_editor_delete');\n    var resourceSubmitButton = resourceModal.find('button[type=\"submit\"]');\n\n    modal.on('shown.bs.modal', function (e) {\n        titleElem.focus();\n    });\n\n    resourceModal.on('shown.bs.modal', function (e) {\n        resourceTitleElem.focus();\n    });\n\n    // Initialite the calendar\n    calendar.fullCalendar({\n        themeSystem: 'bootstrap4',\n        height: \"auto\",\n        locale: locale,\n        slotLabelFormat: 'H:mm',\n        minTime: '08:00', // TODO  scrollTime: '08:00',\n        header: {\n            left: manageResourcesAllowed ? 'prev,next today promptResource' : 'prev,next today',\n            center: 'title',\n            right: 'agendaDay,agendaWeek,month,listWeek,timelineDay'\n        },\n        customButtons: {\n            promptResource: {\n                text: '+ Resource',\n                click: createResource,\n            }\n        },\n        resourceLabelText: 'Resources',\n        resourceRender: function(resource, cellEls) {\n            if (manageResourcesAllowed) {\n                cellEls.on('click', function() {\n                    editResource(resource);\n                });\n            }\n        },\n        views: {\n            agendaDay: {\n                buttonText: 'Day'\n            },\n            agendaWeek: {\n                buttonText: 'Week'\n            },\n            month: {\n                buttonText: 'Month'\n            },\n            listWeek: {\n                buttonText: 'List'\n            },\n            timelineDay: {\n                buttonText: 'Timeline'\n            }\n        },\n        defaultView: localStorage.getItem('calendar-view-name') ? localStorage.getItem('calendar-view-name') : 'agendaWeek',\n        viewRender: function(view, element){\n            localStorage.setItem('calendar-view-name', view.name)\n        },\n        firstDay: 1,\n        weekends: true,\n        weekNumbers: true,\n        weekNumbersWithinDays: true,\n        businessHours: {\n            dow: [ 1, 2, 3, 4, 5, 6 ],\n            start: '10:00',\n            end: '19:00',\n        },      \n        navLinks: true,\n        eventLimit: true,\n        events: listEventsUrl,\n        editable: false,\n        eventDrop: updateEventDate,\n        eventResize: updateEventDate,\n        selectable: createEventAllowed,\n        selectHelper: false,\n        select: createEvent,\n        unselectAuto: false,\n        eventClick: editEvent,\n        schedulerLicenseKey: 'CC-Attribution-NonCommercial-NoDerivatives',\n        resources: listResourcesUrl,\n        resourceOrder: 'title',\n        //eventOverlap: false, // TODO\n        resourceGroupField: 'group',\n    });\n\n    /**\n    * Create a new resource using modal dialog\n    */\n    function createResource() {\n        // Prepare modal dialog\n        resourceModal.find('.modal-title').text('Create Resource');\n\n        resourceTitleElem.val('');\n        resourceGroupElem.val(lastResourceGroup ? lastResourceGroup : '');\n        resourceColorElem.val(getRandomColor());\n\n        resourceDeleteButton.hide();\n        resourceSubmitButton.show();\n\n        // Action on submit: Store resource\n        resourceModal.parent('form').off().on('submit', function(){\n            axios.post(storeResourceUrl, {\n                    title: resourceTitleElem.val(),\n                    group: resourceGroupElem.val(),\n                    color: resourceColorElem.val(),\n                })\n                .then((res) => {\n                    lastResourceGroup = resourceGroupElem.val();\n                    resourceModal.modal('hide');\n                    calendar.fullCalendar('addResource', res.data, true);\n                })\n                .catch(handleAjaxError);\n        });\n\n        // Show modal\n        resourceModal.modal('show');\n\n        // Focus title input\n        resourceTitleElem.focus();\n    }\n\n    /**\n    * Edit a resource using modal dialog\n    */\n    function editResource(resource) {\n        // Prepare modal dialog\n        resourceModal.find('.modal-title').text('Edit Resource');\n\n        resourceTitleElem.val(resource.title);\n        resourceGroupElem.val(resource.group);\n        resourceColorElem.val(resource.eventColor);\n\n        resourceDeleteButton.show();\n        resourceSubmitButton.show();\n\n        // Action on submit: Update resource\n        resourceModal.parent('form').off().on('submit', function(){\n            axios.put(resource.url, {\n                    title: resourceTitleElem.val(),\n                    group: resourceGroupElem.val(),\n                    color: resourceColorElem.val(),\n                })\n                .then(() => {\n                    resourceModal.modal('hide');\n                    calendar.fullCalendar('refetchResources');\n                })\n                .catch(handleAjaxError);\n        });\n\n        // Action on delete button click: Delete resource\n        resourceDeleteButton.off().on('click', function(){\n            if (confirm('Are you sure you want to delete thre resource \\'' + resource.title + '\\'?')) {\n                axios.delete(resource.url)\n                    .then(() => {\n                        resourceModal.modal('hide');\n                        calendar.fullCalendar('removeResource', resource);\n                    })\n                    .catch(handleAjaxError);\n            }\n        });\n\n        // Show modal\n        resourceModal.modal('show');\n\n        // Focus title input\n        resourceTitleElem.focus();\n    }\n\n    /**\n    * Create a new event using modal dialog\n    */\n    function createEvent(start, end, jsEvent, view, resource) {\n        var resources = calendar.fullCalendar('getResources');\n        if (resources.length == 0) {\n            alert('Please add a resource first before creating an event!');\n            calendar.fullCalendar('unselect');\n            return;\n        }\n\n        // Prepare modal dialog\n        modal.find('.modal-title').text('Create Event');\n        dateStartElem.text(getDateStartLabel(start));\n        dateEndElem.text(getDateEndLabel(start, end));\n        titleElem.val('').prop(\"readonly\", false);\n        descriptionElem.val('').prop(\"readonly\", false);\n        updateResourceIdSelect(resource ? resource.id : resources[0].id, false);\n        deleteButton.hide();\n        submitButton.show();\n        creditsElement.hide();\n\n        // Action on cancel: Hide modal dialog\n        modal.on('hide.bs.modal', function (e) {\n            calendar.fullCalendar('unselect');\n        });\n\n        // Action on submit: Store event\n        modal.parent('form').off().on('submit', function(){\n            axios.post(storeEventUrl, {\n                    title: titleElem.val(),\n                    description: descriptionElem.val(),\n                    resourceId: resourceIdInputElem.val(),\n                    start: start.format(),\n                    end: end ? end.format() : null,\n                })\n                .then((res) => {\n                    modal.modal('hide');\n                    calendar.fullCalendar('renderEvent', res.data, true);\n                })\n                .catch(handleAjaxError);\n        });\n\n        // Show modal\n        modal.modal('show');\n\n        // Focus title input\n        titleElem.focus();\n    }\n\n    /**\n    * Edit a new event using modal dialog\n    */\n    function showEvent(calEvent) {\n        // Prepare dialog\n        modal.find('.modal-title').text('View Event');\n        dateStartElem.text(getDateStartLabel(calEvent.start));\n        dateEndElem.text(getDateEndLabel(calEvent.start, calEvent.end));\n        titleElem.val(calEvent.title).prop(\"readonly\", true);\n        descriptionElem.val(calEvent.description).prop(\"readonly\", true);\n        updateResourceIdSelect(calEvent.resourceId, true);\n\n        deleteButton.hide();\n        submitButton.hide();\n        if (calEvent.user.id != currentUserId ) {\n            creditsElement.find('[rel=\"author\"]').text(calEvent.user.name);\n            creditsElement.show();\n        } else {\n            creditsElement.hide();\n        }\n\n        // Show modal\n        modal.modal('show');\n\n        // Return false so default behaviour (navigate to event URL) is supressed\n        return false;\n    }\n\n    /**\n    * Edit a new event using modal dialog\n    */\n    function editEvent(calEvent, jsEvent, view) {\n        if (!calEvent.editable) {\n            return showEvent(calEvent);\n        }\n\n        // Prepare dialog\n        modal.find('.modal-title').text('Edit Event');\n        dateStartElem.text(getDateStartLabel(calEvent.start));\n        dateEndElem.text(getDateEndLabel(calEvent.start, calEvent.end));\n        titleElem.val(calEvent.title).prop(\"readonly\", false);\n        descriptionElem.val(calEvent.description).prop(\"readonly\", false);\n        updateResourceIdSelect(calEvent.resourceId, false);\n        deleteButton.show();\n        submitButton.show();\n        if (calEvent.user.id != currentUserId ) {\n            creditsElement.find('[rel=\"author\"]').text(calEvent.user.name);\n            creditsElement.show();\n        } else {\n            creditsElement.hide();\n        }\n\n        // Action on form submit: Update event\n        modal.parent('form').off().on('submit', function(){\n            axios.put(calEvent.url, {\n                    title: titleElem.val(),\n                    description: descriptionElem.val(),\n                    resourceId: resourceIdInputElem.val(),\n                })\n                .then(() => {\n                    modal.modal('hide');\n                    calEvent.title = titleElem.val();\n                    calEvent.description = descriptionElem.val();\n                    calEvent.resourceId = resourceIdInputElem.val();\n                    calendar.fullCalendar('updateEvent', calEvent);\n                })\n                .catch(handleAjaxError);\n        });\n\n        // Action on delete button click: Delete event\n        deleteButton.off().on('click', function(){\n            if (confirm('Really delete event \\'' + calEvent.title + '\\'?')) {\n                axios.delete(calEvent.url)\n                    .then(() => {\n                        modal.modal('hide');\n                        calendar.fullCalendar('removeEvents', calEvent.id);\n                    })\n                    .catch(handleAjaxError);\n            }\n        });\n\n        // Show modal\n        modal.modal('show');\n\n        // Select title\n        titleElem.select();\n\n        // Return false so default behaviour (navigate to event URL) is supressed\n        return false;\n    }\n\n    /**\n    * Updates an event after dragging / resizing\n    */\n    function updateEventDate(calEvent, delta, revertFunc) {\n        axios.patch(calEvent.updateDateUrl, {\n                start: calEvent.start.format(),\n                end: calEvent.end ? calEvent.end.format() : null,\n                resourceId: calEvent.resourceId,\n            })\n            .catch((err) => {\n                handleAjaxError(err);\n                revertFunc();\n            });\n    }\n\n    /**\n    * Creates a label text for the start date\n    */\n    function getDateStartLabel(start) {\n        var isMidNight = start.format('HH:mm:ss') == '00:00:00';\n        return start.format(isMidNight ? 'LL' : 'LLL'); // LL: Date, LLL: Date with time\n    }\n\n    /**\n    * Creates a label text for the end date\n    */\n    function getDateEndLabel(start, end) {\n        var prefix = ' - ';\n        if (start.isSame(end, 'day')) {\n            return prefix + end.format('LT'); // LT: Time\n        }\n        var startIsMidNight = start.format('HH:mm:ss') == '00:00:00';\n        var endIsMidNight = end.format('HH:mm:ss') == '00:00:00';\n        if (startIsMidNight && endIsMidNight) {\n            var newEnd = end.clone().subtract(1, 'day');\n            return start.isSame(newEnd, 'day') ? '' : prefix + newEnd.format('LL');\n        }\n        return prefix + end.format('LLL');\n    }\n\n    function updateResourceIdSelect(resourceId, disabled) {\n        var resources = calendar.fullCalendar('getResources');\n        resourceIdInputElem.empty();\n        var resourceColors = {};\n        $.each(resources, function (i, item) {\n            resourceIdInputElem.append($('<option>', { \n                value: item.id,\n                text : item.title \n            }));\n            resourceColors[item.id] = item.eventColor;\n        });\n        resourceIdInputElem.val(resourceId).change().prop(\"disabled\", disabled);            \n\n        // Change color of the label next to the resource select\n        var setresourceIdInputElemColor = function() {\n            var color = resourceColors[resourceIdInputElem.val()];\n            resourceIdInputElem.siblings().find('label').css('color', color ? color : 'inherit');\n        }\n        resourceIdInputElem.off('change').on('change', setresourceIdInputElemColor)\n        setresourceIdInputElemColor();\n    }\n\n});\n\nfunction getRandomColor() {\n    var letters = '0123456789ABCDEF';\n    var color = '#';\n    for (var i = 0; i < 6; i++) {\n      color += letters[Math.floor(Math.random() * 16)];\n    }\n    return color;\n}"],"sourceRoot":""}