{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./resources/assets/js/calendar.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","lastResourceGroup","$","document","ready","calendar","modal","resourceModal","titleElem","descriptionElem","dateStartElem","dateEndElem","resourceIdInputElem","deleteButton","submitButton","find","creditsElement","resourceTitleElem","resourceGroupElem","resourceColorElem","resourceDeleteButton","resourceSubmitButton","updateEventDate","calEvent","delta","revertFunc","ajax","updateDateUrl","method","data","_token","csrfToken","start","format","end","resourceId","fail","jqXHR","textStatus","alert","responseJSON","message","responseText","getDateStartLabel","isMidNight","getDateEndLabel","isSame","startIsMidNight","endIsMidNight","newEnd","clone","subtract","updateResourceIdSelect","disabled","resources","fullCalendar","empty","resourceColors","each","item","append","id","text","title","eventColor","val","change","prop","setresourceIdInputElemColor","color","siblings","css","off","on","e","focus","themeSystem","height","locale","slotLabelFormat","minTime","header","left","manageResourcesAllowed","center","right","customButtons","promptResource","click","Math","floor","random","getRandomColor","hide","show","parent","storeResourceUrl","group","done","resourceData","resourceLabelText","resourceRender","resource","cellEls","url","confirm","editResource","views","agendaDay","buttonText","agendaWeek","month","listWeek","timelineDay","defaultView","localStorage","getItem","viewRender","view","element","setItem","firstDay","weekends","weekNumbers","weekNumbersWithinDays","businessHours","dow","navLinks","eventLimit","events","listEventsUrl","editable","eventDrop","eventResize","selectable","createEventAllowed","selectHelper","select","jsEvent","length","storeEventUrl","description","eventData","unselectAuto","eventClick","user","currentUserId","showEvent","schedulerLicenseKey","listResourcesUrl","resourceOrder","resourceGroupField"],"mappings":"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","file":"/js/calendar.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 238);\n","//\n// Calendar\n//\n\n// import 'moment';\n// import $ from 'jquery';\n// import 'fullcalendar';\n// import 'fullcalendar-scheduler';\n\nvar lastResourceGroup = null;\n\n$(document).ready(function() {\n\n    var calendar = $('#calendar');\n    var modal = $('#eventModal');\n    var resourceModal = $('#resourceModal');\n\n    // Elements\n    var titleElem = $('#event_editor_title');\n    var descriptionElem = $('#event_editor_description');\n    var dateStartElem = $('#event_editor_date_start');\n    var dateEndElem = $('#event_editor_date_end');\n    var resourceIdInputElem = $('#event_editor_resource_id');\n    var deleteButton = $('#event_editor_delete');\n    var submitButton = modal.find('button[type=\"submit\"]');\n    var creditsElement =  $('#event_editor_credits');\n\n    var resourceTitleElem = $('#resource_editor_title');\n    var resourceGroupElem = $('#resource_editor_group');\n    var resourceColorElem = $('#resource_editor_color');\n    var resourceDeleteButton = $('#resource_editor_delete');\n    var resourceSubmitButton = resourceModal.find('button[type=\"submit\"]');\n\n    modal.on('shown.bs.modal', function (e) {\n        titleElem.focus();\n    });\n\n    resourceModal.on('shown.bs.modal', function (e) {\n        resourceTitleElem.focus();\n    });\n\n    // Initialite the calendar\n    calendar.fullCalendar({\n        themeSystem: 'bootstrap4',\n        height: \"auto\",\n        locale: locale,\n        slotLabelFormat: 'H:mm',\n        minTime: '08:00', // TODO  scrollTime: '08:00',\n        header: {\n            left: manageResourcesAllowed ? 'prev,next today promptResource' : 'prev,next today',\n            center: 'title',\n            right: 'agendaDay,agendaWeek,month,listWeek,timelineDay'\n        },\n        customButtons: {\n            promptResource: {\n                text: '+ Resource',\n                click: createResource,\n            }\n        },\n        resourceLabelText: 'Resources',\n        resourceRender: function(resource, cellEls) {\n            if (manageResourcesAllowed) {\n                cellEls.on('click', function() {\n                    editResource(resource);\n                });\n            }\n        },\n        views: {\n            agendaDay: {\n                buttonText: 'Day'\n            },\n            agendaWeek: {\n                buttonText: 'Week'\n            },\n            month: {\n                buttonText: 'Month'\n            },\n            listWeek: {\n                buttonText: 'List'\n            },\n            timelineDay: {\n                buttonText: 'Timeline'\n            }\n        },\n        defaultView: localStorage.getItem('calendar-view-name') ? localStorage.getItem('calendar-view-name') : 'agendaWeek',\n        viewRender: function(view, element){\n            localStorage.setItem('calendar-view-name', view.name)\n        },\n        firstDay: 1,\n        weekends: true,\n        weekNumbers: true,\n        weekNumbersWithinDays: true,\n        businessHours: {\n            dow: [ 1, 2, 3, 4, 5, 6 ],\n            start: '10:00',\n            end: '19:00',\n        },      \n        navLinks: true,\n        eventLimit: true,\n        events: listEventsUrl,\n        editable: false,\n        eventDrop: updateEventDate,\n        eventResize: updateEventDate,\n        selectable: createEventAllowed,\n        selectHelper: false,\n        select: createEvent,\n        unselectAuto: false,\n        eventClick: editEvent,\n        schedulerLicenseKey: 'CC-Attribution-NonCommercial-NoDerivatives',\n        resources: listResourcesUrl,\n        resourceOrder: 'title',\n        //eventOverlap: false, // TODO\n        resourceGroupField: 'group',\n    });\n\n    /**\n    * Create a new resource using modal dialog\n    */\n    function createResource() {\n        // Prepare modal dialog\n        resourceModal.find('.modal-title').text('Create Resource');\n\n        resourceTitleElem.val('');\n        resourceGroupElem.val(lastResourceGroup ? lastResourceGroup : '');\n        resourceColorElem.val(getRandomColor());\n\n        resourceDeleteButton.hide();\n        resourceSubmitButton.show();\n\n        // Action on submit: Store resource\n        resourceModal.parent('form').off().on('submit', function(){\n            $.ajax(storeResourceUrl, {\n                method: 'POST',\n                data: {\n                    _token: csrfToken,\n                    title: resourceTitleElem.val(),\n                    group: resourceGroupElem.val(),\n                    color: resourceColorElem.val(),\n                }\n            })\n            .done(function(resourceData) {\n                lastResourceGroup = resourceGroupElem.val();\n                resourceModal.modal('hide');\n                calendar.fullCalendar('addResource', resourceData, true);\n            })\n            .fail(function(jqXHR, textStatus) {\n                alert('Error: ' + (jqXHR.responseJSON.message ? jqXHR.responseJSON.message : jqXHR.responseText));\n            });\n        });\n\n        // Show modal\n        resourceModal.modal('show');\n\n        // Focus title input\n        resourceTitleElem.focus();\n    }\n\n    /**\n    * Edit a resource using modal dialog\n    */\n    function editResource(resource) {\n        // Prepare modal dialog\n        resourceModal.find('.modal-title').text('Edit Resource');\n\n        resourceTitleElem.val(resource.title);\n        resourceGroupElem.val(resource.group);\n        resourceColorElem.val(resource.eventColor);\n\n        resourceDeleteButton.show();\n        resourceSubmitButton.show();\n\n        // Action on submit: Update resource\n        resourceModal.parent('form').off().on('submit', function(){\n            $.ajax(resource.url, {\n                method: 'PUT',\n                data: {\n                    _token: csrfToken,\n                    title: resourceTitleElem.val(),\n                    group: resourceGroupElem.val(),\n                    color: resourceColorElem.val(),\n                }\n            })\n            .done(function() {\n                resourceModal.modal('hide');\n                calendar.fullCalendar('refetchResources');\n            })\n            .fail(function(jqXHR, textStatus) {\n                alert('Error: ' + (jqXHR.responseJSON.message ? jqXHR.responseJSON.message : jqXHR.responseText));\n            });\n        });\n\n        // Action on delete button click: Delete event\n        resourceDeleteButton.off().on('click', function(){\n            if (confirm('Are you sure you want to delete thre resource \\'' + resource.title + '\\'?')) {\n                $.ajax(resource.url, {\n                    method: 'DELETE',\n                    data: {\n                        _token: csrfToken,\n                    },\n                })\n                .done(function() {\n                    resourceModal.modal('hide');\n                    calendar.fullCalendar('removeResource', resource);\n                })\n                .fail(function(jqXHR, textStatus) {\n                    alert('Error: ' + (jqXHR.responseJSON.message ? jqXHR.responseJSON.message : jqXHR.responseText));\n                });\n            }\n        });\n\n        // Show modal\n        resourceModal.modal('show');\n\n        // Focus title input\n        resourceTitleElem.focus();\n    }\n\n    /**\n    * Create a new event using modal dialog\n    */\n    function createEvent(start, end, jsEvent, view, resource) {\n        var resources = calendar.fullCalendar('getResources');\n        if (resources.length == 0) {\n            alert('Please add a resource first before creating an event!');\n            calendar.fullCalendar('unselect');\n            return;\n        }\n\n        // Prepare modal dialog\n        modal.find('.modal-title').text('Create Event');\n        dateStartElem.text(getDateStartLabel(start));\n        dateEndElem.text(getDateEndLabel(start, end));\n        titleElem.val('').prop(\"readonly\", false);\n        descriptionElem.val('').prop(\"readonly\", false);\n        updateResourceIdSelect(resource ? resource.id : resources[0].id, false);\n        deleteButton.hide();\n        submitButton.show();\n        creditsElement.hide();\n\n        // Action on cancel: Hide modal dialog\n        modal.on('hide.bs.modal', function (e) {\n            calendar.fullCalendar('unselect');\n        });\n\n        // Action on submit: Store event\n        modal.parent('form').off().on('submit', function(){\n            $.ajax(storeEventUrl, {\n                method: 'POST',\n                data: {\n                    _token: csrfToken,\n                    title: titleElem.val(),\n                    description: descriptionElem.val(),\n                    resourceId: resourceIdInputElem.val(),\n                    start: start.format(),\n                    end: end ? end.format() : null,\n                }\n            })\n            .done(function(eventData) {\n                modal.modal('hide');\n                calendar.fullCalendar('renderEvent', eventData, true);\n            })\n            .fail(function(jqXHR, textStatus) {\n                alert('Error: ' + (jqXHR.responseJSON.message ? jqXHR.responseJSON.message : jqXHR.responseText));\n            });\n        });\n\n        // Show modal\n        modal.modal('show');\n\n        // Focus title input\n        titleElem.focus();\n    }\n\n    /**\n    * Edit a new event using modal dialog\n    */\n    function showEvent(calEvent) {\n        // Prepare dialog\n        modal.find('.modal-title').text('View Event');\n        dateStartElem.text(getDateStartLabel(calEvent.start));\n        dateEndElem.text(getDateEndLabel(calEvent.start, calEvent.end));\n        titleElem.val(calEvent.title).prop(\"readonly\", true);\n        descriptionElem.val(calEvent.description).prop(\"readonly\", true);\n        updateResourceIdSelect(calEvent.resourceId, true);\n\n        deleteButton.hide();\n        submitButton.hide();\n        if (calEvent.user.id != currentUserId ) {\n            creditsElement.find('[rel=\"author\"]').text(calEvent.user.name);\n            creditsElement.show();\n        } else {\n            creditsElement.hide();\n        }\n\n        // Show modal\n        modal.modal('show');\n\n        // Return false so default behaviour (navigate to event URL) is supressed\n        return false;\n    }\n\n    /**\n    * Edit a new event using modal dialog\n    */\n    function editEvent(calEvent, jsEvent, view) {\n        if (!calEvent.editable) {\n            return showEvent(calEvent);\n        }\n\n        // Prepare dialog\n        modal.find('.modal-title').text('Edit Event');\n        dateStartElem.text(getDateStartLabel(calEvent.start));\n        dateEndElem.text(getDateEndLabel(calEvent.start, calEvent.end));\n        titleElem.val(calEvent.title).prop(\"readonly\", false);\n        descriptionElem.val(calEvent.description).prop(\"readonly\", false);\n        updateResourceIdSelect(calEvent.resourceId, false);\n        deleteButton.show();\n        submitButton.show();\n        if (calEvent.user.id != currentUserId ) {\n            creditsElement.find('[rel=\"author\"]').text(calEvent.user.name);\n            creditsElement.show();\n        } else {\n            creditsElement.hide();\n        }\n\n        // Action on form submit: Update event\n        modal.parent('form').off().on('submit', function(){\n            $.ajax(calEvent.url, {\n                method: 'PUT',\n                data: {\n                    _token: csrfToken,\n                    title: titleElem.val(),\n                    description: descriptionElem.val(),\n                    resourceId: resourceIdInputElem.val(),\n                }\n            })\n            .done(function() {\n                modal.modal('hide');\n                calEvent.title = titleElem.val();\n                calEvent.description = descriptionElem.val();\n                calEvent.resourceId = resourceIdInputElem.val();\n                calendar.fullCalendar('updateEvent', calEvent);\n            })\n            .fail(function(jqXHR, textStatus) {\n                alert('Error: ' + (jqXHR.responseJSON.message ? jqXHR.responseJSON.message : jqXHR.responseText));\n            });\n        });\n\n        // Action on delete button click: Delete event\n        deleteButton.off().on('click', function(){\n            if (confirm('Really delete event \\'' + calEvent.title + '\\'?')) {\n                $.ajax(calEvent.url, {\n                    method: 'DELETE',\n                    data: {\n                        _token: csrfToken,\n                    },\n                })\n                .done(function() {\n                    modal.modal('hide');\n                    calendar.fullCalendar('removeEvents', calEvent.id);\n                })\n                .fail(function(jqXHR, textStatus) {\n                    alert('Error: ' + (jqXHR.responseJSON.message ? jqXHR.responseJSON.message : jqXHR.responseText));\n                });\n            }\n        });\n\n        // Show modal\n        modal.modal('show');\n\n        // Select title\n        titleElem.select();\n\n        // Return false so default behaviour (navigate to event URL) is supressed\n        return false;\n    }\n\n    /**\n    * Updates an event after dragging / resizing\n    */\n    function updateEventDate(calEvent, delta, revertFunc) {\n        $.ajax(calEvent.updateDateUrl, {\n            method: 'PUT',\n            data : {\n                _token: csrfToken,\n                start: calEvent.start.format(),\n                end: calEvent.end ? calEvent.end.format() : null,\n                resourceId: calEvent.resourceId,\n            }\n        })\n        .fail(function(jqXHR, textStatus) {\n            alert('Error: ' + (jqXHR.responseJSON.message ? jqXHR.responseJSON.message : jqXHR.responseText));\n            revertFunc();\n        });\n    }\n\n    /**\n    * Creates a label text for the start date\n    */\n    function getDateStartLabel(start) {\n        var isMidNight = start.format('HH:mm:ss') == '00:00:00';\n        return start.format(isMidNight ? 'LL' : 'LLL'); // LL: Date, LLL: Date with time\n    }\n\n    /**\n    * Creates a label text for the end date\n    */\n    function getDateEndLabel(start, end) {\n        var prefix = ' - ';\n        if (start.isSame(end, 'day')) {\n            return prefix + end.format('LT'); // LT: Time\n        }\n        var startIsMidNight = start.format('HH:mm:ss') == '00:00:00';\n        var endIsMidNight = end.format('HH:mm:ss') == '00:00:00';\n        if (startIsMidNight && endIsMidNight) {\n            var newEnd = end.clone().subtract(1, 'day');\n            return start.isSame(newEnd, 'day') ? '' : prefix + newEnd.format('LL');\n        }\n        return prefix + end.format('LLL');\n    }\n\n    function updateResourceIdSelect(resourceId, disabled) {\n        var resources = calendar.fullCalendar('getResources');\n        resourceIdInputElem.empty();\n        var resourceColors = {};\n        $.each(resources, function (i, item) {\n            resourceIdInputElem.append($('<option>', { \n                value: item.id,\n                text : item.title \n            }));\n            resourceColors[item.id] = item.eventColor;\n        });\n        //console.log(resourceColors);\n        resourceIdInputElem.val(resourceId).change().prop(\"disabled\", disabled);            \n\n        // Change color of the label next to the resource select\n        var setresourceIdInputElemColor = function() {\n            var color = resourceColors[resourceIdInputElem.val()];\n            resourceIdInputElem.siblings().find('label').css('color', color ? color : 'inherit');\n        }\n        resourceIdInputElem.off('change').on('change', setresourceIdInputElemColor)\n        setresourceIdInputElemColor();\n    }\n\n});\n\nfunction getRandomColor() {\n    var letters = '0123456789ABCDEF';\n    var color = '#';\n    for (var i = 0; i < 6; i++) {\n      color += letters[Math.floor(Math.random() * 16)];\n    }\n    return color;\n}"],"sourceRoot":""}