{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./resources/js/people.js","webpack:///./resources/js/pagination.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","delayTimer","pagination","require","orderByField","lastOrderByField","orderByDirection","filterTable","page","$","html","tbody","empty","append","text","attr","paginator","paginationInfo","post","filterUrl","csrfToken","val","result","data","length","each","k","v","person","icon","gender","bulk_select","bulk_select_elem","id","on","this","prop","parents","addClass","removeClass","num_selected","find","show","hide","family_name","date_of_birth","nationality","police_no","languages","Array","isArray","join","remarks","created_at","writeRow","updatePagination","from","to","total","fail","jqXHR","textStatus","e","keyCode","elem","clearTimeout","setTimeout","focus","blur","createPaginationItem","content","pageTarget","elemClass","callback","container","current_page","Math","max","last_page"],"mappings":"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","file":"/js/people.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 181);\n","pagination = require('./pagination.js');\r\n\r\nvar delayTimer;\r\nvar orderByField = 'family_name';\r\nvar lastOrderByField = 'family_name';\r\nvar orderByDirection = 'asc';\r\n\r\n$(function(){\r\n    $('#filter input').on('change keyup', function(e){\r\n        var keyCode = e.keyCode;\r\n        if (keyCode == 0 || keyCode == 8 || keyCode == 13 || keyCode == 27 || keyCode == 46 || (keyCode >= 48 && keyCode <= 90) || (keyCode >= 96 && keyCode <= 111)) {\r\n            var elem = $(this);\r\n\r\n            $('#filter-status').html('');\r\n            var tbody = $('#results-table tbody');\r\n            tbody.empty();\r\n            tbody.append($('<tr>')\r\n                .append($('<td>')\r\n                    .text('Searching...')\r\n                    .attr('colspan', 13))\r\n            );\r\n\r\n            clearTimeout(delayTimer);\r\n            delayTimer = setTimeout(function(){\r\n                if (keyCode == 27) {  // ESC\r\n                    elem.val('').focus();\r\n                }\r\n                if (keyCode == 13) {  // Enter\r\n                    elem.blur();\r\n                }\r\n                filterTable(1);\r\n            }, 300);\r\n        }\r\n    });\r\n\r\n    $('a.sort').on('click', function(){\r\n        orderByField = $(this).attr('data-field');\r\n        if ((lastOrderByField == orderByField && orderByDirection != 'desc')) {\r\n            orderByDirection = 'desc';\r\n        } else {\r\n            orderByDirection = 'asc';\r\n        }\r\n        lastOrderByField = orderByField;\r\n        filterTable(1);\r\n    });\r\n\r\n    $('#reset-filter').on('click', function(){\r\n        $('#filter input[name=\"family_name\"]').val('');\r\n        $('#filter input[name=\"name\"]').val('');\r\n        $('#filter input[name=\"date_of_birth\"]').val('');\r\n        $('#filter input[name=\"nationality\"]').val('');\r\n        $('#filter input[name=\"police_no\"]').val('');\r\n        $('#filter input[name=\"languages\"]').val('');\r\n        $('#filter input[name=\"remarks\"]').val('');\r\n        filterTable(1);\r\n    });\r\n\r\n    filterTable(1);\r\n});\r\n\r\nfunction filterTable(page) {\r\n    $('#filter-status').html('');\r\n    var tbody = $('#results-table tbody');\r\n    tbody.empty();\r\n    tbody.append($('<tr>')\r\n        .append($('<td>')\r\n            .text('Searching...')\r\n            .attr('colspan', 13))\r\n    );\r\n\r\n    var paginator = $('#paginator');\r\n    paginator.empty();\r\n\r\n    var paginationInfo = $( '#paginator-info' );\r\n    paginationInfo.empty();\r\n    $.post( filterUrl, {\r\n        \"_token\": csrfToken,\r\n        \"family_name\": $('#filter input[name=\"family_name\"]').val(),\r\n        \"name\": $('#filter input[name=\"name\"]').val(),\r\n        \"date_of_birth\": $('#filter input[name=\"date_of_birth\"]').val(),\r\n        \"nationality\": $('#filter input[name=\"nationality\"]').val(),\r\n        \"police_no\": $('#filter input[name=\"police_no\"]').val(),\r\n        \"languages\": $('#filter input[name=\"languages\"]').val(),\r\n        \"remarks\": $('#filter input[name=\"remarks\"]').val(),\r\n        \"page\": page,\r\n        'orderByField': orderByField,\r\n        'orderByDirection': orderByDirection,\r\n    }, function(result) {\r\n        tbody.empty();\r\n        if (result.data.length > 0) {\r\n            $.each(result.data, function(k, v){\r\n                tbody.append(writeRow(v));\r\n            });\r\n            pagination.updatePagination(paginator, result, filterTable);\r\n            paginationInfo.html( result.from + ' - ' + result.to + ' of ' + result.total );\r\n        } else {\r\n            tbody.append($('<tr>')\r\n                .addClass('warning')\r\n                .append($('<td>')\r\n                    .text('No results')\r\n                    .attr('colspan', 13))\r\n            );\r\n        }\r\n    })\r\n        .fail(function(jqXHR, textStatus) {\r\n            tbody.empty();\r\n            tbody.append($('<tr>')\r\n                .addClass('danger')\r\n                .append($('<td>')\r\n                    .text(textStatus)\r\n                    .attr('colspan', 13))\r\n            );\r\n        });\r\n}\r\n\r\nfunction writeRow(person) {\r\n    var icon = '';\r\n    if (person.gender == 'f') {\r\n        icon = 'female';\r\n    }\r\n    if (person.gender == 'm') {\r\n        icon = 'male';\r\n    }\r\n    \r\n    bulk_select = ($('#bulk_select_on').length > 0)\r\n    bulk_select_elem = null;\r\n    if (bulk_select) {\r\n        bulk_select_elem = $('<td>')\r\n            .append($('<input>')\r\n                .attr('type', 'checkbox')\r\n                .attr('name', 'selected_people[]')\r\n                .val(person.id)\r\n                .on('change', function() {\r\n                    if ($(this).prop('checked')) {\r\n                        $(this).parents('tr').addClass('table-secondary');\r\n                    } else {\r\n                        $(this).parents('tr').removeClass('table-secondary');\r\n                    }\r\n                    num_selected = $('table').find('input[name=\"selected_people[]\"]:checked').length;\r\n                    if (num_selected > 0) {\r\n                        $('#selected_actions_container').show();\r\n                        $('#selected_count').text(num_selected);\r\n                        $('#selected_actions_container').find('button').each(function(){\r\n                            if ($(this).data('bulk-min')) {\r\n                                if ($(this).data('bulk-min') <= num_selected) {\r\n                                    $(this).show();\r\n                                } else {\r\n                                    $(this).hide();\r\n                                }\r\n                            }\r\n                        });\r\n                    } else {\r\n                        $('#selected_actions_container').hide();\r\n                    }\r\n                })\r\n            )\r\n    }\r\n\r\n    return $('<tr>')\r\n        .attr('id', 'person-' + person.id)\r\n        .append(bulk_select_elem)\r\n        .append($('<td>').html(icon != '' ? '<i class=\"fa fa-' + icon + '\"></i>' : ''))\r\n        .append($('<td>')\r\n            .append($('<a>')\r\n                .attr('href', 'people/' + person.id)\r\n                .text(person.family_name)\r\n            )\r\n        )\r\n        .append($('<td>')\r\n            .append($('<a>')\r\n                .attr('href', 'people/' + person.id)\r\n                .text(person.name)\r\n            )\r\n        )\r\n        .append($('<td>').text(person.date_of_birth))\r\n        .append($('<td>').text(person.nationality))\r\n        .append($('<td>').text(person.police_no))\r\n        .append($('<td>').text(person.languages ? Array.isArray(person.languages) ? person.languages.join(', ') : person.languages : ''))\r\n        .append($('<td>').text(person.remarks))\r\n        // TODO .append($('<td>').html(person.helper ? '<i class=\"fa fa-check\"></i>' : '-'))\r\n        .append($('<td>').text(person.created_at));\r\n}","module.exports = {\r\n    updatePagination: updatePagination\r\n};\r\n\r\nfunction updatePagination( container, result, callback ) {\r\n    container.empty();\r\n\r\n    // First page\r\n    if (result.current_page > 1) {\r\n        container.append( createPaginationItem( '&laquo;', 1, null, callback ) );\r\n    } else {\r\n        container.append( createPaginationItem( '&laquo;', null, 'disabled', callback ) );\r\n    }\r\n\r\n    // Previous page\r\n    if (result.current_page > 1) {\r\n        container.append( createPaginationItem( '&lsaquo;', result.current_page - 1, null, callback ) );\r\n    } else {\r\n        container.append( createPaginationItem( '&lsaquo;', null, 'disabled', callback ) );\r\n    }\r\n\r\n    // Pages before\r\n    for (i = 2 + Math.max(2 - ( result.last_page - result.current_page ), 0); i >= 1; i--) {\r\n        if (result.current_page > i) {\r\n            container.append( createPaginationItem( result.current_page - i, result.current_page - i, null, callback ) );\r\n        }\r\n    }\r\n\r\n    // Current page\r\n    container.append( createPaginationItem( result.current_page, null, 'active', callback ) );\r\n\r\n    // Pages after\r\n    for (i = 1; i <= 2 + (Math.max(0, 3 - result.current_page)); i++) {\r\n        if ( result.current_page  + i - 1 < result.last_page ) {\r\n            container.append( createPaginationItem( result.current_page + i, result.current_page + i, null, callback ) );\r\n        }\r\n    }\r\n\r\n    // Next page\r\n    if (result.current_page < result.last_page) {\r\n        container.append( createPaginationItem( '&rsaquo;', result.current_page + 1, null, callback ) );\r\n    } else {\r\n        container.append( createPaginationItem( '&rsaquo;', null, 'disabled', callback ) );\r\n    }\r\n\r\n    // Last page\r\n    if (result.current_page < result.last_page) {\r\n        container.append( createPaginationItem( '&raquo;', result.last_page, null, callback ) );\r\n    } else {\r\n        container.append( createPaginationItem( '&raquo;', null, 'disabled', callback ) );\r\n    }\r\n}\r\n\r\nfunction createPaginationItem( content, pageTarget, elemClass, callback ) {\r\n    var elem = $( '<li>' )\r\n        .addClass( 'page-item' )\r\n    if ( pageTarget != null ) {\r\n        elem.append($( '<a>' )\r\n            .addClass( 'page-link' )\r\n            .attr('href', 'javascript:;')\r\n            .html( content )\r\n            .on('click', function(){\r\n                callback( pageTarget );\r\n            })\r\n        )\r\n    } else {\r\n        elem.append($( '<span>' )\r\n            .addClass( 'page-link' )\r\n            .html( content )\r\n        )\r\n    }\r\n    if ( elemClass != null ) {\r\n        elem.addClass( elemClass )\r\n    }\r\n    return elem;\r\n}\r\n"],"sourceRoot":""}