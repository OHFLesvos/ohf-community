{"version":3,"sources":["webpack:///./resources/js/bootstrap.js","webpack:///./resources/js/app.js","webpack:///./resources/js/utils/form.js"],"names":["window","$","jQuery","jquery","Popper","popperJs","document","ready","bsCustomFileInput","e","tagifyAjaxController","hideNavigation","removeClass","overlay","fadeOut","off","click","hasClass","addClass","fadeIn","on","showNavigation","confirm","this","attr","nav","siblings","is","each","value","val","focus","Snackbar","text","html","duration","data","pos","actionText","actionTextColor","customClass","querySelectorAll","forEach","input","suggestions","getAttribute","JSON","parse","tagify","Tagify","whitelist","suggestionsUrl","detail","settings","length","abort","AbortController","fetch","signal","then","RES","json","dropdown","show","call","postRequest","path","params","method","form","createElement","setAttribute","token","head","querySelector","key","_token","content","Object","prototype","hasOwnProperty","hiddenField","appendChild","body","submit","url","navigator","share","title","console","log","error","dummy","appendTo","select","execCommand","remove","template","find","index","clone","toggleClass","insertBefore","replace","parents","change","table","empty","append","FormData","files","type","processData","contentType","success","tbody","headers","header","row","td","keys","available","td2","checkbox","defaults","prop","xhr","status","message","responseText"],"mappings":"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","file":"/js/app.js","sourcesContent":["import jquery from 'jquery'\r\nimport 'bootstrap'\r\nimport popperJs from 'popper.js'\r\nimport bsCustomFileInput from 'bs-custom-file-input'\r\n\r\n/**\r\n * We'll load jQuery and the Bootstrap jQuery plugin which provides support\r\n * for JavaScript based Bootstrap features such as modals and tabs. This\r\n * code may be modified to fit the specific needs of your application.\r\n */\r\n\r\ntry {\r\n    window.$ = window.jQuery = jquery\r\n    window.Popper = popperJs\r\n\r\n    // bs-custom-file-input\r\n    jquery(document).ready(function () {\r\n        bsCustomFileInput.init()\r\n    })\r\n\r\n} catch (e) {\r\n    // Noop\r\n}\r\n\r\n/**\r\n * Echo exposes an expressive API for subscribing to channels and listening\r\n * for events that are broadcast by Laravel. Echo and event broadcasting\r\n * allows your team to easily build robust real-time web applications.\r\n */\r\n\r\n// import Echo from 'laravel-echo';\r\n\r\n// window.Pusher = require('pusher-js');\r\n\r\n// window.Echo = new Echo({\r\n//     broadcaster: 'pusher',\r\n//     key: process.env.MIX_PUSHER_APP_KEY,\r\n//     cluster: process.env.MIX_PUSHER_APP_CLUSTER,\r\n//     forceTLS: true\r\n// });\r\n","import './bootstrap'\r\nimport $ from 'jquery'\r\n\r\n/*====================================\r\n=            ON DOM READY            =\r\n====================================*/\r\n$(function() {\r\n    $('.toggle-nav').click(function() {\r\n        toggleNav();\r\n    });\r\n});\r\n\r\n/*========================================\r\n=            CUSTOM FUNCTIONS            =\r\n========================================*/\r\n\r\nfunction showNavigation() {\r\n    $('.site-wrapper').addClass('show-nav');\r\n    var overlay = $('#overlay_dark');\r\n    overlay.fadeIn('fast');\r\n    overlay.on('click', function(){\r\n        hideNavigation();\r\n    });\r\n}\r\n\r\nfunction hideNavigation() {\r\n    $('.site-wrapper').removeClass('show-nav');\r\n    var overlay = $('#overlay_dark');\r\n    overlay.fadeOut('fast');\r\n    overlay.off('click');\r\n}\r\n\r\nfunction toggleNav() {\r\n    if ($('.site-wrapper').hasClass('show-nav')) {\r\n        // Do things on Nav Close\r\n        hideNavigation();\r\n    } else {\r\n        // Do things on Nav Open\r\n        showNavigation();\r\n    }\r\n}\r\n\r\n$(function(){\r\n\r\n    // Delete confirmation method\r\n    $( '.delete-confirmation' ).on('click', function(){\r\n        return confirm( $(this).attr( 'data-confirmation' ) );\r\n    });\r\n\r\n    //  Context navigation\r\n    $('.context-nav-toggle').on('click', function(){\r\n        var nav = $(this).siblings('.context-nav');\r\n        var overlay = $('#overlay');\r\n        if (nav.is(\":visible\")) {\r\n            nav.fadeOut('fast');\r\n            overlay.fadeOut('fast');\r\n        } else {\r\n            nav.fadeIn('fast');\r\n            overlay.fadeIn('fast');\r\n            overlay.on('click', function(){\r\n                if ($('.context-nav').is(\":visible\")) {\r\n                    nav.fadeOut('fast');\r\n                    overlay.fadeOut('fast');\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n});\r\n\r\n// Elements with the selector class gain focus and have their cursor set to the end\r\n$(function(){\r\n    $('.focus-tail').each(function(){\r\n        var value = $(this).val();\r\n        $(this).val('').focus().val(value);\r\n    });\r\n});\r\n\r\n//\r\n// Snackbar\r\n//\r\nimport Snackbar from 'node-snackbar'\r\n\r\n$(function(){\r\n    $('.snack-message').each(function() {\r\n        Snackbar.show({\r\n            text: $(this).html(),\r\n            duration: $(this).data('duration') ? $(this).data('duration') : 2500,\r\n            pos: 'bottom-center',\r\n            actionText: $(this).data('action') ? $(this).data('action') : null,\r\n            actionTextColor: null,\r\n            customClass: $(this).data('class'),\r\n        });\r\n    });\r\n});\r\n\r\n// Fullscreen lightbox\r\nimport 'fslightbox'\r\n\r\n/**\r\n * Tags input\r\n */\r\nimport Tagify from '@yaireo/tagify'\r\nvar tagifyAjaxController; // for aborting the call\r\n$(document).ready(function () {\r\n    document.querySelectorAll('input.tags').forEach((input) => {\r\n        var suggestions = input.getAttribute('data-suggestions') != null ? JSON.parse(input.getAttribute('data-suggestions')) : [];\r\n        var tagify = new Tagify(input, {\r\n            whitelist: suggestions\r\n        });\r\n\r\n        var suggestionsUrl = input.getAttribute('data-suggestions-url');\r\n        if (suggestionsUrl) {\r\n            tagify.on('input', function(e){\r\n                var value = e.detail;\r\n                tagify.settings.whitelist.length = 0; // reset the whitelist\r\n\r\n                // https://developer.mozilla.org/en-US/docs/Web/API/AbortController/abort\r\n                tagifyAjaxController && tagifyAjaxController.abort();\r\n                tagifyAjaxController = new AbortController();\r\n\r\n                fetch(suggestionsUrl + value, {\r\n                        signal: tagifyAjaxController.signal\r\n                    })\r\n                    .then(RES => RES.json())\r\n                    .then(function(whitelist){\r\n                        tagify.settings.whitelist = whitelist;\r\n                        tagify.dropdown.show.call(tagify, value); // render the suggestions dropdown\r\n                    })\r\n\r\n            });\r\n        }\r\n\r\n    });\r\n});\r\n\r\n/**\r\n * Method for sending post request\r\n */\r\nimport { postRequest } from '@/utils/form'\r\nwindow.postRequest = postRequest\r\n\r\n//\r\n// Share an URL\r\n//\r\n$(function(){\r\n    $('[rel=\"share-url\"]').on('click', function() {\r\n        var url = $(this).data('url');\r\n        if (navigator.share) {\r\n            navigator.share({\r\n                    title: document.title,\r\n                    url: url,\r\n                })\r\n                .then(() => console.log('Successful share'))\r\n                .catch((error) => console.log('Error sharing', error));\r\n        } else {\r\n            var dummy = $('<input>').val(url).appendTo('body').select();\r\n            document.execCommand('copy');\r\n            dummy.remove();\r\n            Snackbar.show({\r\n                text: 'Copied URL to clipboard.',\r\n                duration: 2500,\r\n                pos: 'bottom-center',\r\n            });\r\n        }\r\n    });\r\n});\r\n\r\n/**\r\n * Input list with date range\r\n */\r\n\r\n$(function() {\r\n    $('.input-list-add-button').click(function() {\r\n        var template = $($(this).data('table')).find('tr.template');\r\n\r\n        var index = template.data('index');\r\n        template.data('index', index + 1);\r\n\r\n        template.clone(true)\r\n            .toggleClass('template')\r\n            .insertBefore(template)\r\n            .fadeIn()\r\n            .find('[data-name]')\r\n                .each(function() {\r\n                    $(this).attr('name', $(this).data('name').replace(/\\$index\\$/, index));\r\n                });\r\n    });\r\n    $('.input-list-delete-button').click(function() {\r\n        $(this).parents('tr')\r\n            .fadeOut(400, function() {\r\n            $(this).remove();\r\n        });\r\n    });\r\n});\r\n\r\n\r\n/**\r\n * Header mapping for import from tables\r\n */\r\n\r\n$(function() {\r\n    $('.import-form-file').change(function() {\r\n        var table = $('.import-form-header-mapping');\r\n        table.removeClass('d-none')\r\n            .find('tbody')\r\n                .empty()\r\n                .append($('<tr><td>Loading...</td></tr>'));\r\n\r\n        var data = new FormData();\r\n        data.append('file', this.files[0]);\r\n\r\n        $.ajax({\r\n            url: table.data('query'),\r\n            type: 'POST',\r\n            data: data,\r\n            processData: false,\r\n            contentType: false,\r\n            success: function (data) {\r\n                var tbody = table.find('tbody').empty();\r\n                for(var index in data.headers) {\r\n                    var header = data.headers[index];\r\n                    var row = $('<tr>').appendTo(tbody);\r\n                    $('<td>').text(header).appendTo(row);\r\n                    var td = $('<td>').appendTo(row);\r\n                    $('<input>', { 'type': 'hidden', 'name': 'map[' + index + '][from]', 'value': header }).appendTo(td);\r\n\r\n                    var select = $('<select>', { 'name': 'map[' + index + '][to]' }).appendTo(td);\r\n                    Object.keys(data.available).forEach(function(value) {\r\n                        $('<option>', { 'value': value }).text(data.available[value]).appendTo(select);\r\n                    });\r\n\r\n                    var td2 = $('<td>').appendTo(row);\r\n                    var checkbox = $('<input>', { 'type': 'checkbox', 'name': 'map[' + index + '][append]', 'value': 'true' }).appendTo(td2);\r\n\r\n                    if(header in data.defaults) {\r\n                        select.val(data.defaults[header].value);\r\n                        checkbox.prop('checked', data.defaults[header].append);\r\n                    }\r\n                }\r\n            },\r\n            error: function (xhr, status) {\r\n                var message = status;\r\n                try {\r\n                    message = JSON.parse(xhr.responseText).message;\r\n                } catch(e) {\r\n                    // ignore\r\n                }\r\n                table.find('td').text('Error: ' + message);\r\n            },\r\n        });\r\n    });\r\n});\r\n","export function postRequest (path, params, method) {\r\n    method = method || \"post\"; // Set method to post by default if not specified.\r\n\r\n    // The rest of this code assumes you are not using a library.\r\n    // It can be made less wordy if you use one.\r\n    var form = document.createElement(\"form\");\r\n    form.setAttribute(\"method\", method);\r\n    form.setAttribute(\"action\", path);\r\n\r\n    // CSRF token\r\n    let token = document.head.querySelector('meta[name=\"csrf-token\"]');\r\n    if (token) {\r\n        params._token = token.content;\r\n    }\r\n\r\n    for (var key in params) {\r\n        if (Object.prototype.hasOwnProperty.call(params, key)) {\r\n            var hiddenField = document.createElement(\"input\");\r\n            hiddenField.setAttribute(\"type\", \"hidden\");\r\n            hiddenField.setAttribute(\"name\", key);\r\n            hiddenField.setAttribute(\"value\", params[key]);\r\n\r\n            form.appendChild(hiddenField);\r\n        }\r\n    }\r\n\r\n    document.body.appendChild(form);\r\n    form.submit();\r\n}\r\n"],"sourceRoot":""}