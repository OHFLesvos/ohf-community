{"version":3,"sources":["webpack:///./resources/js/bootstrap.js","webpack:///./resources/js/editor.js","webpack:///./resources/js/app.js","webpack:///./resources/js/utils/form.js"],"names":["window","$","jQuery","jquery","Popper","popperJs","document","ready","bsCustomFileInput","e","getElementById","summernote","toolbar","styleTags","buttons","lfm","context","button","contents","tooltip","click","options","cb","route_prefix","lfmItems","Array","isArray","forEach","lfmItem","invoke","url","type","prefix","open","SetUrl","render","dialogsInBody","tagifyAjaxController","hideNavigation","removeClass","overlay","fadeOut","off","hasClass","addClass","fadeIn","on","showNavigation","confirm","this","attr","nav","siblings","is","each","value","val","focus","Snackbar","text","html","duration","data","pos","actionText","actionTextColor","customClass","querySelectorAll","input","suggestions","getAttribute","JSON","parse","tagify","Tagify","whitelist","suggestionsUrl","detail","settings","length","abort","AbortController","fetch","signal","then","RES","json","dropdown","show","call","postRequest","path","params","method","form","createElement","setAttribute","token","head","querySelector","key","_token","content","Object","prototype","hasOwnProperty","hiddenField","appendChild","body","submit","navigator","share","title","console","log","error","dummy","appendTo","select","execCommand","remove","template","find","index","clone","toggleClass","insertBefore","replace","parents","change","table","empty","append","FormData","files","processData","contentType","success","tbody","headers","header","row","td","keys","available","td2","checkbox","defaults","prop","xhr","status","message","responseText"],"mappings":"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","file":"/js/app.js","sourcesContent":["import jquery from 'jquery'\r\nimport 'bootstrap'\r\nimport popperJs from 'popper.js'\r\nimport bsCustomFileInput from 'bs-custom-file-input'\r\n\r\n/**\r\n * We'll load jQuery and the Bootstrap jQuery plugin which provides support\r\n * for JavaScript based Bootstrap features such as modals and tabs. This\r\n * code may be modified to fit the specific needs of your application.\r\n */\r\n\r\ntry {\r\n    window.$ = window.jQuery = jquery\r\n    window.Popper = popperJs\r\n\r\n    // bs-custom-file-input\r\n    jquery(document).ready(function () {\r\n        bsCustomFileInput.init()\r\n    })\r\n\r\n} catch (e) {\r\n    // Noop\r\n}\r\n\r\n/**\r\n * Echo exposes an expressive API for subscribing to channels and listening\r\n * for events that are broadcast by Laravel. Echo and event broadcasting\r\n * allows your team to easily build robust real-time web applications.\r\n */\r\n\r\n// import Echo from 'laravel-echo';\r\n\r\n// window.Pusher = require('pusher-js');\r\n\r\n// window.Echo = new Echo({\r\n//     broadcaster: 'pusher',\r\n//     key: process.env.MIX_PUSHER_APP_KEY,\r\n//     cluster: process.env.MIX_PUSHER_APP_CLUSTER,\r\n//     forceTLS: true\r\n// });\r\n","import $ from \"jquery\";\nimport \"summernote\";\n\n$(function() {\n    if (document.getElementById(\"editor\")) {\n        // Define function to open filemanager window\n        var lfm = function(options, cb) {\n            var route_prefix =\n                options && options.prefix\n                    ? options.prefix\n                    : \"/laravel-filemanager\";\n            window.open(\n                route_prefix + \"?type=\" + options.type || \"file\",\n                \"FileManager\",\n                \"width=900,height=600\"\n            );\n            window.SetUrl = cb;\n        };\n\n        // Define LFM summernote button\n        var LFMButton = function(context) {\n            var ui = $.summernote.ui;\n            var button = ui.button({\n                contents: '<i class=\"note-icon-picture\"></i> ',\n                tooltip: \"Insert image with filemanager\",\n                click: function() {\n                    lfm(\n                        { type: \"image\", prefix: \"/laravel-filemanager\" },\n                        function(lfmItems) {\n                            if (Array.isArray(lfmItems)) {\n                                lfmItems.forEach(function(lfmItem) {\n                                    context.invoke(\"insertImage\", lfmItem.url);\n                                });\n                            } else {\n                                context.invoke(\"insertImage\", lfmItems);\n                            }\n                        }\n                    );\n                }\n            });\n            return button.render();\n        };\n\n        $(\"#editor\").summernote({\n            toolbar: [\n                // [groupName, [list of button]]\n                // see https://summernote.org/deep-dive/#custom-toolbar-popover\n                [\"style\", [\"bold\", \"italic\", \"underline\", \"clear\"]],\n                [\"para\", [\"style\", \"ul\", \"ol\" /*'paragraph', */]],\n                [\"color\", [\"forecolor\"]],\n                [\"insert\", [\"link\", \"lfm\", /*'picture', */ \"video\", \"table\"]],\n                [\"misc\", [\"undo\", \"redo\", \"fullscreen\", \"codeview\"]]\n            ],\n            styleTags: [\"p\", \"h3\", \"h4\"],\n            buttons: {\n                lfm: LFMButton\n            },\n            dialogsInBody: true\n        });\n    }\n});\n","import '@/bootstrap'\nimport $ from 'jquery'\nimport '@/editor'\nimport '@/editor'\n\n/*====================================\n=            ON DOM READY            =\n====================================*/\n$(function() {\n    $('.toggle-nav').click(function() {\n        toggleNav();\n    });\n});\n\n/*========================================\n=            CUSTOM FUNCTIONS            =\n========================================*/\n\nfunction showNavigation() {\n    $('.site-wrapper').addClass('show-nav');\n    var overlay = $('#overlay_dark');\n    overlay.fadeIn('fast');\n    overlay.on('click', function(){\n        hideNavigation();\n    });\n}\n\nfunction hideNavigation() {\n    $('.site-wrapper').removeClass('show-nav');\n    var overlay = $('#overlay_dark');\n    overlay.fadeOut('fast');\n    overlay.off('click');\n}\n\nfunction toggleNav() {\n    if ($('.site-wrapper').hasClass('show-nav')) {\n        // Do things on Nav Close\n        hideNavigation();\n    } else {\n        // Do things on Nav Open\n        showNavigation();\n    }\n}\n\n$(function(){\n\n    // Delete confirmation method\n    $( '.delete-confirmation' ).on('click', function(){\n        return confirm( $(this).attr( 'data-confirmation' ) );\n    });\n\n    //  Context navigation\n    $('.context-nav-toggle').on('click', function(){\n        var nav = $(this).siblings('.context-nav');\n        var overlay = $('#overlay');\n        if (nav.is(\":visible\")) {\n            nav.fadeOut('fast');\n            overlay.fadeOut('fast');\n        } else {\n            nav.fadeIn('fast');\n            overlay.fadeIn('fast');\n            overlay.on('click', function(){\n                if ($('.context-nav').is(\":visible\")) {\n                    nav.fadeOut('fast');\n                    overlay.fadeOut('fast');\n                }\n            });\n        }\n    });\n\n});\n\n// Elements with the selector class gain focus and have their cursor set to the end\n$(function(){\n    $('.focus-tail').each(function(){\n        var value = $(this).val();\n        $(this).val('').focus().val(value);\n    });\n});\n\n//\n// Snackbar\n//\nimport Snackbar from 'node-snackbar'\n\n$(function(){\n    $('.snack-message').each(function() {\n        Snackbar.show({\n            text: $(this).html(),\n            duration: $(this).data('duration') ? $(this).data('duration') : 2500,\n            pos: 'bottom-center',\n            actionText: $(this).data('action') ? $(this).data('action') : null,\n            actionTextColor: null,\n            customClass: $(this).data('class'),\n        });\n    });\n});\n\n// Fullscreen lightbox\nimport 'fslightbox'\n\n/**\n * Tags input\n */\nimport Tagify from '@yaireo/tagify'\nvar tagifyAjaxController; // for aborting the call\n$(document).ready(function () {\n    document.querySelectorAll('input.tags').forEach((input) => {\n        var suggestions = input.getAttribute('data-suggestions') != null ? JSON.parse(input.getAttribute('data-suggestions')) : [];\n        var tagify = new Tagify(input, {\n            whitelist: suggestions\n        });\n\n        var suggestionsUrl = input.getAttribute('data-suggestions-url');\n        if (suggestionsUrl) {\n            tagify.on('input', function(e){\n                var value = e.detail;\n                tagify.settings.whitelist.length = 0; // reset the whitelist\n\n                // https://developer.mozilla.org/en-US/docs/Web/API/AbortController/abort\n                tagifyAjaxController && tagifyAjaxController.abort();\n                tagifyAjaxController = new AbortController();\n\n                fetch(suggestionsUrl + value, {\n                        signal: tagifyAjaxController.signal\n                    })\n                    .then(RES => RES.json())\n                    .then(function(whitelist){\n                        tagify.settings.whitelist = whitelist;\n                        tagify.dropdown.show.call(tagify, value); // render the suggestions dropdown\n                    })\n\n            });\n        }\n\n    });\n});\n\n/**\n * Method for sending post request\n */\nimport { postRequest } from '@/utils/form'\nwindow.postRequest = postRequest\n\n//\n// Share an URL\n//\n$(function(){\n    $('[rel=\"share-url\"]').on('click', function() {\n        var url = $(this).data('url');\n        if (navigator.share) {\n            navigator.share({\n                    title: document.title,\n                    url: url,\n                })\n                .then(() => console.log('Successful share'))\n                .catch((error) => console.log('Error sharing', error));\n        } else {\n            var dummy = $('<input>').val(url).appendTo('body').select();\n            document.execCommand('copy');\n            dummy.remove();\n            Snackbar.show({\n                text: 'Copied URL to clipboard.',\n                duration: 2500,\n                pos: 'bottom-center',\n            });\n        }\n    });\n});\n\n/**\n * Input list with date range\n */\n\n$(function() {\n    $('.input-list-add-button').click(function() {\n        var template = $($(this).data('table')).find('tr.template');\n\n        var index = template.data('index');\n        template.data('index', index + 1);\n\n        template.clone(true)\n            .toggleClass('template')\n            .insertBefore(template)\n            .fadeIn()\n            .find('[data-name]')\n                .each(function() {\n                    $(this).attr('name', $(this).data('name').replace(/\\$index\\$/, index));\n                });\n    });\n    $('.input-list-delete-button').click(function() {\n        $(this).parents('tr')\n            .fadeOut(400, function() {\n            $(this).remove();\n        });\n    });\n});\n\n\n/**\n * Header mapping for import from tables\n */\n\n$(function() {\n    $('.import-form-file').change(function() {\n        var table = $('.import-form-header-mapping');\n        table.removeClass('d-none')\n            .find('tbody')\n                .empty()\n                .append($('<tr><td>Loading...</td></tr>'));\n\n        var data = new FormData();\n        data.append('file', this.files[0]);\n\n        $.ajax({\n            url: table.data('query'),\n            type: 'POST',\n            data: data,\n            processData: false,\n            contentType: false,\n            success: function (data) {\n                var tbody = table.find('tbody').empty();\n                for(var index in data.headers) {\n                    var header = data.headers[index];\n                    var row = $('<tr>').appendTo(tbody);\n                    $('<td>').text(header).appendTo(row);\n                    var td = $('<td>').appendTo(row);\n                    $('<input>', { 'type': 'hidden', 'name': 'map[' + index + '][from]', 'value': header }).appendTo(td);\n\n                    var select = $('<select>', { 'name': 'map[' + index + '][to]' }).appendTo(td);\n                    Object.keys(data.available).forEach(function(value) {\n                        $('<option>', { 'value': value }).text(data.available[value]).appendTo(select);\n                    });\n\n                    var td2 = $('<td>').appendTo(row);\n                    var checkbox = $('<input>', { 'type': 'checkbox', 'name': 'map[' + index + '][append]', 'value': 'true' }).appendTo(td2);\n\n                    if(header in data.defaults) {\n                        select.val(data.defaults[header].value);\n                        checkbox.prop('checked', data.defaults[header].append);\n                    }\n                }\n            },\n            error: function (xhr, status) {\n                var message = status;\n                try {\n                    message = JSON.parse(xhr.responseText).message;\n                } catch(e) {\n                    // ignore\n                }\n                table.find('td').text('Error: ' + message);\n            },\n        });\n    });\n});\n","export function postRequest (path, params, method) {\r\n    method = method || \"post\"; // Set method to post by default if not specified.\r\n\r\n    // The rest of this code assumes you are not using a library.\r\n    // It can be made less wordy if you use one.\r\n    var form = document.createElement(\"form\");\r\n    form.setAttribute(\"method\", method);\r\n    form.setAttribute(\"action\", path);\r\n\r\n    // CSRF token\r\n    let token = document.head.querySelector('meta[name=\"csrf-token\"]');\r\n    if (token) {\r\n        params._token = token.content;\r\n    }\r\n\r\n    for (var key in params) {\r\n        if (Object.prototype.hasOwnProperty.call(params, key)) {\r\n            var hiddenField = document.createElement(\"input\");\r\n            hiddenField.setAttribute(\"type\", \"hidden\");\r\n            hiddenField.setAttribute(\"name\", key);\r\n            hiddenField.setAttribute(\"value\", params[key]);\r\n\r\n            form.appendChild(hiddenField);\r\n        }\r\n    }\r\n\r\n    document.body.appendChild(form);\r\n    form.submit();\r\n}\r\n"],"sourceRoot":""}