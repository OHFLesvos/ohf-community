{"version":3,"sources":["webpack:///./resources/js/bootstrap.js","webpack:///./resources/js/app.js"],"names":["window","$","jQuery","jquery","Popper","popperJs","document","ready","bsCustomFileInput","init","e","tagifyAjaxController","hideNavigation","removeClass","overlay","fadeOut","off","click","hasClass","addClass","fadeIn","on","showNavigation","confirm","this","attr","nav","siblings","is","each","value","val","focus","Snackbar","show","text","html","duration","data","pos","actionText","actionTextColor","customClass","querySelectorAll","forEach","input","suggestions","getAttribute","JSON","parse","tagify","Tagify","whitelist","suggestionsUrl","detail","settings","length","abort","AbortController","fetch","signal","then","RES","json","dropdown","call","postRequest","url","navigator","share","title","console","log","error","dummy","appendTo","select","execCommand","remove","template","find","index","clone","toggleClass","insertBefore","replace","parents","change","table","empty","append","FormData","files","ajax","type","processData","contentType","success","tbody","headers","header","row","td","Object","keys","available","td2","checkbox","defaults","prop","xhr","status","message","responseText"],"mappings":"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","file":"/js/app.js","sourcesContent":["import jquery from 'jquery'\r\nimport 'bootstrap'\r\nimport popperJs from 'popper.js'\r\nimport bsCustomFileInput from 'bs-custom-file-input'\r\n\r\n/**\r\n * We'll load jQuery and the Bootstrap jQuery plugin which provides support\r\n * for JavaScript based Bootstrap features such as modals and tabs. This\r\n * code may be modified to fit the specific needs of your application.\r\n */\r\n\r\ntry {\r\n    window.$ = window.jQuery = jquery\r\n    window.Popper = popperJs\r\n\r\n    // bs-custom-file-input\r\n    jquery(document).ready(function () {\r\n        bsCustomFileInput.init()\r\n    })\r\n\r\n} catch (e) {\r\n    // Noop\r\n}\r\n\r\n/**\r\n * Echo exposes an expressive API for subscribing to channels and listening\r\n * for events that are broadcast by Laravel. Echo and event broadcasting\r\n * allows your team to easily build robust real-time web applications.\r\n */\r\n\r\n// import Echo from 'laravel-echo';\r\n\r\n// window.Pusher = require('pusher-js');\r\n\r\n// window.Echo = new Echo({\r\n//     broadcaster: 'pusher',\r\n//     key: process.env.MIX_PUSHER_APP_KEY,\r\n//     cluster: process.env.MIX_PUSHER_APP_CLUSTER,\r\n//     forceTLS: true\r\n// });\r\n","import './bootstrap'\r\nimport $ from 'jquery'\r\n\r\n/*====================================\r\n=            ON DOM READY            =\r\n====================================*/\r\n$(function() {\r\n    $('.toggle-nav').click(function() {\r\n        toggleNav();\r\n    });\r\n});\r\n\r\n/*========================================\r\n=            CUSTOM FUNCTIONS            =\r\n========================================*/\r\n\r\nfunction showNavigation() {\r\n    $('.site-wrapper').addClass('show-nav');\r\n    var overlay = $('#overlay_dark');\r\n    overlay.fadeIn('fast');\r\n    overlay.on('click', function(){\r\n        hideNavigation();\r\n    });\r\n}\r\n\r\nfunction hideNavigation() {\r\n    $('.site-wrapper').removeClass('show-nav');\r\n    var overlay = $('#overlay_dark');\r\n    overlay.fadeOut('fast');\r\n    overlay.off('click');\r\n}\r\n\r\nfunction toggleNav() {\r\n    if ($('.site-wrapper').hasClass('show-nav')) {\r\n        // Do things on Nav Close\r\n        hideNavigation();\r\n    } else {\r\n        // Do things on Nav Open\r\n        showNavigation();\r\n    }\r\n}\r\n\r\n$(function(){\r\n\r\n    // Delete confirmation method\r\n    $( '.delete-confirmation' ).on('click', function(){\r\n        return confirm( $(this).attr( 'data-confirmation' ) );\r\n    });\r\n\r\n    //  Context navigation\r\n    $('.context-nav-toggle').on('click', function(){\r\n        var nav = $(this).siblings('.context-nav');\r\n        var overlay = $('#overlay');\r\n        if (nav.is(\":visible\")) {\r\n            nav.fadeOut('fast');\r\n            overlay.fadeOut('fast');\r\n        } else {\r\n            nav.fadeIn('fast');\r\n            overlay.fadeIn('fast');\r\n            overlay.on('click', function(){\r\n                if ($('.context-nav').is(\":visible\")) {\r\n                    nav.fadeOut('fast');\r\n                    overlay.fadeOut('fast');\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n});\r\n\r\n// Elements with the selector class gain focus and have their cursor set to the end\r\n$(function(){\r\n    $('.focus-tail').each(function(){\r\n        var value = $(this).val();\r\n        $(this).val('').focus().val(value);\r\n    });\r\n});\r\n\r\n//\r\n// Snackbar\r\n//\r\nimport Snackbar from 'node-snackbar'\r\n\r\n$(function(){\r\n    $('.snack-message').each(function() {\r\n        Snackbar.show({\r\n            text: $(this).html(),\r\n            duration: $(this).data('duration') ? $(this).data('duration') : 2500,\r\n            pos: 'bottom-center',\r\n            actionText: $(this).data('action') ? $(this).data('action') : null,\r\n            actionTextColor: null,\r\n            customClass: $(this).data('class'),\r\n        });\r\n    });\r\n});\r\n\r\n// Fullscreen lightbox\r\nimport 'fslightbox'\r\n\r\n/**\r\n * Tags input\r\n */\r\nimport Tagify from '@yaireo/tagify'\r\nvar tagifyAjaxController; // for aborting the call\r\n$(document).ready(function () {\r\n    document.querySelectorAll('input.tags').forEach((input) => {\r\n        var suggestions = input.getAttribute('data-suggestions') != null ? JSON.parse(input.getAttribute('data-suggestions')) : [];\r\n        var tagify = new Tagify(input, {\r\n            whitelist: suggestions\r\n        });\r\n\r\n        var suggestionsUrl = input.getAttribute('data-suggestions-url');\r\n        if (suggestionsUrl) {\r\n            tagify.on('input', function(e){\r\n                var value = e.detail;\r\n                tagify.settings.whitelist.length = 0; // reset the whitelist\r\n\r\n                // https://developer.mozilla.org/en-US/docs/Web/API/AbortController/abort\r\n                tagifyAjaxController && tagifyAjaxController.abort();\r\n                tagifyAjaxController = new AbortController();\r\n\r\n                fetch(suggestionsUrl + value, {\r\n                        signal: tagifyAjaxController.signal\r\n                    })\r\n                    .then(RES => RES.json())\r\n                    .then(function(whitelist){\r\n                        tagify.settings.whitelist = whitelist;\r\n                        tagify.dropdown.show.call(tagify, value); // render the suggestions dropdown\r\n                    })\r\n\r\n            });\r\n        }\r\n\r\n    });\r\n});\r\n\r\n/**\r\n * Method for sending post request\r\n */\r\nimport { postRequest } from '@/utils/form'\r\nwindow.postRequest = postRequest\r\n\r\n//\r\n// Share an URL\r\n//\r\n$(function(){\r\n    $('[rel=\"share-url\"]').on('click', function() {\r\n        var url = $(this).data('url');\r\n        if (navigator.share) {\r\n            navigator.share({\r\n                    title: document.title,\r\n                    url: url,\r\n                })\r\n                .then(() => console.log('Successful share'))\r\n                .catch((error) => console.log('Error sharing', error));\r\n        } else {\r\n            var dummy = $('<input>').val(url).appendTo('body').select();\r\n            document.execCommand('copy');\r\n            dummy.remove();\r\n            Snackbar.show({\r\n                text: 'Copied URL to clipboard.',\r\n                duration: 2500,\r\n                pos: 'bottom-center',\r\n            });\r\n        }\r\n    });\r\n});\r\n\r\n/**\r\n * Input list with date range\r\n */\r\n\r\n$(function() {\r\n    $('.input-list-add-button').click(function() {\r\n        var template = $($(this).data('table')).find('tr.template');\r\n\r\n        var index = template.data('index');\r\n        template.data('index', index + 1);\r\n\r\n        template.clone(true)\r\n            .toggleClass('template')\r\n            .insertBefore(template)\r\n            .fadeIn()\r\n            .find('[data-name]')\r\n                .each(function() {\r\n                    $(this).attr('name', $(this).data('name').replace(/\\$index\\$/, index));\r\n                });\r\n    });\r\n    $('.input-list-delete-button').click(function() {\r\n        $(this).parents('tr')\r\n            .fadeOut(400, function() {\r\n            $(this).remove();\r\n        });\r\n    });\r\n});\r\n\r\n\r\n/**\r\n * Header mapping for import from tables\r\n */\r\n\r\n$(function() {\r\n    $('.import-form-file').change(function() {\r\n        var table = $('.import-form-header-mapping');\r\n        table.removeClass('d-none')\r\n            .find('tbody')\r\n                .empty()\r\n                .append($('<tr><td>Loading...</td></tr>'));\r\n\r\n        var data = new FormData();\r\n        data.append('file', this.files[0]);\r\n\r\n        $.ajax({\r\n            url: table.data('query'),\r\n            type: 'POST',\r\n            data: data,\r\n            processData: false,\r\n            contentType: false,\r\n            success: function (data) {\r\n                var tbody = table.find('tbody').empty();\r\n                for(var index in data.headers) {\r\n                    var header = data.headers[index];\r\n                    var row = $('<tr>').appendTo(tbody);\r\n                    $('<td>').text(header).appendTo(row);\r\n                    var td = $('<td>').appendTo(row);\r\n                    $('<input>', { 'type': 'hidden', 'name': 'map[' + index + '][from]', 'value': header }).appendTo(td);\r\n\r\n                    var select = $('<select>', { 'name': 'map[' + index + '][to]' }).appendTo(td);\r\n                    Object.keys(data.available).forEach(function(value) {\r\n                        $('<option>', { 'value': value }).text(data.available[value]).appendTo(select);\r\n                    });\r\n\r\n                    var td2 = $('<td>').appendTo(row);\r\n                    var checkbox = $('<input>', { 'type': 'checkbox', 'name': 'map[' + index + '][append]', 'value': 'true' }).appendTo(td2);\r\n\r\n                    if(header in data.defaults) {\r\n                        select.val(data.defaults[header].value);\r\n                        checkbox.prop('checked', data.defaults[header].append);\r\n                    }\r\n                }\r\n            },\r\n            error: function (xhr, status) {\r\n                var message = status;\r\n                try {\r\n                    message = JSON.parse(xhr.responseText).message;\r\n                } catch(e) {\r\n                    // ignore\r\n                }\r\n                table.find('td').text('Error: ' + message);\r\n            },\r\n        });\r\n    });\r\n});\r\n"],"sourceRoot":""}