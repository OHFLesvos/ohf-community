{"version":3,"sources":["webpack:///./resources/js/components/shop/CardScannerArea.vue?e567","webpack:///./resources/js/components/shop/CardScannerArea.vue?93bb","webpack:///./resources/js/components/alerts/WarningAlert.vue?0d1e","webpack:///resources/js/components/alerts/WarningAlert.vue","webpack:///./resources/js/components/alerts/WarningAlert.vue","webpack:///./resources/js/components/shop/ShopCardDetails.vue?5056","webpack:///resources/js/components/shop/ShopCardDetails.vue","webpack:///./resources/js/components/shop/ShopCardDetails.vue","webpack:///./resources/js/components/shop/ShopCardDetails.vue?5df8","webpack:///resources/js/components/shop/CardScannerArea.vue","webpack:///./resources/js/components/shop/CardScannerArea.vue?edeb","webpack:///./resources/js/components/shop/CardScannerArea.vue","webpack:///./resources/js/components/shop/CardScannerArea.vue?01e3","webpack:///./resources/js/api/shop.js","webpack:///resources/js/pages/shop/ShopScannerPage.vue","webpack:///./resources/js/pages/shop/ShopScannerPage.vue?d202","webpack:///./resources/js/pages/shop/ShopScannerPage.vue","webpack:///./resources/js/pages/shop/ShopScannerPage.vue?7dbc","webpack:///./resources/js/components/shop/PersonLabel.vue?ed52","webpack:///resources/js/components/shop/PersonLabel.vue","webpack:///./resources/js/components/shop/ShopCardsList.vue?08cf","webpack:///resources/js/components/shop/ShopCardsList.vue","webpack:///./resources/js/components/shop/PersonLabel.vue","webpack:///./resources/js/components/shop/PersonLabel.vue?e6d6","webpack:///./resources/js/components/shop/ShopCardsList.vue","webpack:///./resources/js/components/shop/ShopCardsList.vue?f60c","webpack:///resources/js/components/shop/NonExpiredCardsTable.vue","webpack:///./resources/js/components/shop/NonExpiredCardsTable.vue?49c6","webpack:///resources/js/pages/shop/ShopCardManagerPage.vue","webpack:///./resources/js/pages/shop/ShopCardManagerPage.vue?2628","webpack:///./resources/js/components/shop/NonExpiredCardsTable.vue","webpack:///./resources/js/components/shop/NonExpiredCardsTable.vue?ec3c","webpack:///./resources/js/pages/shop/ShopCardManagerPage.vue","webpack:///./resources/js/pages/shop/ShopCardManagerPage.vue?af3d","webpack:///./resources/js/shop.js","webpack:///./resources/js/components/shop/CardScannerArea.vue?1bb5"],"names":["content","module","i","options","transform","undefined","locals","exports","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","handout","code_short","date","person","gender","attrs","_e","fullName","url","date_of_birth","age_formatted","nationality","family_members","length","_l","fm","key","code_redeemed","updated_diff_formatted","validity_formatted","busy","on","redeemCard","redeemButtonIcon","redeeming","cancelCard","cancelButtonIcon","cancelling","buttonVariant","$event","isEnabled","buttonIcon","buttonLabel","staticStyle","camera","onInit","onDecode","errorMessage","validatorMessage","code","params","route","api","getNoCatch","response","status","console","error","getAjaxErrorMessage","id","patch","get","post","searching","isAlphaNumeric","scannerEnabled","idleMessage","prefix","suffix","$suffix","handouts","items","item","class","expired","total","deleteCards","loading","Vue","component","FontAwesomeIcon","config","productionTip","el","i18n","components","ShopScannerPage","ShopCardManagerPage","push"],"mappings":"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","file":"/js/shop.js","sourcesContent":["export * from \"-!../../../../node_modules/style-loader/index.js!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardScannerArea.vue?vue&type=style&index=0&id=6911d0da&scoped=true&lang=css&\"","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardScannerArea.vue?vue&type=style&index=0&id=6911d0da&scoped=true&lang=css&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardScannerArea.vue?vue&type=style&index=0&id=6911d0da&scoped=true&lang=css&\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--6-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardScannerArea.vue?vue&type=style&index=0&id=6911d0da&scoped=true&lang=css&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarningAlert.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WarningAlert.vue?vue&type=script&lang=js&\"","<script>\r\nimport BaseAlert from '@/components/alerts/BaseAlert'\r\nexport default {\r\n    extends: BaseAlert,\r\n    data() {\r\n        return {\r\n            variant: 'warning',\r\n            icon: 'exclamation-triangle'\r\n        }\r\n    }\r\n}\r\n</script>\r\n","var render, staticRenderFns\nimport script from \"./WarningAlert.vue?vue&type=script&lang=js&\"\nexport * from \"./WarningAlert.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCardDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCardDetails.vue?vue&type=script&lang=js&\"","<template>\r\n    <div class=\"card mb-4\">\r\n        <div class=\"card-header d-flex justify-content-between\">\r\n            <span>\r\n                {{ $t('shop.card') }}\r\n                {{ handout.code_short }}\r\n            </span>\r\n            <span>\r\n                <span class=\"d-none d-sm-inline\">\r\n                    {{ $t('shop.registered') }}\r\n                </span>\r\n                {{ handout.date }}\r\n            </span>\r\n        </div>\r\n        <div class=\"card-body\">\r\n            <div class=\"row align-items-center\">\r\n                <div class=\"col mb-4 mb-sm-0\">\r\n                    <div class=\"row align-items-center\">\r\n                        <div class=\"col-auto text-center\">\r\n                            <span class=\"display-4\">\r\n                                <font-awesome-icon\r\n                                    v-if=\"handout.person.gender == 'f'\"\r\n                                    icon=\"female\"\r\n                                />\r\n                                <font-awesome-icon\r\n                                    v-if=\"handout.person.gender == 'm'\"\r\n                                    icon=\"male\"\r\n                                />\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            {{ handout.person.fullName }}\r\n                            <a\r\n                                :href=\"handout.person.url\"\r\n                                target=\"_blank\"\r\n                            >\r\n                                <font-awesome-icon icon=\"search\"/>\r\n                            </a>\r\n                            <br>\r\n                            <template v-if=\"handout.person.date_of_birth\">\r\n                                {{ handout.person.date_of_birth }}\r\n                                ({{ handout.person.age_formatted }})\r\n                            </template>\r\n                            <br>\r\n                            <template v-if=\"handout.person.nationality != null\">\r\n                                {{ handout.person.nationality }}\r\n                            </template>\r\n                            <template v-if=\"handout.person.family_members.length > 0\">\r\n                                <span\r\n                                    v-for=\"fm in handout.person.family_members\"\r\n                                    :key=\"fm.fullName\"\r\n                                >\r\n                                    <br>\r\n                                    <font-awesome-icon icon=\"user-friends\"/>\r\n                                    {{ fm.fullName }}\r\n                                    ({{ fm.age_formatted }})\r\n                                </span>\r\n                            </template>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-sm-auto text-center\">\r\n                    <strong\r\n                        v-if=\"handout.code_redeemed != null\"\r\n                        class=\"text-warning\"\r\n                    >\r\n                        <font-awesome-icon icon=\"exclamation-triangle\"/>\r\n                        {{ $t('shop.card_already_redeemed') }}\r\n                        <br>\r\n                        <small>{{ handout.updated_diff_formatted }}</small>\r\n                    </strong>\r\n                    <strong\r\n                        v-else-if=\"handout.expired\"\r\n                        class=\"text-warning\"\r\n                    >\r\n                        <font-awesome-icon icon=\"exclamation-triangle\"/>\r\n                        {{ $t('shop.card_expired') }}\r\n                        <br>\r\n                        <small>{{ handout.validity_formatted }}</small>\r\n                    </strong>\r\n                    <template v-else>\r\n                        <button\r\n                            type=\"submit\"\r\n                            class=\"btn btn-lg btn-block btn-success\"\r\n                            :disabled=\"busy\"\r\n                            @click=\"redeemCard\"\r\n                        >\r\n                            <font-awesome-icon\r\n                                :icon=\"redeemButtonIcon\"\r\n                                :spin=\"this.redeeming\"\r\n                            />\r\n                            {{ $t('shop.redeem') }}\r\n                        </button>\r\n                        <button\r\n                            type=\"submit\"\r\n                            class=\"btn btn-sm btn-block btn-outline-danger mt-3\"\r\n                            :disabled=\"busy\"\r\n                            @click=\"cancelCard\"\r\n                        >\r\n                            <font-awesome-icon\r\n                                :icon=\"cancelButtonIcon\"\r\n                                :spin=\"this.cancelling\"\r\n                            />\r\n                            {{ $t('shop.cancel_card') }}\r\n                        </button>\r\n                    </template>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport FontAwesomeIcon from '@/components/common/FontAwesomeIcon'\r\nexport default {\r\n    components: {\r\n        FontAwesomeIcon\r\n    },\r\n    props: {\r\n        handout: {\r\n            type: Object,\r\n            required: true\r\n        },\r\n        busy: {\r\n            type: Boolean,\r\n            required: false,\r\n            default: false,\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            redeeming: false,\r\n            cancelling: false,\r\n        }\r\n    },\r\n    computed: {\r\n        redeemButtonIcon() {\r\n            if (this.redeeming) {\r\n                return 'spinner'\r\n            }\r\n            return 'check'\r\n        },\r\n        cancelButtonIcon() {\r\n            if (this.cancelling) {\r\n                return 'spinner'\r\n            }\r\n            return 'undo'\r\n        }\r\n    },\r\n    watch: {\r\n        busy(val, oldVal) {\r\n            if (val == false && oldVal == true) {\r\n                this.redeeming = false\r\n                this.cancelling = false\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        redeemCard() {\r\n            this.redeeming = true\r\n            this.$emit('redeem')\r\n        },\r\n        cancelCard() {\r\n            this.cancelling = true\r\n            this.$emit('cancel')\r\n        }\r\n    }\r\n}\r\n</script>","import { render, staticRenderFns } from \"./ShopCardDetails.vue?vue&type=template&id=a631a8ec&\"\nimport script from \"./ShopCardDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./ShopCardDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mb-4\"},[_c('div',{staticClass:\"card-header d-flex justify-content-between\"},[_c('span',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('shop.card'))+\"\\n            \"+_vm._s(_vm.handout.code_short)+\"\\n        \")]),_vm._v(\" \"),_c('span',[_c('span',{staticClass:\"d-none d-sm-inline\"},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('shop.registered'))+\"\\n            \")]),_vm._v(\"\\n            \"+_vm._s(_vm.handout.date)+\"\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row align-items-center\"},[_c('div',{staticClass:\"col mb-4 mb-sm-0\"},[_c('div',{staticClass:\"row align-items-center\"},[_c('div',{staticClass:\"col-auto text-center\"},[_c('span',{staticClass:\"display-4\"},[(_vm.handout.person.gender == 'f')?_c('font-awesome-icon',{attrs:{\"icon\":\"female\"}}):_vm._e(),_vm._v(\" \"),(_vm.handout.person.gender == 'm')?_c('font-awesome-icon',{attrs:{\"icon\":\"male\"}}):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"col\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.handout.person.fullName)+\"\\n                        \"),_c('a',{attrs:{\"href\":_vm.handout.person.url,\"target\":\"_blank\"}},[_c('font-awesome-icon',{attrs:{\"icon\":\"search\"}})],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),(_vm.handout.person.date_of_birth)?[_vm._v(\"\\n                            \"+_vm._s(_vm.handout.person.date_of_birth)+\"\\n                            (\"+_vm._s(_vm.handout.person.age_formatted)+\")\\n                        \")]:_vm._e(),_vm._v(\" \"),_c('br'),_vm._v(\" \"),(_vm.handout.person.nationality != null)?[_vm._v(\"\\n                            \"+_vm._s(_vm.handout.person.nationality)+\"\\n                        \")]:_vm._e(),_vm._v(\" \"),(_vm.handout.person.family_members.length > 0)?_vm._l((_vm.handout.person.family_members),function(fm){return _c('span',{key:fm.fullName},[_c('br'),_vm._v(\" \"),_c('font-awesome-icon',{attrs:{\"icon\":\"user-friends\"}}),_vm._v(\"\\n                                \"+_vm._s(fm.fullName)+\"\\n                                (\"+_vm._s(fm.age_formatted)+\")\\n                            \")],1)}):_vm._e()],2)])]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-auto text-center\"},[(_vm.handout.code_redeemed != null)?_c('strong',{staticClass:\"text-warning\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"exclamation-triangle\"}}),_vm._v(\"\\n                    \"+_vm._s(_vm.$t('shop.card_already_redeemed'))+\"\\n                    \"),_c('br'),_vm._v(\" \"),_c('small',[_vm._v(_vm._s(_vm.handout.updated_diff_formatted))])],1):(_vm.handout.expired)?_c('strong',{staticClass:\"text-warning\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"exclamation-triangle\"}}),_vm._v(\"\\n                    \"+_vm._s(_vm.$t('shop.card_expired'))+\"\\n                    \"),_c('br'),_vm._v(\" \"),_c('small',[_vm._v(_vm._s(_vm.handout.validity_formatted))])],1):[_c('button',{staticClass:\"btn btn-lg btn-block btn-success\",attrs:{\"type\":\"submit\",\"disabled\":_vm.busy},on:{\"click\":_vm.redeemCard}},[_c('font-awesome-icon',{attrs:{\"icon\":_vm.redeemButtonIcon,\"spin\":this.redeeming}}),_vm._v(\"\\n                        \"+_vm._s(_vm.$t('shop.redeem'))+\"\\n                    \")],1),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-sm btn-block btn-outline-danger mt-3\",attrs:{\"type\":\"submit\",\"disabled\":_vm.busy},on:{\"click\":_vm.cancelCard}},[_c('font-awesome-icon',{attrs:{\"icon\":_vm.cancelButtonIcon,\"spin\":this.cancelling}}),_vm._v(\"\\n                        \"+_vm._s(_vm.$t('shop.cancel_card'))+\"\\n                    \")],1)]],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <p>\r\n            <b-button\r\n                :variant=\"buttonVariant\"\r\n                block\r\n                :disabled=\"busy\"\r\n                @click=\"isEnabled = !isEnabled\"\r\n            >\r\n                <font-awesome-icon :icon=\"buttonIcon\"/>\r\n                {{ buttonLabel }}\r\n            </b-button>\r\n        </p>\r\n        <div\r\n            v-if=\"isEnabled\"\r\n            class=\"mb-2\"\r\n        >\r\n            <qrcode-stream\r\n                style=\"width: 100%; height: 100%\"\r\n                :camera=\"busy ? 'off' : camera\"\r\n                @init=\"onInit\"\r\n                @decode=\"onDecode\"\r\n            >\r\n                <div\r\n                    v-if=\"errorMessage\"\r\n                    class=\"error-message\"\r\n                >\r\n                    {{ errorMessage }}\r\n                </div>\r\n\r\n                <div\r\n                    v-if=\"loading\"\r\n                    class=\"loading-indicator\"\r\n                >\r\n                    <font-awesome-icon icon=\"cog\" spin />\r\n                </div>\r\n\r\n                <div\r\n                    v-if=\"validationSuccess\"\r\n                    class=\"validation-success\"\r\n                >\r\n                    <font-awesome-icon icon=\"check\" />\r\n                </div>\r\n\r\n                <div\r\n                    v-if=\"validationFailure\"\r\n                    class=\"validation-failure\"\r\n                >\r\n                    {{ validatorMessage }}\r\n                </div>\r\n\r\n            </qrcode-stream>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { BButton } from 'bootstrap-vue'\r\nimport { QrcodeStream } from 'vue-qrcode-reader'\r\nexport default {\r\n    components: {\r\n        QrcodeStream,\r\n        BButton\r\n    },\r\n    props: {\r\n        busy: Boolean,\r\n        enabled: Boolean,\r\n        validator: {\r\n            type: Function,\r\n            required: false,\r\n        },\r\n        validatorMessage: {\r\n            type: String,\r\n            required: false,\r\n            default: 'Invalid input.'\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            errorMessage: undefined,\r\n            loading: false,\r\n            isEnabled: this.enabled,\r\n            camera: 'auto',\r\n            foo: null,\r\n            isValid: undefined\r\n        }\r\n    },\r\n    computed: {\r\n        buttonVariant() {\r\n            return this.isEnabled ? 'warning' : 'primary'\r\n        },\r\n        buttonIcon() {\r\n            return this.isEnabled ? 'times' : 'qrcode'\r\n        },\r\n        buttonLabel() {\r\n            return this.isEnabled ? 'Stop scanner' : 'Enable scanner'\r\n        },\r\n        validationSuccess() {\r\n            return this.isValid === true\r\n        },\r\n        validationFailure() {\r\n            return this.isValid === false\r\n        },\r\n\r\n    },\r\n    watch: {\r\n        isEnabled(val, oldVal) {\r\n            if (val && !oldVal) {\r\n                this.$emit('enable')\r\n            }\r\n            if (!val && oldVal) {\r\n                this.$emit('disable')\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        onInit(promise) {\r\n            this.loading = true\r\n            this.errorMessage = undefined\r\n            this.resetValidationState()\r\n            promise\r\n                .catch(error => this.errorMessage = error.message)\r\n                .then(() => this.loading = false)\r\n        },\r\n        async onDecode(value) {\r\n            this.turnCameraOff()\r\n            await this.timeout(500)\r\n            this.isValid = !this.validator || this.validator(value)\r\n            if (this.isValid) {\r\n                this.$emit('decode', value)\r\n            }\r\n            await this.timeout(this.isValid ? 1000 : 2500)\r\n            this.turnCameraOn()\r\n        },\r\n        resetValidationState () {\r\n            this.isValid = undefined\r\n        },\r\n        turnCameraOn() {\r\n            this.camera = 'auto'\r\n        },\r\n        turnCameraOff() {\r\n            this.camera = 'off'\r\n        },\r\n        timeout(ms) {\r\n            return new Promise(resolve => window.setTimeout(resolve, ms))\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.error-message {\r\n    color: red;\r\n}\r\n.loading-indicator {\r\n    color: grey;\r\n}\r\n.loading-indicator,\r\n.validation-success,\r\n.validation-failure,\r\n.error-message {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    background-color: rgba(255, 255, 255, .8);\r\n    text-align: center;\r\n    font-weight: bold;\r\n    font-size: 1.4rem;\r\n    padding: 10px;\r\n\r\n    display: flex;\r\n    flex-flow: column nowrap;\r\n    justify-content: center;\r\n}\r\n.validation-success {\r\n    color: green;\r\n}\r\n.validation-failure {\r\n    color: red;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardScannerArea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardScannerArea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CardScannerArea.vue?vue&type=template&id=6911d0da&scoped=true&\"\nimport script from \"./CardScannerArea.vue?vue&type=script&lang=js&\"\nexport * from \"./CardScannerArea.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CardScannerArea.vue?vue&type=style&index=0&id=6911d0da&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6911d0da\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_c('b-button',{attrs:{\"variant\":_vm.buttonVariant,\"block\":\"\",\"disabled\":_vm.busy},on:{\"click\":function($event){_vm.isEnabled = !_vm.isEnabled}}},[_c('font-awesome-icon',{attrs:{\"icon\":_vm.buttonIcon}}),_vm._v(\"\\n            \"+_vm._s(_vm.buttonLabel)+\"\\n        \")],1)],1),_vm._v(\" \"),(_vm.isEnabled)?_c('div',{staticClass:\"mb-2\"},[_c('qrcode-stream',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"camera\":_vm.busy ? 'off' : _vm.camera},on:{\"init\":_vm.onInit,\"decode\":_vm.onDecode}},[(_vm.errorMessage)?_c('div',{staticClass:\"error-message\"},[_vm._v(\"\\n                \"+_vm._s(_vm.errorMessage)+\"\\n            \")]):_vm._e(),_vm._v(\" \"),(_vm.loading)?_c('div',{staticClass:\"loading-indicator\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"cog\",\"spin\":\"\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.validationSuccess)?_c('div',{staticClass:\"validation-success\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"check\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.validationFailure)?_c('div',{staticClass:\"validation-failure\"},[_vm._v(\"\\n                \"+_vm._s(_vm.validatorMessage)+\"\\n            \")]):_vm._e()])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { api, route, getAjaxErrorMessage } from '@/api/baseApi'\r\nexport default {\r\n    async findCard (code) {\r\n        const params = {\r\n            code: code\r\n        }\r\n        const url = route('api.shop.cards.searchByCode', params)\r\n        try {\r\n            return await api.getNoCatch(url)\r\n        } catch (err) {\r\n            if (!err.response || err.response.status != 404) {\r\n                console.error(err)\r\n                throw getAjaxErrorMessage(err)\r\n            }\r\n        }\r\n    },\r\n    async redeemCard (id) {\r\n        const url = route('api.shop.cards.redeem', id)\r\n        return await api.patch(url)\r\n    },\r\n    async cancelCard (id) {\r\n        const url = route('api.shop.cards.cancel', id)\r\n        return await api.delete(url)\r\n    },\r\n    async listRedeemedToday () {\r\n        const url = route('api.shop.cards.listRedeemedToday')\r\n        return await api.get(url)\r\n    },\r\n    async listNonRedeemedByDay () {\r\n        const url = route('api.shop.cards.listNonRedeemedByDay')\r\n        return await api.get(url)\r\n    },\r\n    async deleteNonRedeemedByDay (date) {\r\n        const params = {\r\n            date: date\r\n        }\r\n        const url = route('api.shop.cards.deleteNonRedeemedByDay')\r\n        return await api.post(url, params)\r\n    }\r\n}\r\n","<template>\r\n    <div>\r\n        <!-- Error message -->\r\n        <error-alert\r\n            v-if=\"error\"\r\n            :message=\"error\"\r\n        />\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-lg\">\r\n\r\n                <!-- Card scanner -->\r\n                <card-scanner-area\r\n                    :busy=\"searching\"\r\n                    :validator=\"isAlphaNumeric\"\r\n                    :validator-message=\"$t('app.only_letters_and_numbers_allowed')\"\r\n                    :enabled=\"scannerEnabled\"\r\n                    @decode=\"onDecode\"\r\n                    @enable=\"scannerEnabled = true\"\r\n                    @disable=\"scannerEnabled = false\"\r\n                />\r\n\r\n            </div>\r\n            <div class=\"col-lg\">\r\n\r\n                <!-- Searching card message -->\r\n                <info-alert\r\n                    v-if=\"code != null && searching\"\r\n                    :message=\"$t('app.searching')\"\r\n                />\r\n\r\n                <!-- Shop card details -->\r\n                <template v-if=\"code != null && !searching\">\r\n                    <template v-if=\"handout != null\">\r\n                        <template v-if=\"handout.person != null\">\r\n                            <shop-card-details\r\n                                :handout=\"handout\"\r\n                                :busy=\"busy\"\r\n                                @redeem=\"redeemCard\"\r\n                                @cancel=\"cancelCard\"\r\n                            ></shop-card-details>\r\n                        </template>\r\n                        <warning-alert\r\n                            v-else\r\n                            :message=\"$t('shop.person_assigned_to_card_has_been_deleted')\"\r\n                        />\r\n                    </template>\r\n                    <warning-alert\r\n                        v-else-if=\"!error\"\r\n                        :message=\"$t('shop.card_not_registered')\"\r\n                    />\r\n                </template>\r\n\r\n                <!-- Idle message -->\r\n                <info-alert\r\n                    v-if=\"code == null || (handout && handout.code_redeemed != null)\"\r\n                    :message=\"idleMessage\"\r\n                />\r\n\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport showSnackbar from '@/snackbar'\r\nimport ErrorAlert from '@/components/alerts/ErrorAlert'\r\nimport WarningAlert from '@/components/alerts/WarningAlert'\r\nimport InfoAlert from '@/components/alerts/InfoAlert'\r\nimport ShopCardDetails from '@/components/shop/ShopCardDetails'\r\nimport CardScannerArea from '@/components/shop/CardScannerArea'\r\nimport { isAlphaNumeric } from '@/utils'\r\nimport shopApi from '@/api/shop'\r\nexport default {\r\n    components: {\r\n        ShopCardDetails,\r\n        ErrorAlert,\r\n        WarningAlert,\r\n        InfoAlert,\r\n        CardScannerArea\r\n    },\r\n    data() {\r\n        return {\r\n            loading: true,\r\n            code: null,\r\n            error: null,\r\n            handout: null,\r\n            searching: false,\r\n            busy: false,\r\n            scannerEnabled: false\r\n        }\r\n    },\r\n    computed: {\r\n        idleMessage() {\r\n            return this.scannerEnabled\r\n                ? this.$t('shop.please_scan_next_card')\r\n                : this.$t('shop.please_enable_scanner_to_scan_cards')\r\n        }\r\n    },\r\n    watch: {\r\n        code(val, oldVal) {\r\n            if (val != null && oldVal != val) {\r\n                this.searchCode(val)\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        onDecode(value) {\r\n            const code = value.trim()\r\n            if (code.length > 0) {\r\n                this.code = code\r\n            }\r\n        },\r\n        async searchCode(code) {\r\n            this.error = null\r\n            this.handout = null\r\n            this.busy = true\r\n            this.searching = true\r\n            try {\r\n                let data = await shopApi.findCard(code)\r\n                this.handout = data ? data.data : null\r\n            } catch (err) {\r\n                this.error = err\r\n            }\r\n            this.busy = false\r\n            this.searching = false\r\n        },\r\n        async redeemCard() {\r\n            this.busy = true\r\n            try {\r\n                let data = await shopApi.redeemCard(this.handout.id)\r\n                this.code = null\r\n                this.handout = null\r\n                showSnackbar(data.message)\r\n            } catch (err) {\r\n                this.error = err\r\n            }\r\n            this.busy = false\r\n        },\r\n        async cancelCard() {\r\n            if (window.confirm(this.$t('shop.should_card_be_cancelled'))) {\r\n                this.busy = true\r\n                try {\r\n                    let data = await shopApi.cancelCard(this.handout.id)\r\n                    this.code = null\r\n                    this.handout = null\r\n                    showSnackbar(data.message)\r\n                } catch (err) {\r\n                    this.error = err\r\n                }\r\n                this.busy = false\r\n            }\r\n        },\r\n        isAlphaNumeric\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopScannerPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopScannerPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShopScannerPage.vue?vue&type=template&id=580a25ad&\"\nimport script from \"./ShopScannerPage.vue?vue&type=script&lang=js&\"\nexport * from \"./ShopScannerPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.error)?_c('error-alert',{attrs:{\"message\":_vm.error}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg\"},[_c('card-scanner-area',{attrs:{\"busy\":_vm.searching,\"validator\":_vm.isAlphaNumeric,\"validator-message\":_vm.$t('app.only_letters_and_numbers_allowed'),\"enabled\":_vm.scannerEnabled},on:{\"decode\":_vm.onDecode,\"enable\":function($event){_vm.scannerEnabled = true},\"disable\":function($event){_vm.scannerEnabled = false}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-lg\"},[(_vm.code != null && _vm.searching)?_c('info-alert',{attrs:{\"message\":_vm.$t('app.searching')}}):_vm._e(),_vm._v(\" \"),(_vm.code != null && !_vm.searching)?[(_vm.handout != null)?[(_vm.handout.person != null)?[_c('shop-card-details',{attrs:{\"handout\":_vm.handout,\"busy\":_vm.busy},on:{\"redeem\":_vm.redeemCard,\"cancel\":_vm.cancelCard}})]:_c('warning-alert',{attrs:{\"message\":_vm.$t('shop.person_assigned_to_card_has_been_deleted')}})]:(!_vm.error)?_c('warning-alert',{attrs:{\"message\":_vm.$t('shop.card_not_registered')}}):_vm._e()]:_vm._e(),_vm._v(\" \"),(_vm.code == null || (_vm.handout && _vm.handout.code_redeemed != null))?_c('info-alert',{attrs:{\"message\":_vm.idleMessage}}):_vm._e()],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonLabel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonLabel.vue?vue&type=script&lang=js&\"","<template>\r\n    <span>\r\n        <template v-if=\"prefix.length > 0\">{{ prefix }}:</template>\r\n        <font-awesome-icon\r\n            v-if=\"person.gender == 'f'\"\r\n            icon=\"female\"\r\n        />\r\n        <font-awesome-icon\r\n            v-if=\"person.gender == 'm'\"\r\n            icon=\"male\"\r\n        />\r\n        {{ person.fullName }}<template v-if=\"person.date_of_birth\">, {{ person.date_of_birth }}\r\n        ({{ person.age_formatted }})</template><template v-if=\"person.nationality\">, {{ person.nationality }}</template>\r\n        <template v-if=\"suffix.length > 0\"><small class=\"text-muted\">{{ $suffix }}</small></template>\r\n    </span>\r\n</template>\r\n\r\n<script>\r\nimport FontAwesomeIcon from '@/components/common/FontAwesomeIcon'\r\nexport default {\r\n    components: {\r\n        FontAwesomeIcon\r\n    },\r\n    props: {\r\n        person: {\r\n            type: Object,\r\n            required: true\r\n        },\r\n        prefix: {\r\n            type: String,\r\n            required: false,\r\n            default: ''\r\n        },\r\n        suffix: {\r\n            type: String,\r\n            required: false,\r\n            default: ''\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCardsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCardsList.vue?vue&type=script&lang=js&\"","<template>\r\n    <div>\r\n        <h4 class=\"mb-3\">\r\n            {{ $t('shop.redeemed_cards') }}\r\n            <template v-if=\"handouts.length > 0\">\r\n                ({{ handouts.length }})\r\n            </template>\r\n        </h4>\r\n        <p v-if=\"loading\">\r\n            <font-awesome-icon\r\n                icon=\"spinner\"\r\n                spin\r\n            />\r\n            {{ $t('app.loading') }}\r\n        </p>\r\n        <table\r\n            v-else-if=\"handouts.length > 0\"\r\n            class=\"table table-sm table-striped mb-4\"\r\n        >\r\n            <tbody>\r\n                <tr\r\n                    v-for=\"handout in handouts\"\r\n                    :key=\"handout.id\"\r\n                >\r\n                    <td>\r\n                        <a\r\n                            :href=\"handout.person.url\"\r\n                            target=\"_blank\"\r\n                        >\r\n                            <person-label :person=\"handout.person\"></person-label>\r\n                        </a>\r\n                    </td>\r\n                    <td>\r\n                        {{ handout.code_short }}\r\n                    </td>\r\n                    <td>{{ handout.updated_diff_formatted }}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        <p v-else>\r\n            <em>{{ $t('shop.no_cards_redeemed_so_far_today') }}</em>\r\n        </p>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport PersonLabel from '@/components/shop/PersonLabel'\r\nexport default {\r\n    components: {\r\n        PersonLabel\r\n    },\r\n    props: {\r\n        handouts: {\r\n            type: Array,\r\n            required: true\r\n        },\r\n        loading: {\r\n            type: Boolean,\r\n            required: false,\r\n            default: false\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./PersonLabel.vue?vue&type=template&id=546a6c7a&\"\nimport script from \"./PersonLabel.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonLabel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[(_vm.prefix.length > 0)?[_vm._v(_vm._s(_vm.prefix)+\":\")]:_vm._e(),_vm._v(\" \"),(_vm.person.gender == 'f')?_c('font-awesome-icon',{attrs:{\"icon\":\"female\"}}):_vm._e(),_vm._v(\" \"),(_vm.person.gender == 'm')?_c('font-awesome-icon',{attrs:{\"icon\":\"male\"}}):_vm._e(),_vm._v(\"\\n    \"+_vm._s(_vm.person.fullName)),(_vm.person.date_of_birth)?[_vm._v(\", \"+_vm._s(_vm.person.date_of_birth)+\"\\n    (\"+_vm._s(_vm.person.age_formatted)+\")\")]:_vm._e(),(_vm.person.nationality)?[_vm._v(\", \"+_vm._s(_vm.person.nationality))]:_vm._e(),_vm._v(\" \"),(_vm.suffix.length > 0)?[_c('small',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.$suffix))])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./ShopCardsList.vue?vue&type=template&id=5c67082a&\"\nimport script from \"./ShopCardsList.vue?vue&type=script&lang=js&\"\nexport * from \"./ShopCardsList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h4',{staticClass:\"mb-3\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('shop.redeemed_cards'))+\"\\n        \"),(_vm.handouts.length > 0)?[_vm._v(\"\\n            (\"+_vm._s(_vm.handouts.length)+\")\\n        \")]:_vm._e()],2),_vm._v(\" \"),(_vm.loading)?_c('p',[_c('font-awesome-icon',{attrs:{\"icon\":\"spinner\",\"spin\":\"\"}}),_vm._v(\"\\n        \"+_vm._s(_vm.$t('app.loading'))+\"\\n    \")],1):(_vm.handouts.length > 0)?_c('table',{staticClass:\"table table-sm table-striped mb-4\"},[_c('tbody',_vm._l((_vm.handouts),function(handout){return _c('tr',{key:handout.id},[_c('td',[_c('a',{attrs:{\"href\":handout.person.url,\"target\":\"_blank\"}},[_c('person-label',{attrs:{\"person\":handout.person}})],1)]),_vm._v(\" \"),_c('td',[_vm._v(\"\\n                    \"+_vm._s(handout.code_short)+\"\\n                \")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(handout.updated_diff_formatted))])])}),0)]):_c('p',[_c('em',[_vm._v(_vm._s(_vm.$t('shop.no_cards_redeemed_so_far_today')))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <!-- Heading -->\r\n        <h4 class=\"mb-3\">\r\n            {{ $t('shop.non_redeemed_cards') }}\r\n        </h4>\r\n\r\n        <!-- Error message -->\r\n        <error-alert\r\n            v-if=\"error\"\r\n            :message=\"error\"\r\n        />\r\n\r\n        <!-- Table of items -->\r\n        <table\r\n            v-if=\"items.length > 0\"\r\n            class=\"table table-sm table-striped mb-4\"\r\n        >\r\n            <thead>\r\n                <tr>\r\n                    <th>{{ $t('app.date') }}</th>\r\n                    <th>{{ $t('shop.cards') }}</th>\r\n                    <th>{{ $t('shop.expired') }}</th>\r\n                    <th class=\"fit\">{{ $t('app.actions') }}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr\r\n                    v-for=\"item in items\"\r\n                    :key=\"item.date\"\r\n                    :class=\"{'table-warning': item.expired}\"\r\n                >\r\n                    <td class=\"align-middle\">{{ item.date }}</td>\r\n                    <td class=\"align-middle\">{{ item.total }}</td>\r\n                    <td class=\"align-middle\">\r\n                        <font-awesome-icon :icon=\"item.expired ? 'check' : 'times'\"/>\r\n                    </td>\r\n                    <td class=\"fit\">\r\n                        <button\r\n                            class=\"btn btn-danger btn-sm\"\r\n                            :disabled=\"busy\"\r\n                            @click=\"deleteCards(item.date)\"\r\n                        >\r\n                            {{ $t('shop.delete_cards') }}\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n        <!-- Empty results message -->\r\n        <p v-else-if=\"!busy\">\r\n            <em>{{ $t('shop.no_suitable_cards_found') }}</em>\r\n        </p>\r\n\r\n        <!-- Loading indicator -->\r\n        <p v-else>\r\n            <font-awesome-icon\r\n                icon=\"spinner\"\r\n                spin\r\n            />\r\n            {{ $t('app.loading') }}\r\n        </p>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport showSnackbar from '@/snackbar'\r\nimport ErrorAlert from '@/components/alerts/ErrorAlert'\r\nimport shopApi from '@/api/shop'\r\nexport default {\r\n    components: {\r\n        ErrorAlert\r\n    },\r\n    data () {\r\n        return {\r\n            items: [],\r\n            error: null,\r\n            busy: false,\r\n        }\r\n    },\r\n    created () {\r\n        this.loadSummary()\r\n    },\r\n    methods: {\r\n        async loadSummary () {\r\n            this.busy = true\r\n            this.error = false\r\n            try {\r\n                let data = await shopApi.listNonRedeemedByDay()\r\n                this.items = data\r\n            } catch (err) {\r\n                this.error = err\r\n            }\r\n            this.busy = false\r\n        },\r\n        async deleteCards(date) {\r\n            if (window.confirm(`Really delete all non-redeemed cards from ${date}?`)) {\r\n                this.busy = true\r\n                try {\r\n                    let data = await shopApi.deleteNonRedeemedByDay(date)\r\n                    this.items = this.items.filter(i => i.date != date)\r\n                    this.loadSummary()\r\n                    showSnackbar(data.message)\r\n                } catch(err) {\r\n                    this.error = err\r\n                }\r\n                this.busy = false\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NonExpiredCardsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NonExpiredCardsTable.vue?vue&type=script&lang=js&\"","<template>\r\n    <div class=\"row\">\r\n        <div class=\"col-md\">\r\n\r\n            <!-- Error message -->\r\n            <error-alert\r\n                v-if=\"error\"\r\n                :message=\"error\"\r\n            />\r\n\r\n            <!-- List of redeemed cards -->\r\n            <shop-cards-list\r\n                :handouts=\"handouts\"\r\n                :loading=\"loading\"\r\n            />\r\n\r\n        </div>\r\n        <div class=\"col-md\">\r\n\r\n            <!-- List of non redeemed cards by day -->\r\n            <non-expired-cards-table />\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ShopCardsList from '@/components/shop/ShopCardsList'\r\nimport NonExpiredCardsTable from '@/components/shop/NonExpiredCardsTable'\r\nimport ErrorAlert from '@/components/alerts/ErrorAlert'\r\nimport shopApi from '@/api/shop'\r\nexport default {\r\n    components: {\r\n        ShopCardsList,\r\n        NonExpiredCardsTable,\r\n        ErrorAlert\r\n    },\r\n    data () {\r\n        return {\r\n            loading: true,\r\n            error: null,\r\n            handouts: [],\r\n        }\r\n    },\r\n    created () {\r\n        this.loadHandouts()\r\n    },\r\n    methods: {\r\n        async loadHandouts() {\r\n            try {\r\n                let data = await shopApi.listRedeemedToday()\r\n                this.handouts = data.data\r\n            } catch (err) {\r\n                this.error = err\r\n            }\r\n            this.loading = false\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCardManagerPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCardManagerPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NonExpiredCardsTable.vue?vue&type=template&id=273a0422&\"\nimport script from \"./NonExpiredCardsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./NonExpiredCardsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h4',{staticClass:\"mb-3\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('shop.non_redeemed_cards'))+\"\\n    \")]),_vm._v(\" \"),(_vm.error)?_c('error-alert',{attrs:{\"message\":_vm.error}}):_vm._e(),_vm._v(\" \"),(_vm.items.length > 0)?_c('table',{staticClass:\"table table-sm table-striped mb-4\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('app.date')))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.$t('shop.cards')))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.$t('shop.expired')))]),_vm._v(\" \"),_c('th',{staticClass:\"fit\"},[_vm._v(_vm._s(_vm.$t('app.actions')))])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.items),function(item){return _c('tr',{key:item.date,class:{'table-warning': item.expired}},[_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.date))]),_vm._v(\" \"),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.total))]),_vm._v(\" \"),_c('td',{staticClass:\"align-middle\"},[_c('font-awesome-icon',{attrs:{\"icon\":item.expired ? 'check' : 'times'}})],1),_vm._v(\" \"),_c('td',{staticClass:\"fit\"},[_c('button',{staticClass:\"btn btn-danger btn-sm\",attrs:{\"disabled\":_vm.busy},on:{\"click\":function($event){return _vm.deleteCards(item.date)}}},[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('shop.delete_cards'))+\"\\n                    \")])])])}),0)]):(!_vm.busy)?_c('p',[_c('em',[_vm._v(_vm._s(_vm.$t('shop.no_suitable_cards_found')))])]):_c('p',[_c('font-awesome-icon',{attrs:{\"icon\":\"spinner\",\"spin\":\"\"}}),_vm._v(\"\\n        \"+_vm._s(_vm.$t('app.loading'))+\"\\n    \")],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./ShopCardManagerPage.vue?vue&type=template&id=26b85900&\"\nimport script from \"./ShopCardManagerPage.vue?vue&type=script&lang=js&\"\nexport * from \"./ShopCardManagerPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md\"},[(_vm.error)?_c('error-alert',{attrs:{\"message\":_vm.error}}):_vm._e(),_vm._v(\" \"),_c('shop-cards-list',{attrs:{\"handouts\":_vm.handouts,\"loading\":_vm.loading}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-md\"},[_c('non-expired-cards-table')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\r\n\r\nimport FontAwesomeIcon from '@/components/common/FontAwesomeIcon'\r\nVue.component('font-awesome-icon', FontAwesomeIcon)\r\n\r\nimport ShopScannerPage from '@/pages/shop/ShopScannerPage'\r\nimport ShopCardManagerPage from '@/pages/shop/ShopCardManagerPage'\r\n\r\nVue.config.productionTip = false\r\n\r\nimport i18n from '@/plugins/i18n'\r\n\r\nnew Vue({\r\n    el: '#shop-app',\r\n    i18n,\r\n    components: {\r\n        ShopScannerPage,\r\n        ShopCardManagerPage\r\n    }\r\n});\r\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".error-message[data-v-6911d0da]{color:red}.loading-indicator[data-v-6911d0da]{color:grey}.error-message[data-v-6911d0da],.loading-indicator[data-v-6911d0da],.validation-failure[data-v-6911d0da],.validation-success[data-v-6911d0da]{position:absolute;width:100%;height:100%;background-color:hsla(0,0%,100%,.8);text-align:center;font-weight:700;font-size:1.4rem;padding:10px;display:flex;flex-flow:column nowrap;justify-content:center}.validation-success[data-v-6911d0da]{color:green}.validation-failure[data-v-6911d0da]{color:red}\", \"\"]);\n\n// exports\n"],"sourceRoot":""}