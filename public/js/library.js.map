{"version":3,"sources":["webpack:///./resources/js/app/LibraryApp.vue","webpack:///./resources/js/app/LibraryApp.vue?b3ee","webpack:///./resources/js/api/library.js","webpack:///resources/js/pages/library/LendingPage.vue","webpack:///./resources/js/pages/library/LendingPage.vue?2241","webpack:///./resources/js/pages/library/LendingPage.vue","webpack:///./resources/js/pages/library/LendingPage.vue?bafc","webpack:///./resources/js/components/common/AutocompleteInput.vue?3009","webpack:///resources/js/components/common/AutocompleteInput.vue","webpack:///./resources/js/components/common/AutocompleteInput.vue","webpack:///./resources/js/components/common/AutocompleteInput.vue?fe9d","webpack:///./resources/js/components/people/PersonAutocompleteInput.vue?c32e","webpack:///resources/js/components/people/PersonAutocompleteInput.vue","webpack:///./resources/js/components/people/PersonAutocompleteInput.vue","webpack:///./resources/js/components/people/PersonAutocompleteInput.vue?6953","webpack:///./resources/js/components/library/input/LibraryBookAutocompleteInput.vue?18bf","webpack:///resources/js/components/library/input/LibraryBookAutocompleteInput.vue","webpack:///./resources/js/components/library/input/LibraryBookAutocompleteInput.vue","webpack:///./resources/js/components/library/input/LibraryBookAutocompleteInput.vue?688f","webpack:///./resources/js/components/people/input/NameInput.vue?065f","webpack:///resources/js/components/people/input/NameInput.vue","webpack:///./resources/js/components/people/input/NameInput.vue","webpack:///./resources/js/components/people/input/NameInput.vue?bbc6","webpack:///./resources/js/components/people/input/FamilyNameInput.vue?b4b3","webpack:///resources/js/components/people/input/FamilyNameInput.vue","webpack:///./resources/js/components/people/input/FamilyNameInput.vue","webpack:///./resources/js/components/people/input/FamilyNameInput.vue?5f66","webpack:///./resources/js/components/people/input/DateOfBirthInput.vue?035b","webpack:///resources/js/components/people/input/DateOfBirthInput.vue","webpack:///./resources/js/components/people/input/DateOfBirthInput.vue","webpack:///./resources/js/components/people/input/DateOfBirthInput.vue?76b9","webpack:///resources/js/components/people/input/NationalityInput.vue","webpack:///./resources/js/components/people/input/NationalityInput.vue?a0e8","webpack:///./resources/js/components/people/input/NationalityInput.vue","webpack:///./resources/js/components/people/input/NationalityInput.vue?7593","webpack:///./resources/js/components/people/input/PoliceNumberInput.vue?cf88","webpack:///resources/js/components/people/input/PoliceNumberInput.vue","webpack:///./resources/js/components/people/input/PoliceNumberInput.vue","webpack:///./resources/js/components/people/input/PoliceNumberInput.vue?2b82","webpack:///./resources/js/components/people/PersonEditorForm.vue?2b51","webpack:///resources/js/components/people/PersonEditorForm.vue","webpack:///resources/js/components/people/PersonRegisterModal.vue","webpack:///./resources/js/components/people/PersonRegisterModal.vue?4053","webpack:///./resources/js/components/people/PersonEditorForm.vue","webpack:///./resources/js/components/people/PersonEditorForm.vue?897a","webpack:///./resources/js/components/library/LendigSearch.vue?824e","webpack:///resources/js/components/library/LendigSearch.vue","webpack:///./resources/js/components/people/PersonRegisterModal.vue","webpack:///./resources/js/components/people/PersonRegisterModal.vue?d296","webpack:///./resources/js/components/library/LendigSearch.vue","webpack:///./resources/js/components/library/LendigSearch.vue?37a6","webpack:///./resources/js/components/library/BorrowersTable.vue?2623","webpack:///resources/js/components/library/BorrowersTable.vue","webpack:///./resources/js/components/library/BorrowersTable.vue","webpack:///./resources/js/components/library/BorrowersTable.vue?0f0b","webpack:///./resources/js/components/library/LentBooksTable.vue?b2fc","webpack:///resources/js/components/library/LentBooksTable.vue","webpack:///./resources/js/components/library/LentBooksTable.vue","webpack:///./resources/js/components/library/LentBooksTable.vue?68a1","webpack:///./resources/js/components/library/input/IsbnInput.vue?fa7f","webpack:///resources/js/components/library/input/IsbnInput.vue","webpack:///./resources/js/components/library/input/IsbnInput.vue","webpack:///./resources/js/components/library/input/IsbnInput.vue?38a9","webpack:///./resources/js/components/library/input/TitleInput.vue?a211","webpack:///resources/js/components/library/input/TitleInput.vue","webpack:///./resources/js/components/library/input/TitleInput.vue","webpack:///./resources/js/components/library/input/TitleInput.vue?5a6e","webpack:///./resources/js/components/library/input/AuthorInput.vue?f5ce","webpack:///resources/js/components/library/input/AuthorInput.vue","webpack:///./resources/js/components/library/input/AuthorInput.vue","webpack:///./resources/js/components/library/input/AuthorInput.vue?4f71","webpack:///resources/js/components/library/input/LanguageCodeInput.vue","webpack:///./resources/js/components/library/input/LanguageCodeInput.vue?c502","webpack:///./resources/js/components/library/input/LanguageCodeInput.vue","webpack:///./resources/js/components/library/input/LanguageCodeInput.vue?d669","webpack:///resources/js/components/library/forms/BookForm.vue","webpack:///./resources/js/components/library/forms/BookForm.vue?1780","webpack:///./resources/js/components/library/forms/BookForm.vue","webpack:///./resources/js/components/library/forms/BookForm.vue?4046","webpack:///./resources/js/components/library/PersonLendingsTable.vue?bc31","webpack:///resources/js/components/library/PersonLendingsTable.vue","webpack:///./resources/js/components/library/PersonLendingsTable.vue","webpack:///./resources/js/components/library/PersonLendingsTable.vue?5322","webpack:///./resources/js/components/library/PersonLogTable.vue?50d5","webpack:///resources/js/components/library/PersonLogTable.vue","webpack:///resources/js/pages/library/LendingPersonPage.vue","webpack:///./resources/js/pages/library/LendingPersonPage.vue?d020","webpack:///./resources/js/components/library/PersonLogTable.vue","webpack:///./resources/js/components/library/PersonLogTable.vue?bb75","webpack:///./resources/js/pages/library/LendingPersonPage.vue","webpack:///./resources/js/pages/library/LendingPersonPage.vue?3df6","webpack:///./resources/js/components/library/BooksTable.vue?1e10","webpack:///resources/js/components/library/BooksTable.vue","webpack:///./resources/js/pages/library/BooksPage.vue?ba4f","webpack:///resources/js/pages/library/BooksPage.vue","webpack:///./resources/js/components/library/BooksTable.vue","webpack:///./resources/js/components/library/BooksTable.vue?6cfc","webpack:///./resources/js/pages/library/BooksPage.vue","webpack:///./resources/js/pages/library/BooksPage.vue?673f","webpack:///resources/js/pages/library/BookRegisterPage.vue","webpack:///./resources/js/pages/library/BookRegisterPage.vue?413f","webpack:///./resources/js/pages/library/BookRegisterPage.vue","webpack:///./resources/js/pages/library/BookRegisterPage.vue?9cec","webpack:///resources/js/pages/library/BookEditPage.vue","webpack:///./resources/js/pages/library/BookEditPage.vue?c3f2","webpack:///./resources/js/pages/library/BookEditPage.vue","webpack:///./resources/js/pages/library/BookEditPage.vue?b93f","webpack:///./resources/js/components/library/BookLogTable.vue?ac3a","webpack:///resources/js/components/library/BookLogTable.vue","webpack:///resources/js/pages/library/LendingBookPage.vue","webpack:///./resources/js/pages/library/LendingBookPage.vue?1511","webpack:///./resources/js/components/library/BookLogTable.vue","webpack:///./resources/js/components/library/BookLogTable.vue?4af9","webpack:///./resources/js/pages/library/LendingBookPage.vue","webpack:///./resources/js/pages/library/LendingBookPage.vue?2c9e","webpack:///resources/js/pages/library/ExportPage.vue","webpack:///./resources/js/pages/library/ExportPage.vue?5d17","webpack:///./resources/js/pages/library/ExportPage.vue","webpack:///./resources/js/pages/library/ExportPage.vue?5924","webpack:///resources/js/pages/library/ReportPage.vue","webpack:///./resources/js/pages/library/ReportPage.vue?1485","webpack:///./resources/js/pages/library/ReportPage.vue","webpack:///./resources/js/pages/library/ReportPage.vue?42be","webpack:///./resources/js/router/library.js","webpack:///./resources/js/library.js"],"names":["_h","this","$createElement","_c","_self","attrs","_v","findIsbn","isbn","isbnApi","provider","PROVIDER_NAMES","GOOGLE","OPENLIBRARY","resolve","data","title","author","authors","join","language","listBooks","params","url","route","api","get","storeBook","post","findBook","id","updateBook","put","deleteBook","fetchLendingsStatistics","listBorrowers","listLentBooks","findLendingsOfPerson","fetchPersonLog","personId","lendBookToPerson","book","book_id","extendLendingToPerson","bookId","days","returnBookFromPerson","findLendingOfBook","fetchBookLog","lendBook","person_id","extendLending","returnBook","fetchReportData","fetchExportData","_vm","tabNavItems","scopedSlots","_u","key","fn","numBorrowers","staticClass","_s","_e","proxy","numLentBooks","fetch","getResponse","onHit","render","placeholder","model","value","callback","$$v","input","expression","$t","on","$event","$emit","hideLabel","label","state","invalidFeedback","ref","modelValue","age","countries","stopPropagation","preventDefault","submit","person","$set","alert","registerModalId","busy","focusForm","handleOk","createPerson","ucFirst","navigateToPerson","registerPerson","navigateToBook","fields","name","item","public_id","full_name","lending","vid","rules","validationContext","getValidationState","errors","disabled","length","valid","languages","handleSubmit","onSubmit","compact","isDisabled","searching","updateDataByISBN","language_code","directives","rawName","noButtons","_t","lendings","_l","class","isOverdue","isSoonOverdue","moment","lending_date","format","return_date","nationality","date_of_birth","modifiers","selectedBookId","ok","$refs","registerBookForm","focus","handleOkRegisterBook","registerAndLendBookToPerson","registerBook","domProps","lentToPersonMessage","selectedPersonId","formats","form","selections","isBusy","borrwer_count","borrowers_currently_borrowed_count","borrowers_currently_overdue_count","roundWithDecimals","borrower","idx","collapsed_name","gender","quantity","book_count","books_currently_borrowed_count","books_currently_overdue_count","book_lendings_unique_count","percentage","book_lendings_all_count","book_lendings_top","truncate","book_languages_undefined_count","count","Vue","use","VueRouter","router","mode","base","addRoutes","path","redirect","components","default","LendingPage","header","PageHeader","props","i18n","t","buttons","to","variant","icon","text","show","can","children","component","LendigSearch","BorrowersTable","LentBooksTable","BooksPage","LendingPersonPage","href","ziggyRoute","LendingBookPage","BookRegisterPage","click","back","BookEditPage","ExportPage","ReportPage","NotFoundPage","FontAwesomeIcon","BootstrapVue","mixin","ziggyMixin","config","productionTip","el","store","LibraryApp"],"mappings":"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","file":"/js/library.js","sourcesContent":["import { render, staticRenderFns } from \"./LibraryApp.vue?vue&type=template&id=17981363&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view',{attrs:{\"name\":\"header\"}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { api, route } from '@/api/baseApi'\r\nimport isbnApi from 'node-isbn'\r\n export default {\r\n    //\r\n    // Books\r\n    //\r\n    async findIsbn (isbn) {\r\n        let data = await isbnApi\r\n            .provider([isbnApi.PROVIDER_NAMES.GOOGLE, isbnApi.PROVIDER_NAMES.OPENLIBRARY])\r\n            .resolve(isbn)\r\n        return {\r\n            title: data.title,\r\n            author: data.authors ? data.authors.join(', ') : null,\r\n            language: data.language\r\n        }\r\n    },\r\n    async listBooks (params) {\r\n        const url = route('api.library.books.index', params)\r\n        return await api.get(url)\r\n    },\r\n    async storeBook (data) {\r\n        const url = route('api.library.books.store')\r\n        return await api.post(url, data)\r\n    },\r\n    async findBook (id) {\r\n        const url = route('api.library.books.show', id)\r\n        return await api.get(url)\r\n    },\r\n    async updateBook (id, data) {\r\n        const url = route('api.library.books.update', id)\r\n        return await api.put(url, data)\r\n    },\r\n    async deleteBook (id) {\r\n        const url = route('api.library.books.destroy', id)\r\n        return await api.delete(url)\r\n    },\r\n    //\r\n    // Lending\r\n    //\r\n    async fetchLendingsStatistics () {\r\n        const url = route('api.library.lending.stats')\r\n        return await api.get(url)\r\n    },\r\n    async listBorrowers () {\r\n        const url = route('api.library.lending.persons')\r\n        return await api.get(url)\r\n    },\r\n    async listLentBooks () {\r\n        const url = route('api.library.lending.books')\r\n        return await api.get(url)\r\n    },\r\n    //\r\n    // Lending (from person)\r\n    //\r\n    async findLendingsOfPerson (id) {\r\n        const url = route('api.library.lending.person', id)\r\n        return await api.get(url)\r\n    },\r\n    async fetchPersonLog (personId) {\r\n        const url = route('api.library.lending.personLog', personId)\r\n        return await api.get(url)\r\n    },\r\n    async lendBookToPerson(book, personId) {\r\n        const url = route('api.library.lending.lendBookToPerson', personId)\r\n        let data\r\n        if (typeof book == 'object') {\r\n            data = book\r\n        } else {\r\n            data = {\r\n                book_id: book\r\n            }\r\n        }\r\n        return await api.post(url, data)\r\n    },\r\n    async extendLendingToPerson(bookId, personId, days) {\r\n        const url = route('api.library.lending.extendBookToPerson', personId)\r\n        return await api.post(url, {\r\n            book_id: bookId,\r\n            days: days\r\n        })\r\n    },\r\n    async returnBookFromPerson(bookId, personId) {\r\n        const url = route('api.library.lending.returnBookFromPerson', personId)\r\n        return await api.post(url, {\r\n            book_id: bookId,\r\n        })\r\n    },\r\n    //\r\n    // Lending (from book)\r\n    //\r\n    async findLendingOfBook(id) {\r\n        const url = route('api.library.lending.book', id)\r\n        return await api.get(url)\r\n    },\r\n    async fetchBookLog (bookId) {\r\n        const url = route('api.library.lending.bookLog', bookId)\r\n        return await api.get(url)\r\n    },\r\n    async lendBook(bookId, personId) {\r\n        const url = route('api.library.lending.lendBook', bookId)\r\n        return await api.post(url, {\r\n            person_id: personId\r\n        })\r\n    },\r\n    async extendLending(id, days) {\r\n        const url = route('api.library.lending.extendBook', id)\r\n        return await api.post(url, {\r\n            days: days\r\n        })\r\n    },\r\n    async returnBook(id) {\r\n        const url = route('api.library.lending.returnBook', id)\r\n        return await api.post(url)\r\n    },\r\n    async fetchReportData () {\r\n        const url = route('api.library.report')\r\n        return await api.get(url)\r\n    },\r\n    async fetchExportData () {\r\n        const url = route('api.library.export')\r\n        return await api.get(url)\r\n    }\r\n}\r\n","<template>\r\n    <div>\r\n        <tab-nav :items=\"tabNavItems\">\r\n            <template v-slot:after(borrowers)>\r\n                <b-badge\r\n                    v-if=\"numBorrowers > 0\"\r\n                    class=\"ml-1\"\r\n                >\r\n                    {{ numBorrowers }}\r\n                </b-badge>\r\n            </template>\r\n            <template v-slot:after(lent_books)>\r\n                <b-badge\r\n                    v-if=\"numLentBooks > 0\"\r\n                    class=\"ml-1\"\r\n                >\r\n                    {{ numLentBooks }}\r\n                </b-badge>\r\n            </template>\r\n        </tab-nav>\r\n        <router-view />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { can } from '@/plugins/laravel'\r\nimport libraryApi from '@/api/library'\r\nimport TabNav from '@/components/ui/TabNav'\r\nexport default {\r\n    components: {\r\n        TabNav\r\n    },\r\n    data () {\r\n        return {\r\n            numBorrowers: null,\r\n            numLentBooks: null,\r\n            tabNavItems: [\r\n                {\r\n                    to: { name: 'library.lending.index' },\r\n                    icon: 'search',\r\n                    text: this.$t('library.lending'),\r\n                    show: can('operate-library')\r\n                },\r\n                {\r\n                    to: { name: 'library.lending.borrowers' },\r\n                    icon: 'users',\r\n                    text: this.$t('library.borrowers'),\r\n                    show: can('operate-library'),\r\n                    key: 'borrowers'\r\n                },\r\n                {\r\n                    to: { name: 'library.lending.lent_books' },\r\n                    icon: 'inbox',\r\n                    text: this.$t('library.lent_books'),\r\n                    show: can('operate-library'),\r\n                    key: 'lent_books'\r\n                },\r\n                {\r\n                    to: { name: 'library.books.index' },\r\n                    icon: 'book',\r\n                    text: this.$t('library.books'),\r\n                    show: can('operate-library')\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    async created () {\r\n        try {\r\n            let data = await libraryApi.fetchLendingsStatistics()\r\n            this.numBorrowers = data.num_borrowers\r\n            this.numLentBooks = data.num_lent_books\r\n        } catch (err) {\r\n            // Noop\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendingPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendingPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LendingPage.vue?vue&type=template&id=47a0ade7&\"\nimport script from \"./LendingPage.vue?vue&type=script&lang=js&\"\nexport * from \"./LendingPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('tab-nav',{attrs:{\"items\":_vm.tabNavItems},scopedSlots:_vm._u([{key:\"after(borrowers)\",fn:function(){return [(_vm.numBorrowers > 0)?_c('b-badge',{staticClass:\"ml-1\"},[_vm._v(\"\\n                \"+_vm._s(_vm.numBorrowers)+\"\\n            \")]):_vm._e()]},proxy:true},{key:\"after(lent_books)\",fn:function(){return [(_vm.numLentBooks > 0)?_c('b-badge',{staticClass:\"ml-1\"},[_vm._v(\"\\n                \"+_vm._s(_vm.numLentBooks)+\"\\n            \")]):_vm._e()]},proxy:true}])}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AutocompleteInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AutocompleteInput.vue?vue&type=script&lang=js&\"","<template>\r\n    <type-ahead\r\n        v-model=\"input\"\r\n        :src=\"url\"\r\n        :fetch=\"fetch\"\r\n        :getResponse=\"getResponse\"\r\n        :limit=\"10\"\r\n        :onHit=\"onHit\"\r\n        :render=\"render\"\r\n        :placeholder=\"placeholder\"\r\n    />\r\n</template>\r\n\r\n<script>\r\nimport axios from '@/plugins/axios'\r\n// Documentation: https://www.npmjs.com/package/vue2-typeahead\r\nimport TypeAhead from 'vue2-typeahead'\r\nexport default {\r\n    components: {\r\n        TypeAhead\r\n    },\r\n    props: {\r\n        url: {\r\n            required: true,\r\n            type: String\r\n        },\r\n        placeholder: {\r\n            required: false,\r\n            type: String,\r\n            default: null\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            input: '',\r\n            selectedItem: null,\r\n        }\r\n    },\r\n    watch: {\r\n        input (val) {\r\n            if (this.selectedItem && this.selectedItem.value != val) {\r\n                this.selectedItem = null\r\n            }\r\n        },\r\n        selectedItem (val) {\r\n            this.$emit('select', val ? val.data : null)\r\n        }\r\n    },\r\n    methods: {\r\n        onHit: function (item, vue, index) {\r\n            if (index >= 0) {\r\n                this.selectedItem = vue.data[index]\r\n            }\r\n            vue.query = item\r\n        },\r\n        render: function (items) {\r\n            return items.map(e => e.value)\r\n        },\r\n        getResponse: function (res) {\r\n            return res.data.suggestions\r\n        },\r\n        fetch: function (url) {\r\n            return axios.get(url)\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./AutocompleteInput.vue?vue&type=template&id=c9fd0b60&\"\nimport script from \"./AutocompleteInput.vue?vue&type=script&lang=js&\"\nexport * from \"./AutocompleteInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('type-ahead',{attrs:{\"src\":_vm.url,\"fetch\":_vm.fetch,\"getResponse\":_vm.getResponse,\"limit\":10,\"onHit\":_vm.onHit,\"render\":_vm.render,\"placeholder\":_vm.placeholder},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonAutocompleteInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonAutocompleteInput.vue?vue&type=script&lang=js&\"","<template>\r\n    <autocomplete-input\r\n        :placeholder=\"$t('people.search_existing_person')\"\r\n        :url=\"`${route('api.people.filterPersons')}?query=:keyword`\"\r\n        @select=\"$emit('select', $event)\"\r\n    />\r\n</template>\r\n\r\n<script>\r\nimport AutocompleteInput from '@/components/common/AutocompleteInput'\r\nexport default {\r\n    components: {\r\n        AutocompleteInput\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./PersonAutocompleteInput.vue?vue&type=template&id=410fb6a9&\"\nimport script from \"./PersonAutocompleteInput.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonAutocompleteInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('autocomplete-input',{attrs:{\"placeholder\":_vm.$t('people.search_existing_person'),\"url\":((_vm.route('api.people.filterPersons')) + \"?query=:keyword\")},on:{\"select\":function($event){return _vm.$emit('select', $event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibraryBookAutocompleteInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibraryBookAutocompleteInput.vue?vue&type=script&lang=js&\"","<template>\r\n    <autocomplete-input\r\n        :placeholder=\"$t('library.search_title_author_isbn')\"\r\n        :url=\"url\"\r\n        @select=\"$emit('select', $event)\"\r\n    />\r\n</template>\r\n\r\n<script>\r\nimport AutocompleteInput from '@/components/common/AutocompleteInput'\r\nexport default {\r\n    props: {\r\n        availableOnly: Boolean\r\n    },\r\n    components: {\r\n        AutocompleteInput\r\n    },\r\n    computed: {\r\n        url () {\r\n            let url = `${this.route('api.library.books.filter')}?query=:keyword`\r\n            if (this.availableOnly) {\r\n                url += '&available=true'\r\n            }\r\n            return url\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./LibraryBookAutocompleteInput.vue?vue&type=template&id=cfde02f8&\"\nimport script from \"./LibraryBookAutocompleteInput.vue?vue&type=script&lang=js&\"\nexport * from \"./LibraryBookAutocompleteInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('autocomplete-input',{attrs:{\"placeholder\":_vm.$t('library.search_title_author_isbn'),\"url\":_vm.url},on:{\"select\":function($event){return _vm.$emit('select', $event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NameInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NameInput.vue?vue&type=script&lang=js&\"","<template>\r\n    <b-form-group\r\n        :label=\"!hideLabel ? label : null\"\r\n        :state=\"state\"\r\n        :invalid-feedback=\"invalidFeedback\"\r\n    >\r\n        <b-form-input\r\n            v-model=\"modelValue\"\r\n            trim\r\n            ref=\"input\"\r\n            :placeholder=\"hideLabel ? label : null\"\r\n            autocomplete=\"off\"\r\n            required\r\n            :state=\"state\"\r\n        />\r\n    </b-form-group>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        value: {\r\n            required: true\r\n        },\r\n        hideLabel: Boolean\r\n    },\r\n    data () {\r\n        return {\r\n            modelValue: this.value,\r\n            label: this.$t('people.name'),\r\n            state: null\r\n        }\r\n    },\r\n    computed: {\r\n        invalidFeedback () {\r\n            return this.$t('validation.required', {attribute: this.label})\r\n        }\r\n    },\r\n    watch: {\r\n        modelValue (val) {\r\n            this.$emit('input', val)\r\n            this.state = this.$refs.input.checkValidity()\r\n        }\r\n    },\r\n    methods: {\r\n        focus () {\r\n            this.$refs.input.focus()\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./NameInput.vue?vue&type=template&id=d61773b6&\"\nimport script from \"./NameInput.vue?vue&type=script&lang=js&\"\nexport * from \"./NameInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-group',{attrs:{\"label\":!_vm.hideLabel ? _vm.label : null,\"state\":_vm.state,\"invalid-feedback\":_vm.invalidFeedback}},[_c('b-form-input',{ref:\"input\",attrs:{\"trim\":\"\",\"placeholder\":_vm.hideLabel ? _vm.label : null,\"autocomplete\":\"off\",\"required\":\"\",\"state\":_vm.state},model:{value:(_vm.modelValue),callback:function ($$v) {_vm.modelValue=$$v},expression:\"modelValue\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FamilyNameInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FamilyNameInput.vue?vue&type=script&lang=js&\"","<template>\r\n    <b-form-group\r\n        :label=\"!hideLabel ? label : null\"\r\n        :state=\"state\"\r\n        :invalid-feedback=\"invalidFeedback\"\r\n    >\r\n        <b-form-input\r\n            v-model=\"modelValue\"\r\n            trim\r\n            ref=\"input\"\r\n            :placeholder=\"hideLabel ? label : null\"\r\n            autocomplete=\"off\"\r\n            required\r\n            :state=\"state\"\r\n        />\r\n    </b-form-group>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        value: {\r\n            required: true\r\n        },\r\n        hideLabel: Boolean\r\n    },\r\n    data () {\r\n        return {\r\n            modelValue: this.value,\r\n            label: this.$t('people.family_name'),\r\n            state: null\r\n        }\r\n    },\r\n    computed: {\r\n        invalidFeedback () {\r\n            return this.$t('validation.required', {attribute: this.label})\r\n        }\r\n    },\r\n    watch: {\r\n        modelValue (val) {\r\n            this.$emit('input', val)\r\n            this.state = this.$refs.input.checkValidity()\r\n        }\r\n    },\r\n    methods: {\r\n        focus () {\r\n            this.$refs.input.focus()\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./FamilyNameInput.vue?vue&type=template&id=f7e213e8&\"\nimport script from \"./FamilyNameInput.vue?vue&type=script&lang=js&\"\nexport * from \"./FamilyNameInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-group',{attrs:{\"label\":!_vm.hideLabel ? _vm.label : null,\"state\":_vm.state,\"invalid-feedback\":_vm.invalidFeedback}},[_c('b-form-input',{ref:\"input\",attrs:{\"trim\":\"\",\"placeholder\":_vm.hideLabel ? _vm.label : null,\"autocomplete\":\"off\",\"required\":\"\",\"state\":_vm.state},model:{value:(_vm.modelValue),callback:function ($$v) {_vm.modelValue=$$v},expression:\"modelValue\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateOfBirthInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateOfBirthInput.vue?vue&type=script&lang=js&\"","<template>\r\n    <b-form-group\r\n        :label=\"!hideLabel ? label : null\"\r\n        :state=\"state\"\r\n        :invalid-feedback=\"invalidFeedback\"\r\n    >\r\n        <b-input-group :append=\"$t('people.age_n', {age: age != null ? age : '...'})\">\r\n            <b-form-input\r\n                v-model=\"modelValue\"\r\n                trim\r\n                ref=\"input\"\r\n                placeholder=\"YYYY-MM-DD\"\r\n                autocomplete=\"off\"\r\n                pattern=\"[0-9]{4}-[0-9]{2}-[0-9]{2}\"\r\n                required\r\n                :state=\"state\"\r\n            />\r\n        </b-input-group>\r\n    </b-form-group>\r\n</template>\r\n\r\n<script>\r\nimport { isDateString, dateOfBirthToAge } from '@/utils'\r\nexport default {\r\n    props: {\r\n        value: {\r\n            required: true\r\n        },\r\n        hideLabel: Boolean\r\n    },\r\n    data () {\r\n        return {\r\n            modelValue: this.value,\r\n            label: this.$t('people.date_of_birth'),\r\n            state: null\r\n        }\r\n    },\r\n    computed: {\r\n        age () {\r\n            if (this.modelValue && isDateString(this.modelValue)) {\r\n                return dateOfBirthToAge(this.modelValue)\r\n            }\r\n            return null\r\n        },\r\n        invalidFeedback () {\r\n            if (this.modelValue) { /* NoOp */ }\r\n            if (this.$refs.input && this.$refs.input.validity.patternMismatch) {\r\n                return this.$t('validation.regex', {attribute: this.label})\r\n            }\r\n            return this.$t('validation.required', {attribute: this.label})\r\n        }\r\n    },\r\n    watch: {\r\n        modelValue (val) {\r\n            this.$emit('input', val)\r\n            this.state = this.$refs.input.checkValidity()\r\n        }\r\n    },\r\n    methods: {\r\n        focus () {\r\n            this.$refs.input.focus()\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./DateOfBirthInput.vue?vue&type=template&id=11df1cec&\"\nimport script from \"./DateOfBirthInput.vue?vue&type=script&lang=js&\"\nexport * from \"./DateOfBirthInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-group',{attrs:{\"label\":!_vm.hideLabel ? _vm.label : null,\"state\":_vm.state,\"invalid-feedback\":_vm.invalidFeedback}},[_c('b-input-group',{attrs:{\"append\":_vm.$t('people.age_n', {age: _vm.age != null ? _vm.age : '...'})}},[_c('b-form-input',{ref:\"input\",attrs:{\"trim\":\"\",\"placeholder\":\"YYYY-MM-DD\",\"autocomplete\":\"off\",\"pattern\":\"[0-9]{4}-[0-9]{2}-[0-9]{2}\",\"required\":\"\",\"state\":_vm.state},model:{value:(_vm.modelValue),callback:function ($$v) {_vm.modelValue=$$v},expression:\"modelValue\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-form-group\r\n        :label=\"!hideLabel ? label : null\"\r\n        :state=\"state\"\r\n        :invalid-feedback=\"invalidFeedback\"\r\n    >\r\n        <b-form-input\r\n            v-model=\"modelValue\"\r\n            trim\r\n            ref=\"input\"\r\n            :placeholder=\"hideLabel ? label : null\"\r\n            list=\"country-list\"\r\n            :state=\"state\"\r\n        />\r\n        <b-form-datalist\r\n            id=\"country-list\"\r\n            :options=\"countries\"\r\n        />\r\n    </b-form-group>\r\n</template>\r\n\r\n<script>\r\nimport commonApi from '@/api/common'\r\nexport default {\r\n    props: {\r\n        value: {\r\n            required: true\r\n        },\r\n        hideLabel: Boolean\r\n    },\r\n    data () {\r\n        return {\r\n            modelValue: this.value,\r\n            label: this.$t('people.nationality'),\r\n            countries: [],\r\n            state: null\r\n        }\r\n    },\r\n    computed: {\r\n        invalidFeedback () {\r\n            return this.$t('validation.country_name', {attribute: this.label})\r\n        }\r\n    },\r\n    watch: {\r\n        modelValue (val) {\r\n            this.$emit('input', val)\r\n            this.state = this.$refs.input.checkValidity() && (!val || this.countries.indexOf(val) >= 0)\r\n        }\r\n    },\r\n    async created() {\r\n        let data = await commonApi.listCountries('en')\r\n        this.countries = Object.values(data)\r\n    },\r\n    methods: {\r\n        focus () {\r\n            this.$refs.input.focus()\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NationalityInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NationalityInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NationalityInput.vue?vue&type=template&id=317f4422&\"\nimport script from \"./NationalityInput.vue?vue&type=script&lang=js&\"\nexport * from \"./NationalityInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-group',{attrs:{\"label\":!_vm.hideLabel ? _vm.label : null,\"state\":_vm.state,\"invalid-feedback\":_vm.invalidFeedback}},[_c('b-form-input',{ref:\"input\",attrs:{\"trim\":\"\",\"placeholder\":_vm.hideLabel ? _vm.label : null,\"list\":\"country-list\",\"state\":_vm.state},model:{value:(_vm.modelValue),callback:function ($$v) {_vm.modelValue=$$v},expression:\"modelValue\"}}),_vm._v(\" \"),_c('b-form-datalist',{attrs:{\"id\":\"country-list\",\"options\":_vm.countries}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PoliceNumberInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PoliceNumberInput.vue?vue&type=script&lang=js&\"","<template>\r\n    <b-form-group\r\n        :label=\"!hideLabel ? label : null\"\r\n        :state=\"state\"\r\n        :invalid-feedback=\"invalidFeedback\"\r\n    >\r\n        <b-input-group prepend=\"05/\">\r\n            <!-- TODO auto fill zeros -->\r\n            <b-form-input\r\n                v-model=\"modelValue\"\r\n                number\r\n                ref=\"input\"\r\n                :placeholder=\"hideLabel ? label : null\"\r\n                type=\"number\"\r\n                autocomplete=\"off\"\r\n                no-wheel\r\n                :state=\"state\"\r\n            />\r\n        </b-input-group>\r\n    </b-form-group>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        value: {\r\n            required: true\r\n        },\r\n        hideLabel: Boolean\r\n    },\r\n    data () {\r\n        return {\r\n            modelValue: this.value,\r\n            label: this.$t('people.police_number'),\r\n            state: null\r\n        }\r\n    },\r\n    computed: {\r\n        invalidFeedback () {\r\n            return this.$t('validation.numeric', {attribute: this.label})\r\n        }\r\n    },\r\n    watch: {\r\n        modelValue (val) {\r\n            this.$emit('input', val)\r\n            this.state = this.$refs.input.checkValidity()\r\n        }\r\n    },\r\n    methods: {\r\n        focus () {\r\n            this.$refs.input.focus()\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./PoliceNumberInput.vue?vue&type=template&id=8b1abe5a&\"\nimport script from \"./PoliceNumberInput.vue?vue&type=script&lang=js&\"\nexport * from \"./PoliceNumberInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form-group',{attrs:{\"label\":!_vm.hideLabel ? _vm.label : null,\"state\":_vm.state,\"invalid-feedback\":_vm.invalidFeedback}},[_c('b-input-group',{attrs:{\"prepend\":\"05/\"}},[_c('b-form-input',{ref:\"input\",attrs:{\"number\":\"\",\"placeholder\":_vm.hideLabel ? _vm.label : null,\"type\":\"number\",\"autocomplete\":\"off\",\"no-wheel\":\"\",\"state\":_vm.state},model:{value:(_vm.modelValue),callback:function ($$v) {_vm.modelValue=$$v},expression:\"modelValue\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonEditorForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonEditorForm.vue?vue&type=script&lang=js&\"","<template>\r\n    <form\r\n        ref=\"form\"\r\n        @submit.stop.prevent=\"submit()\"\r\n    >\r\n        <div class=\"form-row\">\r\n\r\n            <!-- Name -->\r\n            <div class=\"col-md\">\r\n                <name-input\r\n                    ref=\"focusThis\"\r\n                    v-model=\"person.name\"\r\n                    hide-label\r\n                />\r\n            </div>\r\n\r\n            <!-- Family Name -->\r\n            <div class=\"col-md\">\r\n                <family-name-input\r\n                    v-model=\"person.family_name\"\r\n                    hide-label\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"form-row\">\r\n\r\n            <!-- Gender -->\r\n            <div class=\"col-md\">\r\n                <gender-radio-input\r\n                    v-model=\"person.gender\"\r\n                    hide-label\r\n                />\r\n            </div>\r\n\r\n            <!-- Date of birth -->\r\n            <div class=\"col-md\">\r\n                <date-of-birth-input\r\n                    v-model=\"person.date_of_birth\"\r\n                    hide-label\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"form-row\">\r\n\r\n            <!-- Nationality -->\r\n            <div class=\"col-md\">\r\n                <nationality-input\r\n                    v-model=\"person.nationality\"\r\n                    hide-label\r\n                />\r\n            </div>\r\n\r\n            <!-- Police number -->\r\n            <div class=\"col-md\">\r\n                <police-number-input\r\n                    v-model=\"person.police_no\"\r\n                    hide-label\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n    </form>\r\n</template>\r\n\r\n<script>\r\nimport NameInput from '@/components/people/input/NameInput'\r\nimport FamilyNameInput from '@/components/people/input/FamilyNameInput'\r\nimport GenderRadioInput from '@/components/people/input/GenderRadioInput'\r\nimport DateOfBirthInput from '@/components/people/input/DateOfBirthInput'\r\nimport NationalityInput from '@/components/people/input/NationalityInput'\r\nimport PoliceNumberInput from '@/components/people/input/PoliceNumberInput'\r\nexport default {\r\n    components: {\r\n        NameInput,\r\n        FamilyNameInput,\r\n        GenderRadioInput,\r\n        DateOfBirthInput,\r\n        NationalityInput,\r\n        PoliceNumberInput\r\n    },\r\n    props: {\r\n        value: {\r\n            type: Object,\r\n            required: false,\r\n            default: function () {\r\n                return {}\r\n            }\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            person: {\r\n                name: this.value.name,\r\n                family_name: this.value.family_name,\r\n                gender: this.value.gender,\r\n                date_of_birth: this.value.date_of_birth,\r\n                nationality: this.value.nationality,\r\n                police_no: this.value.police_no\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        focus () {\r\n            this.$refs.focusThis.focus()\r\n        },\r\n        submit () {\r\n            if (!this.checkFormValidity()) {\r\n                alert(this.$t('app.validation_failed'))\r\n                return\r\n            }\r\n            this.$emit('submit', this.person)\r\n        },\r\n        checkFormValidity () {\r\n            return this.$refs.form.checkValidity()\r\n        },\r\n        reset() {\r\n            this.person = {}\r\n        }\r\n    }\r\n}\r\n</script>\r\n","<template>\r\n    <b-modal\r\n        :id=\"registerModalId\"\r\n        :title=\"$t('people.register_new_person')\"\r\n        body-class=\"pb-0\"\r\n        centered\r\n        ok-only\r\n        :ok-disabled=\"busy\"\r\n        @shown=\"focusForm\"\r\n        @ok=\"handleOk\"\r\n    >\r\n        <person-editor-form\r\n            ref=\"editor\"\r\n            @submit=\"createPerson\"\r\n        />\r\n        <template v-slot:modal-ok>\r\n            <font-awesome-icon icon=\"check\" />\r\n            {{ $t('app.register') }}\r\n        </template>\r\n    </b-modal>\r\n</template>\r\n\r\n<script>\r\nimport peopleApi from '@/api/people'\r\nimport { showSnackbar } from '@/utils'\r\nimport PersonEditorForm from '@/components/people/PersonEditorForm'\r\nexport default {\r\n    components: {\r\n        PersonEditorForm\r\n    },\r\n    data () {\r\n        return {\r\n            registerModalId: 'registerPersoModal',\r\n            busy: false\r\n        }\r\n    },\r\n    methods: {\r\n        open () {\r\n            this.$bvModal.show(this.registerModalId)\r\n        },\r\n        focusForm () {\r\n            this.$refs.editor.focus()\r\n        },\r\n        handleOk (bvModalEvt) {\r\n            bvModalEvt.preventDefault()\r\n            this.$refs.editor.submit()\r\n        },\r\n        async createPerson (person) {\r\n            this.busy = true\r\n            try {\r\n                let data = await peopleApi.store(person)\r\n                showSnackbar(data.message)\r\n                this.$nextTick(() => {\r\n                    this.$bvModal.hide(this.registerModalId)\r\n                })\r\n                this.$router.push({ name: 'library.lending.person', params: { personId: data.id }})\r\n            } catch (err) {\r\n                alert(this.$t('app.error_err', { err: err }))\r\n            }\r\n            this.busy = false\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonRegisterModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonRegisterModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonEditorForm.vue?vue&type=template&id=e09e013a&\"\nimport script from \"./PersonEditorForm.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonEditorForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{ref:\"form\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submit()}}},[_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col-md\"},[_c('name-input',{ref:\"focusThis\",attrs:{\"hide-label\":\"\"},model:{value:(_vm.person.name),callback:function ($$v) {_vm.$set(_vm.person, \"name\", $$v)},expression:\"person.name\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-md\"},[_c('family-name-input',{attrs:{\"hide-label\":\"\"},model:{value:(_vm.person.family_name),callback:function ($$v) {_vm.$set(_vm.person, \"family_name\", $$v)},expression:\"person.family_name\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col-md\"},[_c('gender-radio-input',{attrs:{\"hide-label\":\"\"},model:{value:(_vm.person.gender),callback:function ($$v) {_vm.$set(_vm.person, \"gender\", $$v)},expression:\"person.gender\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-md\"},[_c('date-of-birth-input',{attrs:{\"hide-label\":\"\"},model:{value:(_vm.person.date_of_birth),callback:function ($$v) {_vm.$set(_vm.person, \"date_of_birth\", $$v)},expression:\"person.date_of_birth\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"form-row\"},[_c('div',{staticClass:\"col-md\"},[_c('nationality-input',{attrs:{\"hide-label\":\"\"},model:{value:(_vm.person.nationality),callback:function ($$v) {_vm.$set(_vm.person, \"nationality\", $$v)},expression:\"person.nationality\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col-md\"},[_c('police-number-input',{attrs:{\"hide-label\":\"\"},model:{value:(_vm.person.police_no),callback:function ($$v) {_vm.$set(_vm.person, \"police_no\", $$v)},expression:\"person.police_no\"}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendigSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendigSearch.vue?vue&type=script&lang=js&\"","<template>\r\n    <div>\r\n        <b-row>\r\n            <b-col md>\r\n                <b-card\r\n                    :header=\"ucFirst($t('people.persons'))\"\r\n                    class=\"mb-4\"\r\n                    body-class=\"pb-4\"\r\n                >\r\n                    <b-form-row>\r\n                        <b-col>\r\n                            <person-autocomplete-input @select=\"navigateToPerson\" />\r\n                        </b-col>\r\n                        <b-col cols=\"auto\">\r\n                            <b-button\r\n                                variant=\"outline-secondary\"\r\n                                @click=\"registerPerson()\"\r\n                            >\r\n                                <font-awesome-icon icon=\"plus-circle\" />\r\n                                <span class=\"d-none d-sm-inline\">{{ $t('app.register') }}</span>\r\n                            </b-button>\r\n                        </b-col>\r\n                    </b-form-row>\r\n                </b-card>\r\n            </b-col>\r\n            <b-col md>\r\n                <b-card\r\n                    :header=\"$t('library.books')\"\r\n                    class=\"mb-4\"\r\n                    body-class=\"pb-4\"\r\n                >\r\n                    <library-book-autocomplete-input @select=\"navigateToBook\" />\r\n                </b-card>\r\n            </b-col>\r\n        </b-row>\r\n        <person-register-modal\r\n            ref=\"registerPersonModal\"\r\n        />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ucFirst } from '@/utils'\r\nimport PersonAutocompleteInput from '@/components/people/PersonAutocompleteInput'\r\nimport LibraryBookAutocompleteInput from '@/components/library/input/LibraryBookAutocompleteInput'\r\nimport PersonRegisterModal from '@/components/people/PersonRegisterModal'\r\nexport default {\r\n    components: {\r\n        PersonAutocompleteInput,\r\n        LibraryBookAutocompleteInput,\r\n        PersonRegisterModal,\r\n    },\r\n    methods: {\r\n        ucFirst,\r\n        navigateToPerson (val) {\r\n            if (val) {\r\n                this.$router.push({ name: 'library.lending.person', params: { personId: val }})\r\n            }\r\n        },\r\n        navigateToBook (val) {\r\n            if (val) {\r\n                this.$router.push({ name: 'library.lending.book', params: { bookId: val }})\r\n            }\r\n        },\r\n        registerPerson () {\r\n            this.$refs.registerPersonModal.open()\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./PersonRegisterModal.vue?vue&type=template&id=50e5489c&\"\nimport script from \"./PersonRegisterModal.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonRegisterModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"id\":_vm.registerModalId,\"title\":_vm.$t('people.register_new_person'),\"body-class\":\"pb-0\",\"centered\":\"\",\"ok-only\":\"\",\"ok-disabled\":_vm.busy},on:{\"shown\":_vm.focusForm,\"ok\":_vm.handleOk},scopedSlots:_vm._u([{key:\"modal-ok\",fn:function(){return [_c('font-awesome-icon',{attrs:{\"icon\":\"check\"}}),_vm._v(\"\\n        \"+_vm._s(_vm.$t('app.register'))+\"\\n    \")]},proxy:true}])},[_c('person-editor-form',{ref:\"editor\",on:{\"submit\":_vm.createPerson}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./LendigSearch.vue?vue&type=template&id=8493fc62&\"\nimport script from \"./LendigSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./LendigSearch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[_c('b-card',{staticClass:\"mb-4\",attrs:{\"header\":_vm.ucFirst(_vm.$t('people.persons')),\"body-class\":\"pb-4\"}},[_c('b-form-row',[_c('b-col',[_c('person-autocomplete-input',{on:{\"select\":_vm.navigateToPerson}})],1),_vm._v(\" \"),_c('b-col',{attrs:{\"cols\":\"auto\"}},[_c('b-button',{attrs:{\"variant\":\"outline-secondary\"},on:{\"click\":function($event){return _vm.registerPerson()}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"plus-circle\"}}),_vm._v(\" \"),_c('span',{staticClass:\"d-none d-sm-inline\"},[_vm._v(_vm._s(_vm.$t('app.register')))])],1)],1)],1)],1)],1),_vm._v(\" \"),_c('b-col',{attrs:{\"md\":\"\"}},[_c('b-card',{staticClass:\"mb-4\",attrs:{\"header\":_vm.$t('library.books'),\"body-class\":\"pb-4\"}},[_c('library-book-autocomplete-input',{on:{\"select\":_vm.navigateToBook}})],1)],1)],1),_vm._v(\" \"),_c('person-register-modal',{ref:\"registerPersonModal\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BorrowersTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BorrowersTable.vue?vue&type=script&lang=js&\"","<template>\n    <base-table\n        id=\"borrowersTable\"\n        :fields=\"fields\"\n        :api-method=\"listBorrowers\"\n        default-sort-by=\"person\"\n        :empty-text=\"$t('library.no_books_lent')\"\n        no-filter\n        :items-per-page=\"25\"\n    >\n        <template v-slot:cell(person)=\"data\">\n            <b-link :to=\"{ name: 'library.lending.person', params: { personId: data.item.public_id }}\">\n                {{ data.item.full_name }}\n            </b-link>\n        </template>\n    </base-table>\n</template>\n\n<script>\nimport BaseTable from '@/components/table/BaseTable'\nimport libraryApi from '@/api/library'\nexport default {\n    components: {\n        BaseTable\n    },\n    data () {\n        return {\n            fields: [\n                {\n                    key: 'person',\n                    label: this.$t('people.person'),\n                },\n                {\n                    key: 'lendings_count',\n                    label: this.$t('library.books'),\n                    class: 'fit text-right',\n                    tdClass: (value, key, item) => item.lendings_overdue ? 'table-danger' : null\n                }\n            ]\n        }\n    },\n    methods: {\n        listBorrowers: libraryApi.listBorrowers\n    }\n}\n</script>\n","import { render, staticRenderFns } from \"./BorrowersTable.vue?vue&type=template&id=3b01a246&\"\nimport script from \"./BorrowersTable.vue?vue&type=script&lang=js&\"\nexport * from \"./BorrowersTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-table',{attrs:{\"id\":\"borrowersTable\",\"fields\":_vm.fields,\"api-method\":_vm.listBorrowers,\"default-sort-by\":\"person\",\"empty-text\":_vm.$t('library.no_books_lent'),\"no-filter\":\"\",\"items-per-page\":25},scopedSlots:_vm._u([{key:\"cell(person)\",fn:function(data){return [_c('b-link',{attrs:{\"to\":{ name: 'library.lending.person', params: { personId: data.item.public_id }}}},[_vm._v(\"\\n            \"+_vm._s(data.item.full_name)+\"\\n        \")])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LentBooksTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LentBooksTable.vue?vue&type=script&lang=js&\"","<template>\n    <base-table\n        id=\"lentBooksTable\"\n        :fields=\"fields\"\n        :api-method=\"listLentBooks\"\n        default-sort-by=\"book\"\n        :empty-text=\"$t('library.no_books_lent')\"\n        no-filter\n        :items-per-page=\"25\"\n    >\n        <template v-slot:cell(book)=\"data\">\n            <b-link :to=\"{ name: 'library.lending.book', params: { bookId: data.item.id }}\">\n                {{ data.item.title }}<template v-if=\"data.item.author\">, {{ data.item.author }}</template>\n            </b-link>\n        </template>\n        <template v-slot:cell(person)=\"data\">\n            <b-link\n                v-if=\"data.item.lending.person\"\n                :to=\"{ name: 'library.lending.person', params: { personId: data.item.lending.person.public_id }}\"\n            >\n                {{ data.item.lending.person.full_name }}\n            </b-link>\n        </template>\n    </base-table>\n</template>\n\n<script>\nimport moment from 'moment'\nimport BaseTable from '@/components/table/BaseTable'\nimport libraryApi from '@/api/library'\nexport default {\n    components: {\n        BaseTable\n    },\n    data () {\n        return {\n            fields: [\n                {\n                    key: 'book',\n                    label: this.$t('library.book'),\n                },\n                {\n                    key: 'person',\n                    label: this.$t('people.person'),\n                    class: 'd-none d-sm-table-cell'\n                },\n                {\n                    key: 'return_date',\n                    label: this.$t('library.return'),\n                    class: 'fit',\n                    formatter: (value, key, item) => moment(item.lending.return_date).format('LL'),\n                    tdClass: (value, key, item) => {\n                        if (moment(item.lending.return_date).isBefore(moment(), 'day')) {\n                            return 'table-danger'\n                        }\n                        if (moment(item.lending.return_date).isSame(moment(), 'day')) {\n                            return 'table-warning'\n                        }\n                        return null\n                    }\n                }\n            ]\n        }\n    },\n    methods: {\n        listLentBooks: libraryApi.listLentBooks\n    }\n}\n</script>\n","import { render, staticRenderFns } from \"./LentBooksTable.vue?vue&type=template&id=17f5bade&\"\nimport script from \"./LentBooksTable.vue?vue&type=script&lang=js&\"\nexport * from \"./LentBooksTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-table',{attrs:{\"id\":\"lentBooksTable\",\"fields\":_vm.fields,\"api-method\":_vm.listLentBooks,\"default-sort-by\":\"book\",\"empty-text\":_vm.$t('library.no_books_lent'),\"no-filter\":\"\",\"items-per-page\":25},scopedSlots:_vm._u([{key:\"cell(book)\",fn:function(data){return [_c('b-link',{attrs:{\"to\":{ name: 'library.lending.book', params: { bookId: data.item.id }}}},[_vm._v(\"\\n            \"+_vm._s(data.item.title)),(data.item.author)?[_vm._v(\", \"+_vm._s(data.item.author))]:_vm._e()],2)]}},{key:\"cell(person)\",fn:function(data){return [(data.item.lending.person)?_c('b-link',{attrs:{\"to\":{ name: 'library.lending.person', params: { personId: data.item.lending.person.public_id }}}},[_vm._v(\"\\n            \"+_vm._s(data.item.lending.person.full_name)+\"\\n        \")]):_vm._e()]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IsbnInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IsbnInput.vue?vue&type=script&lang=js&\"","<template>\r\n    <validation-provider\r\n        :name=\"label\"\r\n        :vid=\"vid\"\r\n        :rules=\"rules\"\r\n        v-slot=\"validationContext\"\r\n    >\r\n        <b-form-group\r\n            :label=\"!hideLabel ? label : null\"\r\n            :state=\"getValidationState(validationContext)\"\r\n            :invalid-feedback=\"validationContext.errors[0]\"\r\n        >\r\n            <b-input-group>\r\n                <b-form-input\r\n                    v-model=\"modelValue\"\r\n                    trim\r\n                    ref=\"input\"\r\n                    :placeholder=\"hideLabel ? label : null\"\r\n                    autocomplete=\"off\"\r\n                    :disabled=\"disabled\"\r\n                    :state=\"getValidationState(validationContext)\"\r\n                    pattern=\"^(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$\"\r\n                />\r\n                <b-input-group-append>\r\n                    <b-button\r\n                        variant=\"outline-secondary\"\r\n                        :disabled=\"disabled || !(modelValue && modelValue.length > 0 && validationContext.valid)\"\r\n                        @click=\"$emit('lookup', modelValue)\"\r\n                    >\r\n                        <font-awesome-icon :icon=\"busy ? 'spinner' : 'search'\" :spin=\"busy\" />\r\n                    </b-button>\r\n                </b-input-group-append>\r\n            </b-input-group>\r\n        </b-form-group>\r\n    </validation-provider>\r\n</template>\r\n\r\n<script>\r\nimport formInputMixin from '@/mixins/formInputMixin'\r\nexport default {\r\n    mixins: [formInputMixin],\r\n    props: {\r\n        busy: Boolean\r\n    },\r\n    data () {\r\n        return {\r\n            label: this.$t('library.isbn'),\r\n            vid: 'isbn',\r\n            rules: {\r\n                regex: /^(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$/,\r\n                isbn: true\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./IsbnInput.vue?vue&type=template&id=78aa75dc&\"\nimport script from \"./IsbnInput.vue?vue&type=script&lang=js&\"\nexport * from \"./IsbnInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('validation-provider',{attrs:{\"name\":_vm.label,\"vid\":_vm.vid,\"rules\":_vm.rules},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":!_vm.hideLabel ? _vm.label : null,\"state\":_vm.getValidationState(validationContext),\"invalid-feedback\":validationContext.errors[0]}},[_c('b-input-group',[_c('b-form-input',{ref:\"input\",attrs:{\"trim\":\"\",\"placeholder\":_vm.hideLabel ? _vm.label : null,\"autocomplete\":\"off\",\"disabled\":_vm.disabled,\"state\":_vm.getValidationState(validationContext),\"pattern\":\"^(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$\"},model:{value:(_vm.modelValue),callback:function ($$v) {_vm.modelValue=$$v},expression:\"modelValue\"}}),_vm._v(\" \"),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"outline-secondary\",\"disabled\":_vm.disabled || !(_vm.modelValue && _vm.modelValue.length > 0 && validationContext.valid)},on:{\"click\":function($event){return _vm.$emit('lookup', _vm.modelValue)}}},[_c('font-awesome-icon',{attrs:{\"icon\":_vm.busy ? 'spinner' : 'search',\"spin\":_vm.busy}})],1)],1)],1)],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TitleInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TitleInput.vue?vue&type=script&lang=js&\"","<template>\r\n    <validation-provider\r\n        :name=\"label\"\r\n        :vid=\"vid\"\r\n        :rules=\"rules\"\r\n        v-slot=\"validationContext\"\r\n    >\r\n        <b-form-group\r\n            :label=\"!hideLabel ? label : null\"\r\n            :state=\"getValidationState(validationContext)\"\r\n            :invalid-feedback=\"validationContext.errors[0]\"\r\n        >\r\n            <b-form-input\r\n                v-model=\"modelValue\"\r\n                trim\r\n                ref=\"input\"\r\n                :placeholder=\"hideLabel ? label : null\"\r\n                autocomplete=\"off\"\r\n                :state=\"getValidationState(validationContext)\"\r\n                :disabled=\"disabled\"\r\n                required\r\n            />\r\n        </b-form-group>\r\n    </validation-provider>\r\n</template>\r\n\r\n<script>\r\nimport formInputMixin from '@/mixins/formInputMixin'\r\nexport default {\r\n    mixins: [formInputMixin],\r\n    data () {\r\n        return {\r\n            label: this.$t('app.title'),\r\n            vid: 'title',\r\n            rules: {\r\n                required: true\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./TitleInput.vue?vue&type=template&id=09d7258c&\"\nimport script from \"./TitleInput.vue?vue&type=script&lang=js&\"\nexport * from \"./TitleInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('validation-provider',{attrs:{\"name\":_vm.label,\"vid\":_vm.vid,\"rules\":_vm.rules},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":!_vm.hideLabel ? _vm.label : null,\"state\":_vm.getValidationState(validationContext),\"invalid-feedback\":validationContext.errors[0]}},[_c('b-form-input',{ref:\"input\",attrs:{\"trim\":\"\",\"placeholder\":_vm.hideLabel ? _vm.label : null,\"autocomplete\":\"off\",\"state\":_vm.getValidationState(validationContext),\"disabled\":_vm.disabled,\"required\":\"\"},model:{value:(_vm.modelValue),callback:function ($$v) {_vm.modelValue=$$v},expression:\"modelValue\"}})],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthorInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthorInput.vue?vue&type=script&lang=js&\"","<template>\r\n    <validation-provider\r\n        :name=\"label\"\r\n        :vid=\"vid\"\r\n        :rules=\"rules\"\r\n        v-slot=\"validationContext\"\r\n    >\r\n        <b-form-group\r\n            :label=\"!hideLabel ? label : null\"\r\n            :state=\"getValidationState(validationContext)\"\r\n            :invalid-feedback=\"validationContext.errors[0]\"\r\n        >\r\n            <b-form-input\r\n                v-model=\"modelValue\"\r\n                trim\r\n                ref=\"input\"\r\n                :placeholder=\"hideLabel ? label : null\"\r\n                autocomplete=\"off\"\r\n                :state=\"getValidationState(validationContext)\"\r\n                :disabled=\"disabled\"\r\n            />\r\n        </b-form-group>\r\n    </validation-provider>\r\n</template>\r\n\r\n<script>\r\nimport formInputMixin from '@/mixins/formInputMixin'\r\nexport default {\r\n    mixins: [formInputMixin],\r\n    data () {\r\n        return {\r\n            label: this.$t('library.author'),\r\n            vid: 'author',\r\n            rules: { }\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./AuthorInput.vue?vue&type=template&id=f0b2594a&\"\nimport script from \"./AuthorInput.vue?vue&type=script&lang=js&\"\nexport * from \"./AuthorInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('validation-provider',{attrs:{\"name\":_vm.label,\"vid\":_vm.vid,\"rules\":_vm.rules},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":!_vm.hideLabel ? _vm.label : null,\"state\":_vm.getValidationState(validationContext),\"invalid-feedback\":validationContext.errors[0]}},[_c('b-form-input',{ref:\"input\",attrs:{\"trim\":\"\",\"placeholder\":_vm.hideLabel ? _vm.label : null,\"autocomplete\":\"off\",\"state\":_vm.getValidationState(validationContext),\"disabled\":_vm.disabled},model:{value:(_vm.modelValue),callback:function ($$v) {_vm.modelValue=$$v},expression:\"modelValue\"}})],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <validation-provider\r\n        :name=\"label\"\r\n        :vid=\"vid\"\r\n        :rules=\"rules\"\r\n        v-slot=\"validationContext\"\r\n    >\r\n        <b-form-group\r\n            :label=\"!hideLabel ? label : null\"\r\n            :state=\"getValidationState(validationContext)\"\r\n            :invalid-feedback=\"validationContext.errors[0]\"\r\n        >\r\n            <b-form-select\r\n                v-model=\"modelValue\"\r\n                ref=\"input\"\r\n                :options=\"languages\"\r\n                :state=\"getValidationState(validationContext)\"\r\n                :disabled=\"disabled\"\r\n            />\r\n        </b-form-group>\r\n    </validation-provider>\r\n</template>\r\n\r\n<script>\r\nimport commonApi from '@/api/common'\r\nimport formInputMixin from '@/mixins/formInputMixin'\r\nexport default {\r\n    mixins: [formInputMixin],\r\n    props: {\r\n        value: {\r\n            type: String,\r\n        },\r\n        hideLabel: Boolean\r\n    },\r\n    data () {\r\n        return {\r\n            label: this.$t('app.language'),\r\n            vid: 'language_code',\r\n            rules: {},\r\n            languages: [{\r\n                value: null,\r\n                text: this.$t('app.choose_language')\r\n            }]\r\n        }\r\n    },\r\n    created () {\r\n        this.loadLanguages()\r\n    },\r\n    methods: {\r\n        async loadLanguages () {\r\n            try {\r\n                let data = await commonApi.listLanguages()\r\n                const languages = Object.entries(data)\r\n                    .map(e => {\r\n                        return {\r\n                            value: e[0],\r\n                            text: e[1]\r\n                        }\r\n                    })\r\n                this.languages.push(...languages)\r\n            } catch (err) {\r\n                // Noop\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LanguageCodeInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LanguageCodeInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LanguageCodeInput.vue?vue&type=template&id=7a16a1fc&\"\nimport script from \"./LanguageCodeInput.vue?vue&type=script&lang=js&\"\nexport * from \"./LanguageCodeInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('validation-provider',{attrs:{\"name\":_vm.label,\"vid\":_vm.vid,\"rules\":_vm.rules},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',{attrs:{\"label\":!_vm.hideLabel ? _vm.label : null,\"state\":_vm.getValidationState(validationContext),\"invalid-feedback\":validationContext.errors[0]}},[_c('b-form-select',{ref:\"input\",attrs:{\"options\":_vm.languages,\"state\":_vm.getValidationState(validationContext),\"disabled\":_vm.disabled},model:{value:(_vm.modelValue),callback:function ($$v) {_vm.modelValue=$$v},expression:\"modelValue\"}})],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <validation-observer\r\n        ref=\"observer\"\r\n        v-slot=\"{ handleSubmit }\"\r\n    >\r\n        <b-form @submit.stop.prevent=\"handleSubmit(onSubmit)\">\r\n            <isbn-input\r\n                v-model=\"isbn\"\r\n                ref=\"isbnInput\"\r\n                :hide-label=\"compact\"\r\n                :disabled=\"isDisabled\"\r\n                :busy=\"searching\"\r\n                @lookup=\"updateDataByISBN\"\r\n            />\r\n            <title-input\r\n                v-model=\"title\"\r\n                :hide-label=\"compact\"\r\n                :disabled=\"isDisabled\"\r\n            />\r\n            <author-input\r\n                v-model=\"author\"\r\n                :hide-label=\"compact\"\r\n                :disabled=\"isDisabled\"\r\n            />\r\n            <language-code-input\r\n                v-model=\"language_code\"\r\n                :hide-label=\"compact\"\r\n                :disabled=\"isDisabled\"\r\n            />\r\n            <p v-show=\"!noButtons\">\r\n                <b-button\r\n                    variant=\"primary\"\r\n                    type=\"submit\"\r\n                    :disabled=\"isDisabled\"\r\n                >\r\n                    <font-awesome-icon icon=\"check\" />\r\n                    {{ book ? $t('app.update') : $t('app.register') }}\r\n                </b-button>\r\n                <slot></slot>\r\n            </p>\r\n        </b-form>\r\n    </validation-observer>\r\n</template>\r\n\r\n<script>\r\nimport libraryApi from '@/api/library'\r\nimport { getAjaxErrorMessage } from '@/api/baseApi'\r\nimport { StatusCodes } from 'http-status-codes'\r\nimport { BForm, BButton } from 'bootstrap-vue'\r\nimport IsbnInput from '@/components/library/input/IsbnInput'\r\nimport TitleInput from '@/components/library/input/TitleInput'\r\nimport AuthorInput from '@/components/library/input/AuthorInput'\r\nimport LanguageCodeInput from '@/components/library/input/LanguageCodeInput'\r\nexport default {\r\n    components: {\r\n        BForm,\r\n        BButton,\r\n        IsbnInput,\r\n        TitleInput,\r\n        AuthorInput,\r\n        LanguageCodeInput\r\n    },\r\n    props: {\r\n        compact: Boolean,\r\n        noButtons: Boolean,\r\n        disabled: Boolean,\r\n        book: {\r\n            required: false,\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            isbn: this.book ? this.book.isbn : '',\r\n            title: this.book ? this.book.title : '',\r\n            author: this.book ? this.book.author : '',\r\n            language_code: this.book ? this.book.language_code : null,\r\n            searching: false\r\n        }\r\n    },\r\n    computed: {\r\n        isDisabled () {\r\n            return this.disabled || this.searching\r\n        }\r\n    },\r\n    methods: {\r\n        focus () {\r\n            this.$refs.isbnInput.focus()\r\n        },\r\n        submit () {\r\n            this.$refs.observer.validate()\r\n                .then(valid => {\r\n                    if (valid) {\r\n                        this.onSubmit()\r\n                    }\r\n                })\r\n        },\r\n        onSubmit () {\r\n            this.$emit('submit', {\r\n                isbn: this.isbn,\r\n                title: this.title,\r\n                author: this.author,\r\n                language_code: this.language_code\r\n            })\r\n        },\r\n        async updateDataByISBN (isbn) {\r\n            this.searching = true\r\n            try {\r\n                let data = await libraryApi.findIsbn(isbn)\r\n                this.title = data.title\r\n                this.author = data.author\r\n                this.language_code = data.language\r\n\r\n                this.$nextTick(function () {\r\n                    this.$refs.observer.validate()\r\n                })\r\n            } catch (err) {\r\n                if (err.response.status == StatusCodes.NOT_FOUND) {\r\n                    this.title = ''\r\n                    this.author = ''\r\n                    this.language_code = null\r\n                } else {\r\n                    alert(getAjaxErrorMessage(err))\r\n                }\r\n            }\r\n            this.searching = false\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookForm.vue?vue&type=template&id=17c47b88&\"\nimport script from \"./BookForm.vue?vue&type=script&lang=js&\"\nexport * from \"./BookForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('validation-observer',{ref:\"observer\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return handleSubmit(_vm.onSubmit)}}},[_c('isbn-input',{ref:\"isbnInput\",attrs:{\"hide-label\":_vm.compact,\"disabled\":_vm.isDisabled,\"busy\":_vm.searching},on:{\"lookup\":_vm.updateDataByISBN},model:{value:(_vm.isbn),callback:function ($$v) {_vm.isbn=$$v},expression:\"isbn\"}}),_vm._v(\" \"),_c('title-input',{attrs:{\"hide-label\":_vm.compact,\"disabled\":_vm.isDisabled},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_vm._v(\" \"),_c('author-input',{attrs:{\"hide-label\":_vm.compact,\"disabled\":_vm.isDisabled},model:{value:(_vm.author),callback:function ($$v) {_vm.author=$$v},expression:\"author\"}}),_vm._v(\" \"),_c('language-code-input',{attrs:{\"hide-label\":_vm.compact,\"disabled\":_vm.isDisabled},model:{value:(_vm.language_code),callback:function ($$v) {_vm.language_code=$$v},expression:\"language_code\"}}),_vm._v(\" \"),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.noButtons),expression:\"!noButtons\"}]},[_c('b-button',{attrs:{\"variant\":\"primary\",\"type\":\"submit\",\"disabled\":_vm.isDisabled}},[_c('font-awesome-icon',{attrs:{\"icon\":\"check\"}}),_vm._v(\"\\n                \"+_vm._s(_vm.book ? _vm.$t('app.update') : _vm.$t('app.register'))+\"\\n            \")],1),_vm._v(\" \"),_vm._t(\"default\")],2)],1)]}}],null,true)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonLendingsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonLendingsTable.vue?vue&type=script&lang=js&\"","<template>\r\n    <div\r\n        v-if=\"lendings.length > 0\"\r\n        class=\"table-responsive\"\r\n    >\r\n        <table class=\"table table-sm table-bordered table-striped table-hover\">\r\n            <thead>\r\n                <tr>\r\n                    <th>{{ $t('library.book') }}</th>\r\n                    <th class=\"d-none d-sm-table-cell\">{{ $t('library.lent') }}</th>\r\n                    <th>{{ $t('library.return') }}</th>\r\n                    <th></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr\r\n                    v-for=\"lending in lendings\"\r\n                    :key=\"lending.id\"\r\n                    :class=\"{\r\n                        'table-danger': isOverdue(lending),\r\n                        'table-warning': isSoonOverdue(lending)\r\n                    }\">\r\n                    <td class=\"align-middle\">\r\n                        <b-link :to=\"{ name: 'library.lending.book', params: { bookId: lending.book.id }}\">\r\n                            {{ lending.book.title }}\r\n                            <template v-if=\"lending.book.author\">\r\n                                ({{ lending.book.author }})\r\n                            </template>\r\n                        </b-link>\r\n                    </td>\r\n                    <td class=\"align-middle d-none d-sm-table-cell\">\r\n                        {{ moment(lending.lending_date).format(\"LL\") }}\r\n                    </td>\r\n                    <td class=\"align-middle\">\r\n                        {{ moment(lending.return_date).format(\"LL\") }}\r\n                    </td>\r\n                    <td class=\"fit align-middle\">\r\n\r\n                        <!-- Return book -->\r\n                        <b-button\r\n                            variant=\"success\"\r\n                            size=\"sm\"\r\n                            :disabled=\"disabled\"\r\n                            @click=\"$emit('return', lending.book.id)\"\r\n                        >\r\n                            <font-awesome-icon icon=\"inbox\" />\r\n                            <span class=\"d-none d-sm-inline\"> {{ $t('library.return') }}</span>\r\n                        </b-button>\r\n\r\n                        <!-- Extend lending  -->\r\n                        <b-button\r\n                            variant=\"primary\"\r\n                            size=\"sm\"\r\n                            :disabled=\"disabled\"\r\n                            @click=\"$emit('extend', lending.book.id)\"\r\n                        >\r\n                            <font-awesome-icon icon=\"calendar-plus\" />\r\n                            <span class=\"d-none d-sm-inline\"> {{ $t('library.extend') }}</span>\r\n                        </b-button>\r\n\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    <b-alert\r\n        v-else\r\n        show\r\n    >\r\n        {{ $t('library.no_books_lent') }}\r\n    </b-alert>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nexport default {\r\n    props: {\r\n        lendings: {\r\n            type: Array,\r\n            required: true\r\n        },\r\n        disabled: Boolean\r\n    },\r\n    methods: {\r\n        moment,\r\n        isOverdue (lending) {\r\n            return moment(lending.return_date).isBefore(moment(), 'day')\r\n        },\r\n        isSoonOverdue (lending) {\r\n            return moment(lending.return_date).isSame(moment(), 'day')\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./PersonLendingsTable.vue?vue&type=template&id=7e1328b2&\"\nimport script from \"./PersonLendingsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonLendingsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.lendings.length > 0)?_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-sm table-bordered table-striped table-hover\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t('library.book')))]),_vm._v(\" \"),_c('th',{staticClass:\"d-none d-sm-table-cell\"},[_vm._v(_vm._s(_vm.$t('library.lent')))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.$t('library.return')))]),_vm._v(\" \"),_c('th')])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.lendings),function(lending){return _c('tr',{key:lending.id,class:{\n                    'table-danger': _vm.isOverdue(lending),\n                    'table-warning': _vm.isSoonOverdue(lending)\n                }},[_c('td',{staticClass:\"align-middle\"},[_c('b-link',{attrs:{\"to\":{ name: 'library.lending.book', params: { bookId: lending.book.id }}}},[_vm._v(\"\\n                        \"+_vm._s(lending.book.title)+\"\\n                        \"),(lending.book.author)?[_vm._v(\"\\n                            (\"+_vm._s(lending.book.author)+\")\\n                        \")]:_vm._e()],2)],1),_vm._v(\" \"),_c('td',{staticClass:\"align-middle d-none d-sm-table-cell\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.moment(lending.lending_date).format(\"LL\"))+\"\\n                \")]),_vm._v(\" \"),_c('td',{staticClass:\"align-middle\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.moment(lending.return_date).format(\"LL\"))+\"\\n                \")]),_vm._v(\" \"),_c('td',{staticClass:\"fit align-middle\"},[_c('b-button',{attrs:{\"variant\":\"success\",\"size\":\"sm\",\"disabled\":_vm.disabled},on:{\"click\":function($event){return _vm.$emit('return', lending.book.id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"inbox\"}}),_vm._v(\" \"),_c('span',{staticClass:\"d-none d-sm-inline\"},[_vm._v(\" \"+_vm._s(_vm.$t('library.return')))])],1),_vm._v(\" \"),_c('b-button',{attrs:{\"variant\":\"primary\",\"size\":\"sm\",\"disabled\":_vm.disabled},on:{\"click\":function($event){return _vm.$emit('extend', lending.book.id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"calendar-plus\"}}),_vm._v(\" \"),_c('span',{staticClass:\"d-none d-sm-inline\"},[_vm._v(\" \"+_vm._s(_vm.$t('library.extend')))])],1)],1)])}),0)])]):_c('b-alert',{attrs:{\"show\":\"\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('library.no_books_lent'))+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonLogTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonLogTable.vue?vue&type=script&lang=js&\"","<template>\r\n    <base-table\r\n        id=\"lendingLogTable\"\r\n        :fields=\"fields\"\r\n        :api-method=\"fetchPersonLog\"\r\n        default-sort-by=\"lending_date\"\r\n        default-sort-desc\r\n        :empty-text=\"$t('library.no_books_lent_so_far')\"\r\n        no-filter\r\n        :items-per-page=\"25\"\r\n    >\r\n        <template v-slot:cell(book)=\"data\">\r\n            <b-link :to=\"{ name: 'library.lending.book', params: { bookId: data.item.book.id }}\">\r\n                {{ data.item.book.title }}\r\n            </b-link>\r\n        </template>\r\n    </base-table>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport BaseTable from '@/components/table/BaseTable'\r\nimport libraryApi from '@/api/library'\r\nexport default {\r\n    components: {\r\n        BaseTable\r\n    },\r\n    props: {\r\n        personId: {\r\n            required: true,\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            fields: [\r\n                {\r\n                    key: 'book',\r\n                    label: this.$t('library.book'),\r\n                },\r\n                {\r\n                    key: 'lending_date',\r\n                    label: this.$t('library.lent'),\r\n                    formatter: (value) => moment(value).format('LL')\r\n                },\r\n                {\r\n                    key: 'returned_date',\r\n                    label: this.$t('library.returned'),\r\n                    formatter: (value) => value ? moment(value).format('LL') : null\r\n                },\r\n            ]\r\n        }\r\n    },\r\n    methods: {\r\n        fetchPersonLog () {\r\n            return libraryApi.fetchPersonLog(this.personId)\r\n        }\r\n    }\r\n}\r\n</script>\r\n","<template>\r\n    <div v-if=\"person\">\r\n\r\n        <!-- Heading -->\r\n        <h2 class=\"mb-3\">\r\n            {{ person.full_name }}\r\n            <small class=\"d-block d-sm-inline\">\r\n                {{ person.nationality }}<template v-if=\"person.nationality && person.date_of_birth\">,</template>\r\n                {{ moment(person.date_of_birth).format(\"LL\") }}\r\n            </small>\r\n        </h2>\r\n\r\n        <b-tabs content-class=\"mt-3\">\r\n\r\n            <!-- Lendings -->\r\n            <b-tab :title=\"$t('library.lendings')\" active>\r\n                <person-lendings-table\r\n                    v-if=\"lendings\"\r\n                    :lendings=\"lendings\"\r\n                    :disabled=\"busy\"\r\n                    @return=\"returnBook\"\r\n                    @extend=\"extendLending\"\r\n                />\r\n\r\n                <!-- Lend modal button -->\r\n                <p v-if=\"canLend\">\r\n                    <b-button\r\n                        variant=\"primary\"\r\n                        :disabled=\"busy\"\r\n                        v-b-modal.lendBookModal\r\n                    >\r\n                        <font-awesome-icon icon=\"plus-circle\" />\r\n                        {{ $t('library.lend_a_book') }}\r\n                    </b-button>\r\n                </p>\r\n\r\n                <!-- Lend book modal -->\r\n                <b-modal\r\n                    id=\"lendBookModal\"\r\n                    :title=\"$t('library.lend_a_book')\"\r\n                    @ok=\"lendBookToPerson\"\r\n                    @hidden=\"selectedBookId = null\"\r\n                >\r\n                    <library-book-autocomplete-input\r\n                        available-only\r\n                        @select=\"selectedBookId = $event\"\r\n                    />\r\n                    <template v-slot:modal-footer=\"{ ok }\">\r\n\r\n                        <!-- Lend book button -->\r\n                        <b-button\r\n                            variant=\"primary\"\r\n                            :disabled=\"!selectedBookId || busy\"\r\n                            @click=\"ok()\"\r\n                        >\r\n                            <font-awesome-icon icon=\"check\" />\r\n                            {{ $t('library.lend_book') }}\r\n                        </b-button>\r\n\r\n                        <!-- Register book button -->\r\n                        <b-button\r\n                            v-if=\"canRegisterBook\"\r\n                            variant=\"secondary\"\r\n                            :disabled=\"busy\"\r\n                            v-b-modal.registerBookModal\r\n                        >\r\n                            <font-awesome-icon icon=\"plus-circle\" />\r\n                            {{ $t('library.new_book') }}\r\n                        </b-button>\r\n\r\n                    </template>\r\n                </b-modal>\r\n\r\n                <!-- Register book modal -->\r\n                <b-modal\r\n                    id=\"registerBookModal\"\r\n                    :title=\"$t('library.register_new_book')\"\r\n                    ok-only\r\n                    :ok-disabled=\"busy\"\r\n                    body-class=\"pb-0\"\r\n                    @shown=\"$refs.registerBookForm.focus()\"\r\n                    @ok=\"handleOkRegisterBook\"\r\n                >\r\n                    <book-form\r\n                        ref=\"registerBookForm\"\r\n                        compact\r\n                        no-buttons\r\n                        :disabled=\"busy\"\r\n                        @submit=\"registerAndLendBookToPerson\"\r\n                    />\r\n                    <template v-slot:modal-ok>\r\n                        <font-awesome-icon icon=\"check\" />\r\n                        {{ $t('library.register_and_lend_book') }}\r\n                    </template>\r\n                </b-modal>\r\n\r\n            </b-tab>\r\n\r\n            <!-- Logs -->\r\n            <b-tab :title=\"$t('app.log')\" lazy>\r\n                <person-log-table\r\n                    :person-id=\"personId\"\r\n                />\r\n            </b-tab>\r\n        </b-tabs>\r\n\r\n    </div>\r\n    <p v-else>\r\n        {{ $t('app.loading') }}\r\n    </p>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport libraryApi from '@/api/library'\r\nimport peopleApi from '@/api/people'\r\nimport { showSnackbar } from '@/utils'\r\nimport LibraryBookAutocompleteInput from '@/components/library/input/LibraryBookAutocompleteInput'\r\nimport BookForm from '@/components/library/forms/BookForm'\r\nimport PersonLendingsTable from '@/components/library/PersonLendingsTable'\r\nimport PersonLogTable from '@/components/library/PersonLogTable'\r\nexport default {\r\n    components: {\r\n        LibraryBookAutocompleteInput,\r\n        BookForm,\r\n        PersonLendingsTable,\r\n        PersonLogTable\r\n    },\r\n    props: {\r\n        personId: {\r\n            required: true\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            person: null,\r\n            lendings: null,\r\n            canLend: false,\r\n            canRegisterBook: false,\r\n            defaultExtendDuration: 0,\r\n            selectedBookId: null,\r\n            busy: false\r\n        }\r\n    },\r\n    created () {\r\n        this.loadPerson()\r\n        this.loadLendings()\r\n    },\r\n    methods: {\r\n        moment,\r\n        async loadPerson () {\r\n            try {\r\n                let data = await peopleApi.find(this.personId)\r\n                this.person = data.data\r\n            } catch (err) {\r\n                alert(err)\r\n            }\r\n        },\r\n        async loadLendings () {\r\n            this.busy = true\r\n            try {\r\n                let data = await libraryApi.findLendingsOfPerson(this.personId)\r\n                this.lendings = data.data\r\n                this.canLend = data.meta.can_lend\r\n                this.canRegisterBook = data.meta.can_register_book\r\n                this.defaultExtendDuration = data.meta.default_extend_duration\r\n            } catch (err) {\r\n                alert(err)\r\n            }\r\n            this.busy = false\r\n        },\r\n        async lendBookToPerson (bvModalEvt) {\r\n            bvModalEvt.preventDefault()\r\n            if (this.selectedBookId) {\r\n                this.busy = true\r\n                try {\r\n                    let data = await libraryApi.lendBookToPerson(this.selectedBookId, this.personId)\r\n                    showSnackbar(data.message)\r\n                    this.loadLendings()\r\n                    this.$nextTick(() => {\r\n                        this.$bvModal.hide('lendBookModal')\r\n                    })\r\n                } catch (err) {\r\n                    alert(err)\r\n                }\r\n                this.busy = false\r\n            }\r\n        },\r\n        handleOkRegisterBook (evt) {\r\n            evt.preventDefault()\r\n            this.$refs.registerBookForm.submit()\r\n        },\r\n        async registerAndLendBookToPerson (newBook) {\r\n            this.busy = true\r\n            try {\r\n                let data = await libraryApi.lendBookToPerson(newBook, this.personId)\r\n                showSnackbar(data.message)\r\n                this.loadLendings()\r\n                this.$nextTick(() => {\r\n                    this.$bvModal.hide('registerBookModal')\r\n                    this.$bvModal.hide('lendBookModal')\r\n                })\r\n            } catch (err) {\r\n                alert(err)\r\n            }\r\n            this.busy = false\r\n        },\r\n        async extendLending (book_id) {\r\n            var days = prompt(`${this.$t('app.number_of_days')}:`, this.defaultExtendDuration)\r\n            if (days != null && days > 0) {\r\n                this.busy = true\r\n                try {\r\n                    let data = await libraryApi.extendLendingToPerson(book_id, this.personId, days)\r\n                    showSnackbar(data.message)\r\n                    this.loadLendings()\r\n                } catch (err) {\r\n                    alert(err)\r\n                }\r\n                this.busy = false\r\n            }\r\n        },\r\n        async returnBook (book_id) {\r\n            this.busy = true\r\n            try {\r\n                let data = await libraryApi.returnBookFromPerson(book_id, this.personId)\r\n                showSnackbar(data.message)\r\n                this.loadLendings()\r\n            } catch (err) {\r\n                alert(err)\r\n            }\r\n            this.busy = false\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendingPersonPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendingPersonPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonLogTable.vue?vue&type=template&id=32b32c1e&\"\nimport script from \"./PersonLogTable.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonLogTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-table',{attrs:{\"id\":\"lendingLogTable\",\"fields\":_vm.fields,\"api-method\":_vm.fetchPersonLog,\"default-sort-by\":\"lending_date\",\"default-sort-desc\":\"\",\"empty-text\":_vm.$t('library.no_books_lent_so_far'),\"no-filter\":\"\",\"items-per-page\":25},scopedSlots:_vm._u([{key:\"cell(book)\",fn:function(data){return [_c('b-link',{attrs:{\"to\":{ name: 'library.lending.book', params: { bookId: data.item.book.id }}}},[_vm._v(\"\\n            \"+_vm._s(data.item.book.title)+\"\\n        \")])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./LendingPersonPage.vue?vue&type=template&id=a7dbf0c2&\"\nimport script from \"./LendingPersonPage.vue?vue&type=script&lang=js&\"\nexport * from \"./LendingPersonPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.person)?_c('div',[_c('h2',{staticClass:\"mb-3\"},[_vm._v(\"\\n        \"+_vm._s(_vm.person.full_name)+\"\\n        \"),_c('small',{staticClass:\"d-block d-sm-inline\"},[_vm._v(\"\\n            \"+_vm._s(_vm.person.nationality)),(_vm.person.nationality && _vm.person.date_of_birth)?[_vm._v(\",\")]:_vm._e(),_vm._v(\"\\n            \"+_vm._s(_vm.moment(_vm.person.date_of_birth).format(\"LL\"))+\"\\n        \")],2)]),_vm._v(\" \"),_c('b-tabs',{attrs:{\"content-class\":\"mt-3\"}},[_c('b-tab',{attrs:{\"title\":_vm.$t('library.lendings'),\"active\":\"\"}},[(_vm.lendings)?_c('person-lendings-table',{attrs:{\"lendings\":_vm.lendings,\"disabled\":_vm.busy},on:{\"return\":_vm.returnBook,\"extend\":_vm.extendLending}}):_vm._e(),_vm._v(\" \"),(_vm.canLend)?_c('p',[_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.lendBookModal\",modifiers:{\"lendBookModal\":true}}],attrs:{\"variant\":\"primary\",\"disabled\":_vm.busy}},[_c('font-awesome-icon',{attrs:{\"icon\":\"plus-circle\"}}),_vm._v(\"\\n                    \"+_vm._s(_vm.$t('library.lend_a_book'))+\"\\n                \")],1)],1):_vm._e(),_vm._v(\" \"),_c('b-modal',{attrs:{\"id\":\"lendBookModal\",\"title\":_vm.$t('library.lend_a_book')},on:{\"ok\":_vm.lendBookToPerson,\"hidden\":function($event){_vm.selectedBookId = null}},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar ok = ref.ok;\nreturn [_c('b-button',{attrs:{\"variant\":\"primary\",\"disabled\":!_vm.selectedBookId || _vm.busy},on:{\"click\":function($event){return ok()}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"check\"}}),_vm._v(\"\\n                        \"+_vm._s(_vm.$t('library.lend_book'))+\"\\n                    \")],1),_vm._v(\" \"),(_vm.canRegisterBook)?_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.registerBookModal\",modifiers:{\"registerBookModal\":true}}],attrs:{\"variant\":\"secondary\",\"disabled\":_vm.busy}},[_c('font-awesome-icon',{attrs:{\"icon\":\"plus-circle\"}}),_vm._v(\"\\n                        \"+_vm._s(_vm.$t('library.new_book'))+\"\\n                    \")],1):_vm._e()]}}],null,false,3975244277)},[_c('library-book-autocomplete-input',{attrs:{\"available-only\":\"\"},on:{\"select\":function($event){_vm.selectedBookId = $event}}})],1),_vm._v(\" \"),_c('b-modal',{attrs:{\"id\":\"registerBookModal\",\"title\":_vm.$t('library.register_new_book'),\"ok-only\":\"\",\"ok-disabled\":_vm.busy,\"body-class\":\"pb-0\"},on:{\"shown\":function($event){return _vm.$refs.registerBookForm.focus()},\"ok\":_vm.handleOkRegisterBook},scopedSlots:_vm._u([{key:\"modal-ok\",fn:function(){return [_c('font-awesome-icon',{attrs:{\"icon\":\"check\"}}),_vm._v(\"\\n                    \"+_vm._s(_vm.$t('library.register_and_lend_book'))+\"\\n                \")]},proxy:true}],null,false,3283505610)},[_c('book-form',{ref:\"registerBookForm\",attrs:{\"compact\":\"\",\"no-buttons\":\"\",\"disabled\":_vm.busy},on:{\"submit\":_vm.registerAndLendBookToPerson}})],1)],1),_vm._v(\" \"),_c('b-tab',{attrs:{\"title\":_vm.$t('app.log'),\"lazy\":\"\"}},[_c('person-log-table',{attrs:{\"person-id\":_vm.personId}})],1)],1)],1):_c('p',[_vm._v(\"\\n    \"+_vm._s(_vm.$t('app.loading'))+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BooksTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BooksTable.vue?vue&type=script&lang=js&\"","<template>\n    <base-table\n        id=\"booksTable\"\n        :fields=\"fields\"\n        :api-method=\"listBooks\"\n        default-sort-by=\"title\"\n        :empty-text=\"$t('library.no_books_registered')\"\n        :filter-placeholder=\"$t('app.search_ellipsis')\"\n        :items-per-page=\"100\"\n    >\n        <template v-slot:cell(title)=\"data\">\n            <b-link :to=\"{ name: 'library.lending.book', params: { bookId: data.item.id }}\">\n                {{ data.value }}\n            </b-link>\n        </template>\n    </base-table>\n</template>\n\n<script>\nimport moment from 'moment'\nimport BaseTable from '@/components/table/BaseTable'\nimport libraryApi from '@/api/library'\nexport default {\n    components: {\n        BaseTable\n    },\n    data() {\n        return {\n            fields: [\n                {\n                    key: 'title',\n                    label: this.$t('app.title'),\n                    sortable: true\n                },\n                {\n                    key: 'author',\n                    label: this.$t('library.author'),\n                    sortable: true\n                },\n                {\n                    key: 'isbn',\n                    label: this.$t('library.isbn'),\n                    class: 'd-none d-md-table-cell',\n                    sortable: false\n                },\n                {\n                    key: 'language',\n                    label: this.$t('app.language'),\n                    class: 'd-none d-sm-table-cell',\n                    sortable: false\n                },\n                {\n                    key: 'created_at',\n                    label: this.$t('app.registered'),\n                    class: 'd-none d-sm-table-cell fit',\n                    sortable: true,\n                    sortDirection: 'desc',\n                    formatter: value => {\n                        return moment(value).fromNow()\n                    }\n                }\n            ]\n        }\n    },\n    methods: {\n        listBooks: libraryApi.listBooks\n    }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BooksPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BooksPage.vue?vue&type=script&lang=js&\"","<template>\r\n    <div>\r\n        <books-table/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport BooksTable from '@/components/library/BooksTable'\r\nexport default {\r\n    components: {\r\n        BooksTable\r\n    }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./BooksTable.vue?vue&type=template&id=8b815928&\"\nimport script from \"./BooksTable.vue?vue&type=script&lang=js&\"\nexport * from \"./BooksTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-table',{attrs:{\"id\":\"booksTable\",\"fields\":_vm.fields,\"api-method\":_vm.listBooks,\"default-sort-by\":\"title\",\"empty-text\":_vm.$t('library.no_books_registered'),\"filter-placeholder\":_vm.$t('app.search_ellipsis'),\"items-per-page\":100},scopedSlots:_vm._u([{key:\"cell(title)\",fn:function(data){return [_c('b-link',{attrs:{\"to\":{ name: 'library.lending.book', params: { bookId: data.item.id }}}},[_vm._v(\"\\n            \"+_vm._s(data.value)+\"\\n        \")])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./BooksPage.vue?vue&type=template&id=26d5e213&\"\nimport script from \"./BooksPage.vue?vue&type=script&lang=js&\"\nexport * from \"./BooksPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('books-table')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-container class=\"px-0\">\r\n        <book-form\r\n            ref=\"form\"\r\n            :disabled=\"busy\"\r\n            @submit=\"registerBook\"\r\n        />\r\n    </b-container>\r\n</template>\r\n\r\n<script>\r\nimport libraryApi from '@/api/library'\r\nimport { showSnackbar } from '@/utils'\r\nimport BookForm from '@/components/library/forms/BookForm'\r\nexport default {\r\n    components: {\r\n        BookForm\r\n    },\r\n    data () {\r\n        return {\r\n            busy: false,\r\n        }\r\n    },\r\n    mounted () {\r\n        this.$refs.form.focus()\r\n    },\r\n    methods: {\r\n        async registerBook (payload) {\r\n            this.busy = true\r\n            try {\r\n                let data = await libraryApi.storeBook(payload)\r\n                showSnackbar(data.message)\r\n                this.$router.push({ name: 'library.lending.book', params: { bookId: data.id }})\r\n            } catch (err) {\r\n                alert(err)\r\n                this.busy = false\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookRegisterPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookRegisterPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookRegisterPage.vue?vue&type=template&id=5937a2fc&\"\nimport script from \"./BookRegisterPage.vue?vue&type=script&lang=js&\"\nexport * from \"./BookRegisterPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"px-0\"},[_c('book-form',{ref:\"form\",attrs:{\"disabled\":_vm.busy},on:{\"submit\":_vm.registerBook}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-container\r\n        v-if=\"book\"\r\n        class=\"px-0\"\r\n    >\r\n        <book-form\r\n            :book=\"book\"\r\n            :disabled=\"busy\"\r\n            @submit=\"updateBook\"\r\n        >\r\n            <b-button\r\n                v-if=\"canDelete\"\r\n                variant=\"danger\"\r\n                type=\"button\"\r\n                :disabled=\"busy\"\r\n                @click=\"deleteBook\"\r\n            >\r\n                <font-awesome-icon icon=\"trash\" />\r\n                {{ $t('app.delete') }}\r\n            </b-button>\r\n        </book-form>\r\n    </b-container>\r\n    <p v-else>\r\n        {{ $t('app.loading') }}\r\n    </p>\r\n</template>\r\n\r\n<script>\r\nimport libraryApi from '@/api/library'\r\nimport { showSnackbar } from '@/utils'\r\nimport BookForm from '@/components/library/forms/BookForm'\r\nexport default {\r\n    components: {\r\n        BookForm\r\n    },\r\n    props: {\r\n        bookId: {\r\n            required: true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            book: null,\r\n            canDelete: false,\r\n            busy: false\r\n        }\r\n    },\r\n    created () {\r\n        this.loadBook()\r\n    },\r\n    methods: {\r\n        async loadBook () {\r\n            try {\r\n                let data = await libraryApi.findBook(this.bookId)\r\n                this.book = data.data\r\n                this.canDelete = data.meta.can_delete\r\n            } catch (err) {\r\n                alert(err)\r\n            }\r\n        },\r\n        async updateBook (payload) {\r\n            this.busy = true\r\n            try {\r\n                let data = await libraryApi.updateBook(this.bookId, payload)\r\n                showSnackbar(data.message)\r\n                this.$router.push({ name: 'library.lending.book', params: { bookId: this.bookId }})\r\n            } catch (err) {\r\n                alert(err)\r\n                this.busy = false\r\n            }\r\n        },\r\n        async deleteBook () {\r\n            if (confirm(this.$t('library.confirm_delete_book'))) {\r\n                this.busy = true\r\n                try {\r\n                    let data = await libraryApi.deleteBook(this.bookId)\r\n                    showSnackbar(data.message)\r\n                    this.$router.push({ name: 'library.books.index' })\r\n                } catch (err) {\r\n                    alert(err)\r\n                    this.busy = false\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookEditPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookEditPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookEditPage.vue?vue&type=template&id=06e9b3a9&\"\nimport script from \"./BookEditPage.vue?vue&type=script&lang=js&\"\nexport * from \"./BookEditPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.book)?_c('b-container',{staticClass:\"px-0\"},[_c('book-form',{attrs:{\"book\":_vm.book,\"disabled\":_vm.busy},on:{\"submit\":_vm.updateBook}},[(_vm.canDelete)?_c('b-button',{attrs:{\"variant\":\"danger\",\"type\":\"button\",\"disabled\":_vm.busy},on:{\"click\":_vm.deleteBook}},[_c('font-awesome-icon',{attrs:{\"icon\":\"trash\"}}),_vm._v(\"\\n            \"+_vm._s(_vm.$t('app.delete'))+\"\\n        \")],1):_vm._e()],1)],1):_c('p',[_vm._v(\"\\n    \"+_vm._s(_vm.$t('app.loading'))+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookLogTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookLogTable.vue?vue&type=script&lang=js&\"","<template>\r\n    <base-table\r\n        id=\"lendingLogTable\"\r\n        :fields=\"fields\"\r\n        :api-method=\"fetchBookLog\"\r\n        default-sort-by=\"lending_date\"\r\n        default-sort-desc\r\n        :empty-text=\"$t('library.not_lent_to_anyone_so_far')\"\r\n        no-filter\r\n        :items-per-page=\"25\"\r\n    >\r\n        <template v-slot:cell(person)=\"data\">\r\n            <b-link :to=\"{ name: 'library.lending.person', params: { personId: data.item.person.public_id }}\">\r\n                {{ data.item.person.full_name }}\r\n            </b-link>\r\n        </template>\r\n    </base-table>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport BaseTable from '@/components/table/BaseTable'\r\nimport libraryApi from '@/api/library'\r\nexport default {\r\n    components: {\r\n        BaseTable\r\n    },\r\n    props: {\r\n        bookId: {\r\n            required: true,\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            fields: [\r\n                {\r\n                    key: 'person',\r\n                    label: this.$t('people.person'),\r\n                },\r\n                {\r\n                    key: 'lending_date',\r\n                    label: this.$t('library.lent'),\r\n                    formatter: (value) => moment(value).format('LL')\r\n                },\r\n                {\r\n                    key: 'returned_date',\r\n                    label: this.$t('library.returned'),\r\n                    formatter: (value) => value ? moment(value).format('LL') : null\r\n                },\r\n            ]\r\n        }\r\n    },\r\n    methods: {\r\n        fetchBookLog () {\r\n            return libraryApi.fetchBookLog(this.bookId)\r\n        }\r\n    }\r\n}\r\n</script>\r\n","<template>\r\n    <div v-if=\"book\">\r\n\r\n        <!-- Heading -->\r\n        <h2 class=\"mb-3\">\r\n            {{ book.title }}\r\n            <small class=\"d-block d-sm-inline\">\r\n                {{ book.author }}\r\n            </small>\r\n        </h2>\r\n\r\n        <!-- Info -->\r\n        <p v-if=\"book.isbn\">\r\n            <strong>{{ $t('library.isbn') }}:</strong> {{ book.isbn }}\r\n        </p>\r\n        <p v-if=\"book.language\">\r\n            <strong>{{ $t('app.language') }}:</strong> {{ book.language }}\r\n        </p>\r\n\r\n        <b-tabs content-class=\"mt-3\">\r\n\r\n            <!-- Lendings -->\r\n            <b-tab :title=\"$t('library.lendings')\" active>\r\n\r\n                <template v-if=\"lending\">\r\n                    <b-alert\r\n                        v-if=\"isOverdue\"\r\n                        variant=\"danger\"\r\n                        show\r\n                    >\r\n                        {{ $t('library.book_is_overdue') }}\r\n                    </b-alert>\r\n                    <b-alert\r\n                        v-else-if=\"isSoonOverdue\"\r\n                        variant=\"warning\"\r\n                        show\r\n                    >\r\n                        {{ $t('library.book_is_overdue_soon') }}\r\n                    </b-alert>\r\n\r\n                    <!-- Person info -->\r\n                    <b-alert\r\n                        variant=\"info\"\r\n                        show\r\n                        v-html=\"lentToPersonMessage\"\r\n                    >\r\n                    </b-alert>\r\n\r\n                    <p>\r\n                        <b-button\r\n                            :to=\"{ name: 'library.lending.person', params: { personId: lending.person.public_id }}\"\r\n                            variant=\"primary\"\r\n                        >\r\n                            <font-awesome-icon icon=\"user\" />\r\n                            {{ $t('library.borrower') }}\r\n                        </b-button>\r\n\r\n                        <!-- Return book -->\r\n                        <b-button\r\n                            variant=\"success\"\r\n                            :disabled=\"busy\"\r\n                            @click=\"returnBook\"\r\n                        >\r\n                            <font-awesome-icon icon=\"inbox\" />\r\n                            {{ $t('library.return') }}\r\n                        </b-button>\r\n\r\n                        <!-- Extend lending -->\r\n                        <b-button\r\n                            variant=\"primary\"\r\n                            :disabled=\"busy\"\r\n                            @click=\"extendLending\"\r\n                        >\r\n                            <font-awesome-icon icon=\"calendar-plus\" />\r\n                            {{ $t('library.extend') }}\r\n                        </b-button>\r\n                    </p>\r\n                </template>\r\n                <template v-else>\r\n                    <b-alert variant=\"success\">\r\n                        {{ $t('library.book_is_available') }}\r\n                    </b-alert>\r\n\r\n                    <!-- Lend modal button -->\r\n                    <p>\r\n                        <b-button\r\n                            variant=\"primary\"\r\n                            :disabled=\"busy\"\r\n                            v-b-modal.lendBookModal\r\n                        >\r\n                            <font-awesome-icon icon=\"plus-circle\" />\r\n                            {{ $t('library.lend_book') }}\r\n                        </b-button>\r\n                    </p>\r\n\r\n                    <!-- Lend book modal -->\r\n                    <b-modal\r\n                        id=\"lendBookModal\"\r\n                        :title=\"$t('library.lend_book')\"\r\n                        @ok=\"lendBook\"\r\n                        @hidden=\"selectedPersonId = null\"\r\n                    >\r\n                        <person-autocomplete-input\r\n                            @select=\"selectedPersonId = $event\"\r\n                        />\r\n                        <template v-slot:modal-footer=\"{ ok }\">\r\n\r\n                            <!-- Lend book button -->\r\n                            <b-button\r\n                                variant=\"primary\"\r\n                                :disabled=\"!selectedPersonId || busy\"\r\n                                @click=\"ok()\"\r\n                            >\r\n                                <font-awesome-icon icon=\"check\" />\r\n                                {{ $t('library.lend_book') }}\r\n                            </b-button>\r\n\r\n                        </template>\r\n                    </b-modal>\r\n\r\n                </template>\r\n\r\n            </b-tab>\r\n\r\n            <!-- Logs -->\r\n            <b-tab :title=\"$t('app.log')\" lazy>\r\n                <book-log-table\r\n                    :book-id=\"bookId\"\r\n                />\r\n            </b-tab>\r\n\r\n        </b-tabs>\r\n\r\n    </div>\r\n    <p v-else>\r\n        {{ $t('app.loading') }}\r\n    </p>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport { showSnackbar } from '@/utils'\r\nimport libraryApi from '@/api/library'\r\nimport PersonAutocompleteInput from '@/components/people/PersonAutocompleteInput'\r\nimport BookLogTable from '@/components/library/BookLogTable'\r\nexport default {\r\n    components: {\r\n        PersonAutocompleteInput,\r\n        BookLogTable\r\n    },\r\n    props: {\r\n        bookId: {\r\n            required: true\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            book: null,\r\n            lending: null,\r\n            defaultExtendDuration: 0,\r\n            busy: false,\r\n            selectedPersonId: null\r\n        }\r\n    },\r\n    computed: {\r\n        isOverdue () {\r\n            return moment(this.lending.return_date).isBefore(moment(), 'day')\r\n        },\r\n        isSoonOverdue () {\r\n            return moment(this.lending.return_date).isSame(moment(), 'day')\r\n        },\r\n        lentToPersonMessage () {\r\n            if (this.lending.person) {\r\n                return this.$t('library.book_is_lent_to_person_until', {\r\n                    person: this.lending.person.full_name,\r\n                    until: moment(this.lending.return_date).format(\"LL\")\r\n                })\r\n            }\r\n            // TODO\r\n            // @php\r\n            //     $thrashedPerson = $lending->person()->withTrashed()->first();\r\n            // @endphp\r\n            // @isset($thrashedPerson)\r\n            //     @lang('library.book_is_lent_to_soft_deleted_person_until', [ 'person' => $thrashedPerson->fullName, 'until' => $lending->return_date->toDateString() ])\r\n            // @else -->\r\n            return this.$t('library.book_is_lent_to_deleted_person_until', {\r\n                until: moment(this.lending.return_date).format(\"LL\")\r\n            })\r\n        }\r\n    },\r\n    created () {\r\n        this.loadBook()\r\n        this.loadLending()\r\n    },\r\n    methods: {\r\n        moment,\r\n        async loadBook () {\r\n            try {\r\n                let data = await libraryApi.findBook(this.bookId)\r\n                this.book = data.data\r\n            } catch (err) {\r\n                alert(err)\r\n            }\r\n        },\r\n        async loadLending () {\r\n            this.busy = true\r\n            try {\r\n                let data = await libraryApi.findLendingOfBook(this.bookId)\r\n                if (data.data) {\r\n                    this.lending = data.data\r\n                    this.defaultExtendDuration = data.meta.default_extend_duration\r\n                } else {\r\n                    this.lending = null\r\n                }\r\n            } catch (err) {\r\n                alert(err)\r\n            }\r\n            this.busy = false\r\n        },\r\n        async extendLending () {\r\n            var days = prompt(`${this.$t('app.number_of_days')}:`, this.defaultExtendDuration)\r\n            if (days != null && days > 0) {\r\n                this.busy = true\r\n                try {\r\n                    let data = await libraryApi.extendLending(this.bookId, days)\r\n                    showSnackbar(data.message)\r\n                    this.loadLending()\r\n                } catch (err) {\r\n                    alert(err)\r\n                }\r\n                this.busy = false\r\n            }\r\n        },\r\n        async returnBook () {\r\n            this.busy = true\r\n            try {\r\n                let data = await libraryApi.returnBook(this.bookId)\r\n                showSnackbar(data.message)\r\n                this.loadLending()\r\n            } catch (err) {\r\n                alert(err)\r\n            }\r\n            this.busy = false\r\n        },\r\n        async lendBook (bvModalEvt) {\r\n            bvModalEvt.preventDefault()\r\n            if (this.selectedPersonId) {\r\n                this.busy = true\r\n                try {\r\n                    let data = await libraryApi.lendBook(this.bookId, this.selectedPersonId)\r\n                    showSnackbar(data.message)\r\n                    this.loadLending()\r\n                    this.$nextTick(() => {\r\n                        this.$bvModal.hide('lendBookModal')\r\n                    })\r\n                } catch (err) {\r\n                    alert(err)\r\n                }\r\n                this.busy = false\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendingBookPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LendingBookPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookLogTable.vue?vue&type=template&id=d137f59e&\"\nimport script from \"./BookLogTable.vue?vue&type=script&lang=js&\"\nexport * from \"./BookLogTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-table',{attrs:{\"id\":\"lendingLogTable\",\"fields\":_vm.fields,\"api-method\":_vm.fetchBookLog,\"default-sort-by\":\"lending_date\",\"default-sort-desc\":\"\",\"empty-text\":_vm.$t('library.not_lent_to_anyone_so_far'),\"no-filter\":\"\",\"items-per-page\":25},scopedSlots:_vm._u([{key:\"cell(person)\",fn:function(data){return [_c('b-link',{attrs:{\"to\":{ name: 'library.lending.person', params: { personId: data.item.person.public_id }}}},[_vm._v(\"\\n            \"+_vm._s(data.item.person.full_name)+\"\\n        \")])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./LendingBookPage.vue?vue&type=template&id=4eee8150&\"\nimport script from \"./LendingBookPage.vue?vue&type=script&lang=js&\"\nexport * from \"./LendingBookPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.book)?_c('div',[_c('h2',{staticClass:\"mb-3\"},[_vm._v(\"\\n        \"+_vm._s(_vm.book.title)+\"\\n        \"),_c('small',{staticClass:\"d-block d-sm-inline\"},[_vm._v(\"\\n            \"+_vm._s(_vm.book.author)+\"\\n        \")])]),_vm._v(\" \"),(_vm.book.isbn)?_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('library.isbn'))+\":\")]),_vm._v(\" \"+_vm._s(_vm.book.isbn)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.book.language)?_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('app.language'))+\":\")]),_vm._v(\" \"+_vm._s(_vm.book.language)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_c('b-tabs',{attrs:{\"content-class\":\"mt-3\"}},[_c('b-tab',{attrs:{\"title\":_vm.$t('library.lendings'),\"active\":\"\"}},[(_vm.lending)?[(_vm.isOverdue)?_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(_vm.$t('library.book_is_overdue'))+\"\\n                \")]):(_vm.isSoonOverdue)?_c('b-alert',{attrs:{\"variant\":\"warning\",\"show\":\"\"}},[_vm._v(\"\\n                    \"+_vm._s(_vm.$t('library.book_is_overdue_soon'))+\"\\n                \")]):_vm._e(),_vm._v(\" \"),_c('b-alert',{attrs:{\"variant\":\"info\",\"show\":\"\"},domProps:{\"innerHTML\":_vm._s(_vm.lentToPersonMessage)}}),_vm._v(\" \"),_c('p',[_c('b-button',{attrs:{\"to\":{ name: 'library.lending.person', params: { personId: _vm.lending.person.public_id }},\"variant\":\"primary\"}},[_c('font-awesome-icon',{attrs:{\"icon\":\"user\"}}),_vm._v(\"\\n                        \"+_vm._s(_vm.$t('library.borrower'))+\"\\n                    \")],1),_vm._v(\" \"),_c('b-button',{attrs:{\"variant\":\"success\",\"disabled\":_vm.busy},on:{\"click\":_vm.returnBook}},[_c('font-awesome-icon',{attrs:{\"icon\":\"inbox\"}}),_vm._v(\"\\n                        \"+_vm._s(_vm.$t('library.return'))+\"\\n                    \")],1),_vm._v(\" \"),_c('b-button',{attrs:{\"variant\":\"primary\",\"disabled\":_vm.busy},on:{\"click\":_vm.extendLending}},[_c('font-awesome-icon',{attrs:{\"icon\":\"calendar-plus\"}}),_vm._v(\"\\n                        \"+_vm._s(_vm.$t('library.extend'))+\"\\n                    \")],1)],1)]:[_c('b-alert',{attrs:{\"variant\":\"success\"}},[_vm._v(\"\\n                    \"+_vm._s(_vm.$t('library.book_is_available'))+\"\\n                \")]),_vm._v(\" \"),_c('p',[_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.lendBookModal\",modifiers:{\"lendBookModal\":true}}],attrs:{\"variant\":\"primary\",\"disabled\":_vm.busy}},[_c('font-awesome-icon',{attrs:{\"icon\":\"plus-circle\"}}),_vm._v(\"\\n                        \"+_vm._s(_vm.$t('library.lend_book'))+\"\\n                    \")],1)],1),_vm._v(\" \"),_c('b-modal',{attrs:{\"id\":\"lendBookModal\",\"title\":_vm.$t('library.lend_book')},on:{\"ok\":_vm.lendBook,\"hidden\":function($event){_vm.selectedPersonId = null}},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar ok = ref.ok;\nreturn [_c('b-button',{attrs:{\"variant\":\"primary\",\"disabled\":!_vm.selectedPersonId || _vm.busy},on:{\"click\":function($event){return ok()}}},[_c('font-awesome-icon',{attrs:{\"icon\":\"check\"}}),_vm._v(\"\\n                            \"+_vm._s(_vm.$t('library.lend_book'))+\"\\n                        \")],1)]}}],null,false,2627905039)},[_c('person-autocomplete-input',{on:{\"select\":function($event){_vm.selectedPersonId = $event}}})],1)]],2),_vm._v(\" \"),_c('b-tab',{attrs:{\"title\":_vm.$t('app.log'),\"lazy\":\"\"}},[_c('book-log-table',{attrs:{\"book-id\":_vm.bookId}})],1)],1)],1):_c('p',[_vm._v(\"\\n    \"+_vm._s(_vm.$t('app.loading'))+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-form\r\n        v-if=\"loaded\"\r\n        @submit.stop.prevent=\"onSubmit\"\r\n    >\r\n\r\n        <!-- File format -->\r\n        <b-form-group\r\n            :label=\"$t('app.file_format')\"\r\n        >\r\n            <b-form-radio-group\r\n                v-model=\"form.format\"\r\n                :options=\"formats\"\r\n                stacked\r\n            />\r\n        </b-form-group>\r\n\r\n        <!-- Selection -->\r\n        <b-form-group\r\n            :label=\"$t('app.selection')\"\r\n        >\r\n            <b-form-radio-group\r\n                v-model=\"form.selection\"\r\n                :options=\"selections\"\r\n                stacked\r\n            />\r\n        </b-form-group>\r\n\r\n        <p>\r\n            <b-button\r\n                type=\"submit\"\r\n                variant=\"primary\"\r\n                :disabled=\"isBusy\"\r\n            >\r\n                <font-awesome-icon icon=\"download\" />\r\n                {{ $t('app.export') }}\r\n            </b-button>\r\n        </p>\r\n    </b-form>\r\n    <p v-else>\r\n        {{ $t('app.loading') }}\r\n    </p>\r\n</template>\r\n\r\n<script>\r\nimport libraryApi from '@/api/library'\r\nimport { postRequest } from '@/utils/form'\r\nexport default {\r\n    data () {\r\n        return {\r\n            loaded: false,\r\n            form: {\r\n                format: null,\r\n                selection: null\r\n            },\r\n            isBusy: false,\r\n            formats: null,\r\n            selections: null,\r\n        }\r\n    },\r\n    async created () {\r\n        try {\r\n            let data = await libraryApi.fetchExportData()\r\n            this.form.format = data.format\r\n            this.form.selection = data.selection\r\n            this.formats = Object.entries(data.formats).map(e => ({\r\n                value: e[0],\r\n                text: e[1]\r\n            }))\r\n            this.selections = Object.entries(data.selections).map(e => ({\r\n                value: e[0],\r\n                text: e[1]\r\n            }))\r\n            this.loaded = true\r\n        } catch (err) {\r\n            alert(err)\r\n        }\r\n    },\r\n    methods: {\r\n        async onSubmit () {\r\n            this.isBusy = true\r\n            try {\r\n                postRequest(this.route('api.library.doExport'), this.form)\r\n            } catch (err) {\r\n                alert(err)\r\n            }\r\n            this.isBusy = false\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExportPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExportPage.vue?vue&type=template&id=42b3a872&\"\nimport script from \"./ExportPage.vue?vue&type=script&lang=js&\"\nexport * from \"./ExportPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loaded)?_c('b-form',{on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onSubmit($event)}}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('app.file_format')}},[_c('b-form-radio-group',{attrs:{\"options\":_vm.formats,\"stacked\":\"\"},model:{value:(_vm.form.format),callback:function ($$v) {_vm.$set(_vm.form, \"format\", $$v)},expression:\"form.format\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"label\":_vm.$t('app.selection')}},[_c('b-form-radio-group',{attrs:{\"options\":_vm.selections,\"stacked\":\"\"},model:{value:(_vm.form.selection),callback:function ($$v) {_vm.$set(_vm.form, \"selection\", $$v)},expression:\"form.selection\"}})],1),_vm._v(\" \"),_c('p',[_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\",\"disabled\":_vm.isBusy}},[_c('font-awesome-icon',{attrs:{\"icon\":\"download\"}}),_vm._v(\"\\n            \"+_vm._s(_vm.$t('app.export'))+\"\\n        \")],1)],1)],1):_c('p',[_vm._v(\"\\n    \"+_vm._s(_vm.$t('app.loading'))+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <b-row v-if=\"loaded\">\r\n        <b-col md>\r\n\r\n            <h2>\r\n                {{ $t('library.borrowers') }}\r\n                <small>{{ borrwer_count }}</small>\r\n            </h2>\r\n\r\n            <template v-if=\"borrwer_count > 0\">\r\n\r\n                <p>\r\n                    <strong>{{ $t('library.currently_borrowing') }}:</strong>\r\n                    {{ borrowers_currently_borrowed_count }}\r\n                    <template v-if=\"borrowers_currently_borrowed_count > 0\">\r\n                        <strong>{{ $t('library.have_overdue_books') }}:</strong>\r\n                        {{ borrowers_currently_overdue_count }}\r\n                        ({{ roundWithDecimals(borrowers_currently_overdue_count / borrowers_currently_borrowed_count * 100, 1) }} %)\r\n                    </template>\r\n                </p>\r\n\r\n                <!-- Popular -->\r\n                <h3>{{ $t('app.regulars') }}</h3>\r\n                <b-table-simple small bordered striped hover responsive>\r\n                    <b-thead>\r\n                        <b-tr>\r\n                            <b-th>{{ $t('app.title') }}</b-th>\r\n                            <b-th>{{ $t('people.age') }}</b-th>\r\n                            <b-th>{{ $t('people.nationality') }}</b-th>\r\n                            <b-th class=\"text-center\">{{ $t('people.gender') }}</b-th>\r\n                            <b-th class=\"text-right\"># {{ $t('library.lendings') }}</b-th>\r\n                        </b-tr>\r\n                    </b-thead>\r\n                    <b-tbody>\r\n                        <b-tr v-for=\"(borrower, idx) in borrwer_lendings_top\" :key=\"idx\">\r\n                            <b-td>\r\n                                {{ borrower.collapsed_name }}\r\n                            </b-td>\r\n                            <b-td>{{ borrower.age }}</b-td>\r\n                            <b-td>{{ borrower.nationality }}</b-td>\r\n                            <b-td class=\"text-center\">\r\n                                    <gender-label\r\n                                        :value=\"borrower.gender\"\r\n                                        icon-only\r\n                                    />\r\n                            </b-td>\r\n                            <b-td class=\"text-right\">\r\n                                {{ borrower.quantity }}\r\n                            </b-td>\r\n                        </b-tr>\r\n                    </b-tbody>\r\n                </b-table-simple>\r\n\r\n                <!-- Nationalities -->\r\n                <h3>{{ $t('people.nationalities') }}</h3>\r\n                <b-table-simple small bordered striped hover responsive>\r\n                    <b-thead>\r\n                        <b-tr>\r\n                            <b-th>{{ $t('app.country') }}</b-th>\r\n                            <b-th class=\"text-right\">{{ $t('app.quantity') }}</b-th>\r\n                            <b-th class=\"text-right\">{{ $t('app.percentage') }}</b-th>\r\n                        </b-tr>\r\n                    </b-thead>\r\n                    <b-tbody>\r\n                        <b-tr v-for=\"nationality in borrwer_nationalities\" :key=\"nationality.nationality\">\r\n                            <b-td>{{ nationality.nationality ? nationality.nationality : $t('app.unspecified') }}</b-td>\r\n                            <b-td class=\"text-right\">{{ nationality.quantity }}</b-td>\r\n                            <b-td class=\"text-right\">{{ roundWithDecimals(nationality.quantity / borrwer_count * 100, 1) }} %</b-td>\r\n                        </b-tr>\r\n                    </b-tbody>\r\n                </b-table-simple>\r\n\r\n                <!-- Genders -->\r\n                <h3>{{ $t('people.gender') }}</h3>\r\n                <b-table-simple small bordered striped hover responsive>\r\n                    <b-thead>\r\n                        <b-tr>\r\n                            <b-th>{{ $t('people.gender') }}</b-th>\r\n                            <b-th class=\"text-right\">{{ $t('app.quantity') }}</b-th>\r\n                            <b-th class=\"text-right\">{{ $t('app.percentage') }}</b-th>\r\n                        </b-tr>\r\n                    </b-thead>\r\n                    <b-tbody>\r\n                        <b-tr v-for=\"gender in borrwer_genders\" :key=\"gender.gender\">\r\n                            <b-td>\r\n                                <gender-label\r\n                                    :value=\"gender.gender\"\r\n                                    icon-only\r\n                                />\r\n                            </b-td>\r\n                            <b-td class=\"text-right\">{{ gender.quantity }}</b-td>\r\n                            <b-td class=\"text-right\">{{ roundWithDecimals(gender.quantity / borrwer_count * 100, 1) }} %</b-td>\r\n                        </b-tr>\r\n                    </b-tbody>\r\n                </b-table-simple>\r\n\r\n            </template>\r\n\r\n        </b-col>\r\n        <b-col md>\r\n\r\n            <h2>\r\n                {{ $t('library.books') }}\r\n                <small>{{ book_count }}</small>\r\n            </h2>\r\n\r\n            <p>\r\n                <strong>{{ $t('library.currently_borrowed') }}:</strong> {{ books_currently_borrowed_count }}\r\n                <template v-if=\"books_currently_borrowed_count > 0\">\r\n                    <strong>{{ $t('library.overdue') }}:</strong>\r\n                    {{ books_currently_overdue_count }}\r\n                    ({{ roundWithDecimals(books_currently_overdue_count / books_currently_borrowed_count * 100, 1) }} %)\r\n                </template>\r\n                <br>\r\n                <strong>{{ $t('library.books_lent') }}:</strong>\r\n                {{ book_lendings_unique_count }} ({{ $t('library.percentage_of_all_books', {\r\n                    percentage: roundWithDecimals(book_lendings_unique_count / book_count * 100, 1)\r\n                }) }})<br>\r\n                <strong>{{ $t('library.number_of_times_book_lent') }}:</strong>\r\n                {{ book_lendings_all_count }}\r\n            </p>\r\n\r\n            <!-- Popular -->\r\n            <template v-if=\"book_lendings_top.length > 0\">\r\n                <h3>{{ $t('app.popular') }}</h3>\r\n                <b-table-simple small bordered striped hover responsive>\r\n                    <b-thead>\r\n                        <b-tr>\r\n                            <b-th>{{ $t('app.title') }}</b-th>\r\n                            <b-th>{{ $t('library.author') }}</b-th>\r\n                            <b-th>{{ $t('app.language') }}</b-th>\r\n                            <b-th class=\"text-right\"># {{ $t('library.lendings') }}</b-th>\r\n                        </b-tr>\r\n                    </b-thead>\r\n                    <b-tbody>\r\n                        <b-tr v-for=\"(book, idx) in book_lendings_top\" :key=\"idx\">\r\n                            <b-td v-html=\"truncate(book.title, 40)\"></b-td>\r\n                            <b-td v-html=\"truncate(book.author, 40)\"></b-td>\r\n                            <b-td>{{ book.language }}</b-td>\r\n                            <b-td class=\"text-right\">{{ book.quantity }}</b-td>\r\n                        </b-tr>\r\n                    </b-tbody>\r\n                </b-table-simple>\r\n            </template>\r\n\r\n            <!-- Languages -->\r\n            <template v-if=\"book_count > 0\">\r\n                <h3>{{ $t('app.languages') }}</h3>\r\n                <p v-if=\"book_languages_undefined_count > 0\">\r\n                    <em>{{ $t('library.books_without_language_specified', {\r\n                        count: book_languages_undefined_count,\r\n                        percentage: roundWithDecimals(book_languages_undefined_count / book_count * 100, 1)\r\n                    }) }}</em>\r\n                </p>\r\n                <b-table-simple small bordered striped hover responsive>\r\n                    <b-thead>\r\n                        <b-tr>\r\n                            <b-th>{{ $t('app.language') }}</b-th>\r\n                            <b-th class=\"text-right\">{{ $t('app.quantity') }}</b-th>\r\n                            <b-th class=\"text-right\">{{ $t('app.percentage') }}</b-th>\r\n                        </b-tr>\r\n                    </b-thead>\r\n                    <b-tbody>\r\n                        <b-tr v-for=\"language in book_languages_defined\" :key=\"language.language\">\r\n                            <b-td>{{ language.language ? language.language : $t('app.unspecified') }}</b-td>\r\n                            <b-td class=\"text-right\">{{ language.quantity }}</b-td>\r\n                            <b-td class=\"text-right\">{{ roundWithDecimals(language.quantity / (book_count - book_languages_undefined_count) * 100, 1) }} %</b-td>\r\n                        </b-tr>\r\n                    </b-tbody>\r\n                </b-table-simple>\r\n\r\n            </template>\r\n\r\n        </b-col>\r\n    </b-row>\r\n    <p v-else>\r\n        {{ $t('app.loading') }}\r\n    </p>\r\n</template>\r\n\r\n<script>\r\nimport libraryApi from '@/api/library'\r\nimport { roundWithDecimals } from '@/utils'\r\nimport GenderLabel from '@/components/people/GenderLabel'\r\nexport default {\r\n    components: {\r\n        GenderLabel\r\n    },\r\n    data () {\r\n        return {\r\n            loaded: false,\r\n            borrwer_count: null,\r\n            borrowers_currently_borrowed_count: null,\r\n            borrowers_currently_overdue_count: null,\r\n            borrwer_lendings_top: null,\r\n            borrwer_nationalities: null,\r\n            borrwer_genders: null,\r\n            book_count: null,\r\n            books_currently_borrowed_count: null,\r\n            books_currently_overdue_count: null,\r\n            book_lendings_unique_count: null,\r\n            book_lendings_all_count: null,\r\n            book_lendings_top: null,\r\n            book_languages: null\r\n        }\r\n    },\r\n    computed: {\r\n        book_languages_defined () {\r\n            return this.book_languages.filter(l => l.language_code != null)\r\n        },\r\n        book_languages_undefined_count () {\r\n            return this.book_languages.filter(l => l.language_code == null).reduce((a, b) => a + b.quantity, 0)\r\n        }\r\n    },\r\n    created () {\r\n        this.loadData()\r\n    },\r\n    methods: {\r\n        async loadData () {\r\n            try {\r\n                let data = await libraryApi.fetchReportData()\r\n                this.borrwer_count = data.borrwer_count\r\n                this.borrowers_currently_borrowed_count = data.borrowers_currently_borrowed_count\r\n                this.borrowers_currently_overdue_count = data.borrowers_currently_overdue_count\r\n                this.borrwer_lendings_top = data.borrwer_lendings_top\r\n                this.borrwer_nationalities = data.borrwer_nationalities\r\n                this.borrwer_genders = data.borrwer_genders\r\n                this.book_count = data.book_count\r\n                this.books_currently_borrowed_count = data.books_currently_borrowed_count\r\n                this.books_currently_overdue_count = data.books_currently_overdue_count\r\n                this.book_lendings_unique_count = data.book_lendings_unique_count\r\n                this.book_lendings_all_count = data.book_lendings_all_count\r\n                this.book_lendings_top = data.book_lendings_top\r\n                this.book_languages = data.book_languages\r\n                this.loaded = true\r\n            } catch (err) {\r\n                alert(err)\r\n            }\r\n        },\r\n        roundWithDecimals,\r\n        truncate (str, n) {\r\n            if (str == null) return null\r\n            return (str.length > n) ? str.substr(0, n-1) + '&hellip;' : str;\r\n        }\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportPage.vue?vue&type=template&id=4f740e1b&\"\nimport script from \"./ReportPage.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loaded)?_c('b-row',[_c('b-col',{attrs:{\"md\":\"\"}},[_c('h2',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('library.borrowers'))+\"\\n            \"),_c('small',[_vm._v(_vm._s(_vm.borrwer_count))])]),_vm._v(\" \"),(_vm.borrwer_count > 0)?[_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('library.currently_borrowing'))+\":\")]),_vm._v(\"\\n                \"+_vm._s(_vm.borrowers_currently_borrowed_count)+\"\\n                \"),(_vm.borrowers_currently_borrowed_count > 0)?[_c('strong',[_vm._v(_vm._s(_vm.$t('library.have_overdue_books'))+\":\")]),_vm._v(\"\\n                    \"+_vm._s(_vm.borrowers_currently_overdue_count)+\"\\n                    (\"+_vm._s(_vm.roundWithDecimals(_vm.borrowers_currently_overdue_count / _vm.borrowers_currently_borrowed_count * 100, 1))+\" %)\\n                \")]:_vm._e()],2),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.$t('app.regulars')))]),_vm._v(\" \"),_c('b-table-simple',{attrs:{\"small\":\"\",\"bordered\":\"\",\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\"}},[_c('b-thead',[_c('b-tr',[_c('b-th',[_vm._v(_vm._s(_vm.$t('app.title')))]),_vm._v(\" \"),_c('b-th',[_vm._v(_vm._s(_vm.$t('people.age')))]),_vm._v(\" \"),_c('b-th',[_vm._v(_vm._s(_vm.$t('people.nationality')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.$t('people.gender')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(\"# \"+_vm._s(_vm.$t('library.lendings')))])],1)],1),_vm._v(\" \"),_c('b-tbody',_vm._l((_vm.borrwer_lendings_top),function(borrower,idx){return _c('b-tr',{key:idx},[_c('b-td',[_vm._v(\"\\n                            \"+_vm._s(borrower.collapsed_name)+\"\\n                        \")]),_vm._v(\" \"),_c('b-td',[_vm._v(_vm._s(borrower.age))]),_vm._v(\" \"),_c('b-td',[_vm._v(_vm._s(borrower.nationality))]),_vm._v(\" \"),_c('b-td',{staticClass:\"text-center\"},[_c('gender-label',{attrs:{\"value\":borrower.gender,\"icon-only\":\"\"}})],1),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(\"\\n                            \"+_vm._s(borrower.quantity)+\"\\n                        \")])],1)}),1)],1),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.$t('people.nationalities')))]),_vm._v(\" \"),_c('b-table-simple',{attrs:{\"small\":\"\",\"bordered\":\"\",\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\"}},[_c('b-thead',[_c('b-tr',[_c('b-th',[_vm._v(_vm._s(_vm.$t('app.country')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t('app.quantity')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t('app.percentage')))])],1)],1),_vm._v(\" \"),_c('b-tbody',_vm._l((_vm.borrwer_nationalities),function(nationality){return _c('b-tr',{key:nationality.nationality},[_c('b-td',[_vm._v(_vm._s(nationality.nationality ? nationality.nationality : _vm.$t('app.unspecified')))]),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(_vm._s(nationality.quantity))]),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.roundWithDecimals(nationality.quantity / _vm.borrwer_count * 100, 1))+\" %\")])],1)}),1)],1),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.$t('people.gender')))]),_vm._v(\" \"),_c('b-table-simple',{attrs:{\"small\":\"\",\"bordered\":\"\",\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\"}},[_c('b-thead',[_c('b-tr',[_c('b-th',[_vm._v(_vm._s(_vm.$t('people.gender')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t('app.quantity')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t('app.percentage')))])],1)],1),_vm._v(\" \"),_c('b-tbody',_vm._l((_vm.borrwer_genders),function(gender){return _c('b-tr',{key:gender.gender},[_c('b-td',[_c('gender-label',{attrs:{\"value\":gender.gender,\"icon-only\":\"\"}})],1),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(_vm._s(gender.quantity))]),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.roundWithDecimals(gender.quantity / _vm.borrwer_count * 100, 1))+\" %\")])],1)}),1)],1)]:_vm._e()],2),_vm._v(\" \"),_c('b-col',{attrs:{\"md\":\"\"}},[_c('h2',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('library.books'))+\"\\n            \"),_c('small',[_vm._v(_vm._s(_vm.book_count))])]),_vm._v(\" \"),_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('library.currently_borrowed'))+\":\")]),_vm._v(\" \"+_vm._s(_vm.books_currently_borrowed_count)+\"\\n            \"),(_vm.books_currently_borrowed_count > 0)?[_c('strong',[_vm._v(_vm._s(_vm.$t('library.overdue'))+\":\")]),_vm._v(\"\\n                \"+_vm._s(_vm.books_currently_overdue_count)+\"\\n                (\"+_vm._s(_vm.roundWithDecimals(_vm.books_currently_overdue_count / _vm.books_currently_borrowed_count * 100, 1))+\" %)\\n            \")]:_vm._e(),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm.$t('library.books_lent'))+\":\")]),_vm._v(\"\\n            \"+_vm._s(_vm.book_lendings_unique_count)+\" (\"+_vm._s(_vm.$t('library.percentage_of_all_books', {\n                percentage: _vm.roundWithDecimals(_vm.book_lendings_unique_count / _vm.book_count * 100, 1)\n            }))+\")\"),_c('br'),_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm.$t('library.number_of_times_book_lent'))+\":\")]),_vm._v(\"\\n            \"+_vm._s(_vm.book_lendings_all_count)+\"\\n        \")],2),_vm._v(\" \"),(_vm.book_lendings_top.length > 0)?[_c('h3',[_vm._v(_vm._s(_vm.$t('app.popular')))]),_vm._v(\" \"),_c('b-table-simple',{attrs:{\"small\":\"\",\"bordered\":\"\",\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\"}},[_c('b-thead',[_c('b-tr',[_c('b-th',[_vm._v(_vm._s(_vm.$t('app.title')))]),_vm._v(\" \"),_c('b-th',[_vm._v(_vm._s(_vm.$t('library.author')))]),_vm._v(\" \"),_c('b-th',[_vm._v(_vm._s(_vm.$t('app.language')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(\"# \"+_vm._s(_vm.$t('library.lendings')))])],1)],1),_vm._v(\" \"),_c('b-tbody',_vm._l((_vm.book_lendings_top),function(book,idx){return _c('b-tr',{key:idx},[_c('b-td',{domProps:{\"innerHTML\":_vm._s(_vm.truncate(book.title, 40))}}),_vm._v(\" \"),_c('b-td',{domProps:{\"innerHTML\":_vm._s(_vm.truncate(book.author, 40))}}),_vm._v(\" \"),_c('b-td',[_vm._v(_vm._s(book.language))]),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(_vm._s(book.quantity))])],1)}),1)],1)]:_vm._e(),_vm._v(\" \"),(_vm.book_count > 0)?[_c('h3',[_vm._v(_vm._s(_vm.$t('app.languages')))]),_vm._v(\" \"),(_vm.book_languages_undefined_count > 0)?_c('p',[_c('em',[_vm._v(_vm._s(_vm.$t('library.books_without_language_specified', {\n                    count: _vm.book_languages_undefined_count,\n                    percentage: _vm.roundWithDecimals(_vm.book_languages_undefined_count / _vm.book_count * 100, 1)\n                })))])]):_vm._e(),_vm._v(\" \"),_c('b-table-simple',{attrs:{\"small\":\"\",\"bordered\":\"\",\"striped\":\"\",\"hover\":\"\",\"responsive\":\"\"}},[_c('b-thead',[_c('b-tr',[_c('b-th',[_vm._v(_vm._s(_vm.$t('app.language')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t('app.quantity')))]),_vm._v(\" \"),_c('b-th',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.$t('app.percentage')))])],1)],1),_vm._v(\" \"),_c('b-tbody',_vm._l((_vm.book_languages_defined),function(language){return _c('b-tr',{key:language.language},[_c('b-td',[_vm._v(_vm._s(language.language ? language.language : _vm.$t('app.unspecified')))]),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(_vm._s(language.quantity))]),_vm._v(\" \"),_c('b-td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm.roundWithDecimals(language.quantity / (_vm.book_count - _vm.book_languages_undefined_count) * 100, 1))+\" %\")])],1)}),1)],1)]:_vm._e()],2)],1):_c('p',[_vm._v(\"\\n    \"+_vm._s(_vm.$t('app.loading'))+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\r\n\r\nimport VueRouter from 'vue-router'\r\nVue.use(VueRouter)\r\n\r\nimport i18n from '@/plugins/i18n'\r\nimport ziggyRoute from '@/plugins/ziggy'\r\n\r\nimport PageHeader from '@/components/ui/PageHeader'\r\nimport NotFoundPage from '@/pages/NotFoundPage'\r\n\r\nimport { can } from '@/plugins/laravel'\r\n\r\nimport LendingPage from '@/pages/library/LendingPage'\r\nimport LendigSearch from '@/components/library/LendigSearch'\r\nimport BorrowersTable from '@/components/library/BorrowersTable'\r\nimport LentBooksTable from '@/components/library/LentBooksTable'\r\nimport LendingPersonPage from '@/pages/library/LendingPersonPage'\r\nimport BooksPage from '@/pages/library/BooksPage'\r\nimport BookRegisterPage from '@/pages/library/BookRegisterPage'\r\nimport BookEditPage from '@/pages/library/BookEditPage'\r\nimport LendingBookPage from '@/pages/library/LendingBookPage'\r\nimport ExportPage from '@/pages/library/ExportPage'\r\nimport ReportPage from '@/pages/library/ReportPage'\r\n\r\nconst router = new VueRouter({\r\n    mode: 'history',\r\n    base: '/library/',\r\n})\r\nrouter.addRoutes([\r\n    {\r\n        path: '/',\r\n        redirect: { name: 'library.lending.index' }\r\n    },\r\n    {\r\n        // Lending overview\r\n        path: '/lending',\r\n        components: {\r\n            default: LendingPage,\r\n            header: PageHeader\r\n        },\r\n        props: {\r\n            header:  {\r\n                title: i18n.t('app.overview'),\r\n                buttons: [\r\n                    {\r\n                        to: { name: 'library.books.create' },\r\n                        variant: 'primary',\r\n                        icon: 'plus-circle',\r\n                        text: i18n.t('library.register_new_book'),\r\n                        show: can('create-books')\r\n                    },\r\n                    {\r\n                        to: { name: 'library.report' },\r\n                        icon: 'chart-pie',\r\n                        text: i18n.t('app.report'),\r\n                        show: can('view-books')\r\n                    },\r\n                    {\r\n                        to: { name: 'library.export' },\r\n                        icon: 'download',\r\n                        text: i18n.t('app.export'),\r\n                        show: can('operate-library')\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        children: [\r\n            {\r\n                path: '',\r\n                name: 'library.lending.index',\r\n                component: LendigSearch\r\n            },\r\n            {\r\n                path: 'borrowers',\r\n                name: 'library.lending.borrowers',\r\n                component: BorrowersTable\r\n            },\r\n            {\r\n                path: 'lent_books',\r\n                name: 'library.lending.lent_books',\r\n                component: LentBooksTable\r\n            },\r\n            {\r\n                path: '/books',\r\n                name: 'library.books.index',\r\n                component: BooksPage,\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        // Lending person (borrower)\r\n        path: '/lending/person/:personId',\r\n        name: 'library.lending.person',\r\n        components: {\r\n            default: LendingPersonPage,\r\n            header: PageHeader\r\n        },\r\n        props: {\r\n            default: true,\r\n            header: (route) => ({\r\n                title: i18n.t('people.person'),\r\n                buttons: [\r\n                    {\r\n                        href: ziggyRoute('people.show', route.params.personId),\r\n                        icon: 'users',\r\n                        text: i18n.t('people.view_person'),\r\n                        // TODO 'authorized' => Auth::user()->can('view', $person),\r\n                    },\r\n                    {\r\n                        to: { name: 'library.lending.index' },\r\n                        icon: 'times-circle',\r\n                        text: i18n.t('app.close'),\r\n                        show: can('operate-library')\r\n                    }\r\n                ]\r\n            })\r\n        }\r\n    },\r\n    {\r\n        // Lending book\r\n        path: '/lending/book/:bookId(\\\\d+)',\r\n        name: 'library.lending.book',\r\n        components: {\r\n            default: LendingBookPage,\r\n            header: PageHeader\r\n        },\r\n        props: {\r\n            default: true,\r\n            header: (route) => ({\r\n                title: i18n.t('library.book'),\r\n                buttons: [\r\n                    {\r\n                        to: { name: 'library.books.edit', params: { bookId: route.params.bookId } },\r\n                        icon: 'edit',\r\n                        text: i18n.t('app.edit'),\r\n                        variant: 'primary',\r\n                        show: can('operate-library')\r\n                        // TODO 'authorized' => Auth::user()->can('update', $book),\r\n                    },\r\n                    {\r\n                        to: { name: 'library.books.index' },\r\n                        icon: 'times-circle',\r\n                        text: i18n.t('app.close'),\r\n                        show: can('operate-library')\r\n                    }\r\n                ]\r\n            })\r\n        }\r\n    },\r\n    {\r\n        // Create book\r\n        path: '/books/create',\r\n        name: 'library.books.create',\r\n        components: {\r\n            default: BookRegisterPage,\r\n            header: PageHeader,\r\n        },\r\n        props: {\r\n            header: {\r\n                title: i18n.t('library.register_book'),\r\n                buttons: [\r\n                    {\r\n                        click: () => router.back(),\r\n                        icon: 'times-circle',\r\n                        text: i18n.t('app.cancel'),\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    {\r\n        // Edit book\r\n        path: '/books/:bookId(\\\\d+)/edit',\r\n        name: 'library.books.edit',\r\n        components: {\r\n            default: BookEditPage,\r\n            header: PageHeader,\r\n        },\r\n        props: {\r\n            default: true,\r\n            header: {\r\n                title: i18n.t('library.edit_book'),\r\n                buttons: [\r\n                    {\r\n                        click: () => router.back(),\r\n                        icon: 'times-circle',\r\n                        text: i18n.t('app.cancel'),\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    {\r\n        // Export\r\n        path: '/export',\r\n        name: 'library.export',\r\n        components: {\r\n            default: ExportPage,\r\n            header: PageHeader,\r\n        },\r\n        props: {\r\n            header: {\r\n                title: i18n.t('app.export'),\r\n                buttons: [\r\n                    {\r\n                        click: () => router.back(),\r\n                        icon: 'times-circle',\r\n                        text: i18n.t('app.close'),\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    {\r\n        // Report\r\n        path: '/report',\r\n        name: 'library.report',\r\n        components: {\r\n            default: ReportPage,\r\n            header: PageHeader,\r\n        },\r\n        props: {\r\n            header: {\r\n                title: i18n.t('app.report'),\r\n                buttons: [\r\n                    {\r\n                        click: () => router.back(),\r\n                        icon: 'times-circle',\r\n                        text: i18n.t('app.close'),\r\n                    }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    {\r\n        // Catch-all 404\r\n        path: '*',\r\n        component: NotFoundPage\r\n    }\r\n])\r\nexport default router\r\n","import Vue from 'vue'\r\n\r\nimport FontAwesomeIcon from '@/components/common/FontAwesomeIcon'\r\nVue.component('font-awesome-icon', FontAwesomeIcon)\r\n\r\nimport BootstrapVue from 'bootstrap-vue'\r\nVue.use(BootstrapVue)\r\n\r\nimport LibraryApp from '@/app/LibraryApp'\r\n\r\nimport store from '@/store'\r\n\r\nimport i18n from '@/plugins/i18n'\r\nimport router from '@/router/library'\r\n\r\nimport '@/plugins/vee-validate'\r\n\r\nimport ziggyMixin from '@/mixins/ziggyMixin'\r\nVue.mixin(ziggyMixin)\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n    el: '#library-app',\r\n    i18n,\r\n    router,\r\n    store,\r\n    components: {\r\n        LibraryApp\r\n    }\r\n})\r\n"],"sourceRoot":""}